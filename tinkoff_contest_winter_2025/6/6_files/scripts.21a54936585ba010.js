(function(le,Dt){"object"==typeof exports&&"object"==typeof module?module.exports=Dt():"function"==typeof define&&define.amd?define([],Dt):"object"==typeof exports?exports.katex=Dt():le.katex=Dt()})(typeof self<"u"?self:this,function(){return function(){"use strict";var le={d:function(l,o){for(var c in o)le.o(o,c)&&!le.o(l,c)&&Object.defineProperty(l,c,{enumerable:!0,get:o[c]})},o:function(l,o){return Object.prototype.hasOwnProperty.call(l,o)}},Dt={};le.d(Dt,{default:function(){return Ra}});class Pt{constructor(o,c){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let p,y,k="KaTeX parse error: "+o;const P=c&&c.loc;if(P&&P.start<=P.end){const N=P.lexer.input;p=P.start,y=P.end,k+=p===N.length?" at end of input: ":" at position "+(p+1)+": ";const j=N.slice(p,y).replace(/[^]/g,"$&\u0332");let X,G;X=p>15?"\u2026"+N.slice(p-15,p):N.slice(0,p),G=y+15<N.length?N.slice(y,y+15)+"\u2026":N.slice(y),k+=X+j+G}const x=new Error(k);return x.name="ParseError",x.__proto__=Pt.prototype,x.position=p,null!=p&&null!=y&&(x.length=y-p),x.rawMessage=o,x}}Pt.prototype.__proto__=Error.prototype;var ae=Pt;const Yn=/([A-Z])/g,xt={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Et=/[&><"']/g,Qt=function(l){return"ordgroup"===l.type||"color"===l.type?1===l.body.length?Qt(l.body[0]):l:"font"===l.type?Qt(l.body):l};var Se={contains:function(l,o){return-1!==l.indexOf(o)},deflt:function(l,o){return void 0===l?o:l},escape:function(l){return String(l).replace(Et,o=>xt[o])},hyphenate:function(l){return l.replace(Yn,"-$1").toLowerCase()},getBaseElem:Qt,isCharacterBox:function(l){const o=Qt(l);return"mathord"===o.type||"textord"===o.type||"atom"===o.type},protocolFromUrl:function(l){const o=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(l);return o?":"!==o[2]?null:/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(o[1])?o[1].toLowerCase():null:"_relative"}};const Vt={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:l=>"#"+l},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(l,o)=>(o.push(l),o)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:l=>Math.max(0,l),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:l=>Math.max(0,l),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:l=>Math.max(0,l),cli:"-e, --max-expand <n>",cliProcessor:l=>"Infinity"===l?1/0:parseInt(l)},globalGroup:{type:"boolean",cli:!1}};function dt(l){if(l.default)return l.default;const o=l.type,c=Array.isArray(o)?o[0]:o;if("string"!=typeof c)return c.enum[0];switch(c){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Ve{constructor(o){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,o=o||{};for(const c in Vt)if(Vt.hasOwnProperty(c)){const p=Vt[c];this[c]=void 0!==o[c]?p.processor?p.processor(o[c]):o[c]:dt(p)}}reportNonstrict(o,c,p){let y=this.strict;if("function"==typeof y&&(y=y(o,c,p)),y&&"ignore"!==y){if(!0===y||"error"===y)throw new ae("LaTeX-incompatible input and strict mode is set to 'error': "+c+" ["+o+"]",p);"warn"===y?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+c+" ["+o+"]"):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+y+"': "+c+" ["+o+"]")}}useStrictBehavior(o,c,p){let y=this.strict;if("function"==typeof y)try{y=y(o,c,p)}catch{y="error"}return!(!y||"ignore"===y||!0!==y&&"error"!==y&&("warn"===y?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+c+" ["+o+"]"),1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+y+"': "+c+" ["+o+"]"),1)))}isTrusted(o){if(o.url&&!o.protocol){const p=Se.protocolFromUrl(o.url);if(null==p)return!1;o.protocol=p}return!!("function"==typeof this.trust?this.trust(o):this.trust)}}class Re{constructor(o,c,p){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=o,this.size=c,this.cramped=p}sup(){return We[it[this.id]]}sub(){return We[xe[this.id]]}fracNum(){return We[ut[this.id]]}fracDen(){return We[Nt[this.id]]}cramp(){return We[pt[this.id]]}text(){return We[rt[this.id]]}isTight(){return this.size>=2}}const We=[new Re(0,0,!1),new Re(1,0,!0),new Re(2,1,!1),new Re(3,1,!0),new Re(4,2,!1),new Re(5,2,!0),new Re(6,3,!1),new Re(7,3,!0)],it=[4,5,4,5,6,7,6,7],xe=[5,5,5,5,7,7,7,7],ut=[2,3,4,5,6,7,6,7],Nt=[3,3,5,5,7,7,7,7],pt=[1,1,3,3,5,5,7,7],rt=[0,1,2,3,2,3,2,3];var ge={DISPLAY:We[0],TEXT:We[2],SCRIPT:We[4],SCRIPTSCRIPT:We[6]};const Pe=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],Fe=[];function De(l){for(let o=0;o<Fe.length;o+=2)if(l>=Fe[o]&&l<=Fe[o+1])return!0;return!1}Pe.forEach(l=>l.blocks.forEach(o=>Fe.push(...o)));const Pn={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};class On{constructor(o){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=o,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(o){return Se.contains(this.classes,o)}toNode(){const o=document.createDocumentFragment();for(let c=0;c<this.children.length;c++)o.appendChild(this.children[c].toNode());return o}toMarkup(){let o="";for(let c=0;c<this.children.length;c++)o+=this.children[c].toMarkup();return o}toText(){return this.children.map(o=>o.toText()).join("")}}var Ln={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const Mi={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},mi={\u00c5:"A",\u00d0:"D",\u00de:"o",\u00e5:"a",\u00f0:"d",\u00fe:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041a:"K",\u041b:"N",\u041c:"M",\u041d:"H",\u041e:"O",\u041f:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042a:"B",\u042b:"X",\u042c:"B",\u042d:"3",\u042e:"X",\u042f:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043a:"n",\u043b:"n",\u043c:"m",\u043d:"n",\u043e:"o",\u043f:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044a:"a",\u044b:"m",\u044c:"a",\u044d:"e",\u044e:"m",\u044f:"r"};function wr(l,o,c){if(!Ln[o])throw new Error("Font metrics not found for font: "+o+".");let p=l.charCodeAt(0),y=Ln[o][p];if(!y&&l[0]in mi&&(p=mi[l[0]].charCodeAt(0),y=Ln[o][p]),y||"text"!==c||De(p)&&(y=Ln[o][77]),y)return{depth:y[0],height:y[1],italic:y[2],skew:y[3],width:y[4]}}const gi={},Sr=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Pi=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],xr=function(l,o){return o.size<2?l:Sr[l-1][o.size-1]};class Wt{constructor(o){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=o.style,this.color=o.color,this.size=o.size||Wt.BASESIZE,this.textSize=o.textSize||this.size,this.phantom=!!o.phantom,this.font=o.font||"",this.fontFamily=o.fontFamily||"",this.fontWeight=o.fontWeight||"",this.fontShape=o.fontShape||"",this.sizeMultiplier=Pi[this.size-1],this.maxSize=o.maxSize,this.minRuleThickness=o.minRuleThickness,this._fontMetrics=void 0}extend(o){const c={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const p in o)o.hasOwnProperty(p)&&(c[p]=o[p]);return new Wt(c)}havingStyle(o){return this.style===o?this:this.extend({style:o,size:xr(this.textSize,o)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(o){return this.size===o&&this.textSize===o?this:this.extend({style:this.style.text(),size:o,textSize:o,sizeMultiplier:Pi[o-1]})}havingBaseStyle(o){o=o||this.style.text();const c=xr(Wt.BASESIZE,o);return this.size===c&&this.textSize===Wt.BASESIZE&&this.style===o?this:this.extend({style:o,size:c})}havingBaseSizing(){let o;switch(this.style.id){case 4:case 5:o=3;break;case 6:case 7:o=1;break;default:o=6}return this.extend({style:this.style.text(),size:o})}withColor(o){return this.extend({color:o})}withPhantom(){return this.extend({phantom:!0})}withFont(o){return this.extend({font:o})}withTextFontFamily(o){return this.extend({fontFamily:o,font:""})}withTextFontWeight(o){return this.extend({fontWeight:o,font:""})}withTextFontShape(o){return this.extend({fontShape:o,font:""})}sizingClasses(o){return o.size!==this.size?["sizing","reset-size"+o.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Wt.BASESIZE?["sizing","reset-size"+this.size,"size"+Wt.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=function(o){let c;if(c=o>=5?0:o>=3?1:2,!gi[c]){const p=gi[c]={cssEmPerMu:Mi.quad[c]/18};for(const y in Mi)Mi.hasOwnProperty(y)&&(p[y]=Mi[y][c])}return gi[c]}(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Wt.BASESIZE=6;var kr=Wt;const Oi={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},aa={ex:!0,em:!0,mu:!0},Vi=function(l){return"string"!=typeof l&&(l=l.unit),l in Oi||l in aa||"ex"===l},Ct=function(l,o){let c;if(l.unit in Oi)c=Oi[l.unit]/o.fontMetrics().ptPerEm/o.sizeMultiplier;else if("mu"===l.unit)c=o.fontMetrics().cssEmPerMu;else{let p;if(p=o.style.isTight()?o.havingStyle(o.style.text()):o,"ex"===l.unit)c=p.fontMetrics().xHeight;else{if("em"!==l.unit)throw new ae("Invalid unit: '"+l.unit+"'");c=p.fontMetrics().quad}p!==o&&(c*=p.sizeMultiplier/o.sizeMultiplier)}return Math.min(l.number*c,o.maxSize)},de=function(l){return+l.toFixed(4)+"em"},xi=function(l){return l.filter(o=>o).join(" ")},Ze=function(l,o,c){if(this.classes=l||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=c||{},o){o.style.isTight()&&this.classes.push("mtight");const p=o.getColor();p&&(this.style.color=p)}},ki=function(l){const o=document.createElement(l);o.className=xi(this.classes);for(const c in this.style)this.style.hasOwnProperty(c)&&(o.style[c]=this.style[c]);for(const c in this.attributes)this.attributes.hasOwnProperty(c)&&o.setAttribute(c,this.attributes[c]);for(let c=0;c<this.children.length;c++)o.appendChild(this.children[c].toNode());return o},Er=function(l){let o="<"+l;this.classes.length&&(o+=' class="'+Se.escape(xi(this.classes))+'"');let c="";for(const p in this.style)this.style.hasOwnProperty(p)&&(c+=Se.hyphenate(p)+":"+this.style[p]+";");c&&(o+=' style="'+Se.escape(c)+'"');for(const p in this.attributes)this.attributes.hasOwnProperty(p)&&(o+=" "+p+'="'+Se.escape(this.attributes[p])+'"');o+=">";for(let p=0;p<this.children.length;p++)o+=this.children[p].toMarkup();return o+="</"+l+">",o};class ei{constructor(o,c,p,y){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Ze.call(this,o,p,y),this.children=c||[]}setAttribute(o,c){this.attributes[o]=c}hasClass(o){return Se.contains(this.classes,o)}toNode(){return ki.call(this,"span")}toMarkup(){return Er.call(this,"span")}}class Q{constructor(o,c,p,y){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Ze.call(this,c,y),this.children=p||[],this.setAttribute("href",o)}setAttribute(o,c){this.attributes[o]=c}hasClass(o){return Se.contains(this.classes,o)}toNode(){return ki.call(this,"a")}toMarkup(){return Er.call(this,"a")}}class ve{constructor(o,c,p){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=c,this.src=o,this.classes=["mord"],this.style=p}hasClass(o){return Se.contains(this.classes,o)}toNode(){const o=document.createElement("img");o.src=this.src,o.alt=this.alt,o.className="mord";for(const c in this.style)this.style.hasOwnProperty(c)&&(o.style[c]=this.style[c]);return o}toMarkup(){let o='<img src="'+Se.escape(this.src)+'" alt="'+Se.escape(this.alt)+'"',c="";for(const p in this.style)this.style.hasOwnProperty(p)&&(c+=Se.hyphenate(p)+":"+this.style[p]+";");return c&&(o+=' style="'+Se.escape(c)+'"'),o+="'/>",o}}const we={\u00ee:"\u0131\u0302",\u00ef:"\u0131\u0308",\u00ed:"\u0131\u0301",\u00ec:"\u0131\u0300"};class Ae{constructor(o,c,p,y,k,P,x,N){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=o,this.height=c||0,this.depth=p||0,this.italic=y||0,this.skew=k||0,this.width=P||0,this.classes=x||[],this.style=N||{},this.maxFontSize=0;const j=function(X){for(let G=0;G<Pe.length;G++){const V=Pe[G];for(let J=0;J<V.blocks.length;J++){const ue=V.blocks[J];if(X>=ue[0]&&X<=ue[1])return V.name}}return null}(this.text.charCodeAt(0));j&&this.classes.push(j+"_fallback"),/[\xee\xef\xed\xec]/.test(this.text)&&(this.text=we[this.text])}hasClass(o){return Se.contains(this.classes,o)}toNode(){const o=document.createTextNode(this.text);let c=null;this.italic>0&&(c=document.createElement("span"),c.style.marginRight=de(this.italic)),this.classes.length>0&&(c=c||document.createElement("span"),c.className=xi(this.classes));for(const p in this.style)this.style.hasOwnProperty(p)&&(c=c||document.createElement("span"),c.style[p]=this.style[p]);return c?(c.appendChild(o),c):o}toMarkup(){let o=!1,c="<span";this.classes.length&&(o=!0,c+=' class="',c+=Se.escape(xi(this.classes)),c+='"');let p="";this.italic>0&&(p+="margin-right:"+this.italic+"em;");for(const k in this.style)this.style.hasOwnProperty(k)&&(p+=Se.hyphenate(k)+":"+this.style[k]+";");p&&(o=!0,c+=' style="'+Se.escape(p)+'"');const y=Se.escape(this.text);return o?(c+=">",c+=y,c+="</span>",c):y}}class Ce{constructor(o,c){this.children=void 0,this.attributes=void 0,this.children=o||[],this.attributes=c||{}}toNode(){const o=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const c in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,c)&&o.setAttribute(c,this.attributes[c]);for(let c=0;c<this.children.length;c++)o.appendChild(this.children[c].toNode());return o}toMarkup(){let o='<svg xmlns="http://www.w3.org/2000/svg"';for(const c in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,c)&&(o+=" "+c+'="'+Se.escape(this.attributes[c])+'"');o+=">";for(let c=0;c<this.children.length;c++)o+=this.children[c].toMarkup();return o+="</svg>",o}}class ze{constructor(o,c){this.pathName=void 0,this.alternate=void 0,this.pathName=o,this.alternate=c}toNode(){const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d",this.alternate?this.alternate:Pn[this.pathName]),o}toMarkup(){return this.alternate?'<path d="'+Se.escape(this.alternate)+'"/>':'<path d="'+Se.escape(Pn[this.pathName])+'"/>'}}class Rt{constructor(o){this.attributes=void 0,this.attributes=o||{}}toNode(){const o=document.createElementNS("http://www.w3.org/2000/svg","line");for(const c in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,c)&&o.setAttribute(c,this.attributes[c]);return o}toMarkup(){let o="<line";for(const c in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,c)&&(o+=" "+c+'="'+Se.escape(this.attributes[c])+'"');return o+="/>",o}}function fe(l){if(l instanceof Ae)return l;throw new Error("Expected symbolNode but got "+String(l)+".")}const nn={bin:1,close:1,inner:1,open:1,punct:1,rel:1},En={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},kt={math:{},text:{}};var Be=kt;function v(l,o,c,p,y,k){kt[l][y]={font:o,group:c,replace:p},k&&p&&(kt[l][p]=kt[l][y])}const S="math",ie="text",A="main",U="ams",gt="accent-token",re="bin",Bt="close",At="inner",_e="mathord",at="op-token",wn="open",Li="punct",F="rel",Un="spacing",H="textord";v(S,A,F,"\u2261","\\equiv",!0),v(S,A,F,"\u227a","\\prec",!0),v(S,A,F,"\u227b","\\succ",!0),v(S,A,F,"\u223c","\\sim",!0),v(S,A,F,"\u22a5","\\perp"),v(S,A,F,"\u2aaf","\\preceq",!0),v(S,A,F,"\u2ab0","\\succeq",!0),v(S,A,F,"\u2243","\\simeq",!0),v(S,A,F,"\u2223","\\mid",!0),v(S,A,F,"\u226a","\\ll",!0),v(S,A,F,"\u226b","\\gg",!0),v(S,A,F,"\u224d","\\asymp",!0),v(S,A,F,"\u2225","\\parallel"),v(S,A,F,"\u22c8","\\bowtie",!0),v(S,A,F,"\u2323","\\smile",!0),v(S,A,F,"\u2291","\\sqsubseteq",!0),v(S,A,F,"\u2292","\\sqsupseteq",!0),v(S,A,F,"\u2250","\\doteq",!0),v(S,A,F,"\u2322","\\frown",!0),v(S,A,F,"\u220b","\\ni",!0),v(S,A,F,"\u221d","\\propto",!0),v(S,A,F,"\u22a2","\\vdash",!0),v(S,A,F,"\u22a3","\\dashv",!0),v(S,A,F,"\u220b","\\owns"),v(S,A,Li,".","\\ldotp"),v(S,A,Li,"\u22c5","\\cdotp"),v(S,A,H,"#","\\#"),v(ie,A,H,"#","\\#"),v(S,A,H,"&","\\&"),v(ie,A,H,"&","\\&"),v(S,A,H,"\u2135","\\aleph",!0),v(S,A,H,"\u2200","\\forall",!0),v(S,A,H,"\u210f","\\hbar",!0),v(S,A,H,"\u2203","\\exists",!0),v(S,A,H,"\u2207","\\nabla",!0),v(S,A,H,"\u266d","\\flat",!0),v(S,A,H,"\u2113","\\ell",!0),v(S,A,H,"\u266e","\\natural",!0),v(S,A,H,"\u2663","\\clubsuit",!0),v(S,A,H,"\u2118","\\wp",!0),v(S,A,H,"\u266f","\\sharp",!0),v(S,A,H,"\u2662","\\diamondsuit",!0),v(S,A,H,"\u211c","\\Re",!0),v(S,A,H,"\u2661","\\heartsuit",!0),v(S,A,H,"\u2111","\\Im",!0),v(S,A,H,"\u2660","\\spadesuit",!0),v(S,A,H,"\xa7","\\S",!0),v(ie,A,H,"\xa7","\\S"),v(S,A,H,"\xb6","\\P",!0),v(ie,A,H,"\xb6","\\P"),v(S,A,H,"\u2020","\\dag"),v(ie,A,H,"\u2020","\\dag"),v(ie,A,H,"\u2020","\\textdagger"),v(S,A,H,"\u2021","\\ddag"),v(ie,A,H,"\u2021","\\ddag"),v(ie,A,H,"\u2021","\\textdaggerdbl"),v(S,A,Bt,"\u23b1","\\rmoustache",!0),v(S,A,wn,"\u23b0","\\lmoustache",!0),v(S,A,Bt,"\u27ef","\\rgroup",!0),v(S,A,wn,"\u27ee","\\lgroup",!0),v(S,A,re,"\u2213","\\mp",!0),v(S,A,re,"\u2296","\\ominus",!0),v(S,A,re,"\u228e","\\uplus",!0),v(S,A,re,"\u2293","\\sqcap",!0),v(S,A,re,"\u2217","\\ast"),v(S,A,re,"\u2294","\\sqcup",!0),v(S,A,re,"\u25ef","\\bigcirc",!0),v(S,A,re,"\u2219","\\bullet",!0),v(S,A,re,"\u2021","\\ddagger"),v(S,A,re,"\u2240","\\wr",!0),v(S,A,re,"\u2a3f","\\amalg"),v(S,A,re,"&","\\And"),v(S,A,F,"\u27f5","\\longleftarrow",!0),v(S,A,F,"\u21d0","\\Leftarrow",!0),v(S,A,F,"\u27f8","\\Longleftarrow",!0),v(S,A,F,"\u27f6","\\longrightarrow",!0),v(S,A,F,"\u21d2","\\Rightarrow",!0),v(S,A,F,"\u27f9","\\Longrightarrow",!0),v(S,A,F,"\u2194","\\leftrightarrow",!0),v(S,A,F,"\u27f7","\\longleftrightarrow",!0),v(S,A,F,"\u21d4","\\Leftrightarrow",!0),v(S,A,F,"\u27fa","\\Longleftrightarrow",!0),v(S,A,F,"\u21a6","\\mapsto",!0),v(S,A,F,"\u27fc","\\longmapsto",!0),v(S,A,F,"\u2197","\\nearrow",!0),v(S,A,F,"\u21a9","\\hookleftarrow",!0),v(S,A,F,"\u21aa","\\hookrightarrow",!0),v(S,A,F,"\u2198","\\searrow",!0),v(S,A,F,"\u21bc","\\leftharpoonup",!0),v(S,A,F,"\u21c0","\\rightharpoonup",!0),v(S,A,F,"\u2199","\\swarrow",!0),v(S,A,F,"\u21bd","\\leftharpoondown",!0),v(S,A,F,"\u21c1","\\rightharpoondown",!0),v(S,A,F,"\u2196","\\nwarrow",!0),v(S,A,F,"\u21cc","\\rightleftharpoons",!0),v(S,U,F,"\u226e","\\nless",!0),v(S,U,F,"\ue010","\\@nleqslant"),v(S,U,F,"\ue011","\\@nleqq"),v(S,U,F,"\u2a87","\\lneq",!0),v(S,U,F,"\u2268","\\lneqq",!0),v(S,U,F,"\ue00c","\\@lvertneqq"),v(S,U,F,"\u22e6","\\lnsim",!0),v(S,U,F,"\u2a89","\\lnapprox",!0),v(S,U,F,"\u2280","\\nprec",!0),v(S,U,F,"\u22e0","\\npreceq",!0),v(S,U,F,"\u22e8","\\precnsim",!0),v(S,U,F,"\u2ab9","\\precnapprox",!0),v(S,U,F,"\u2241","\\nsim",!0),v(S,U,F,"\ue006","\\@nshortmid"),v(S,U,F,"\u2224","\\nmid",!0),v(S,U,F,"\u22ac","\\nvdash",!0),v(S,U,F,"\u22ad","\\nvDash",!0),v(S,U,F,"\u22ea","\\ntriangleleft"),v(S,U,F,"\u22ec","\\ntrianglelefteq",!0),v(S,U,F,"\u228a","\\subsetneq",!0),v(S,U,F,"\ue01a","\\@varsubsetneq"),v(S,U,F,"\u2acb","\\subsetneqq",!0),v(S,U,F,"\ue017","\\@varsubsetneqq"),v(S,U,F,"\u226f","\\ngtr",!0),v(S,U,F,"\ue00f","\\@ngeqslant"),v(S,U,F,"\ue00e","\\@ngeqq"),v(S,U,F,"\u2a88","\\gneq",!0),v(S,U,F,"\u2269","\\gneqq",!0),v(S,U,F,"\ue00d","\\@gvertneqq"),v(S,U,F,"\u22e7","\\gnsim",!0),v(S,U,F,"\u2a8a","\\gnapprox",!0),v(S,U,F,"\u2281","\\nsucc",!0),v(S,U,F,"\u22e1","\\nsucceq",!0),v(S,U,F,"\u22e9","\\succnsim",!0),v(S,U,F,"\u2aba","\\succnapprox",!0),v(S,U,F,"\u2246","\\ncong",!0),v(S,U,F,"\ue007","\\@nshortparallel"),v(S,U,F,"\u2226","\\nparallel",!0),v(S,U,F,"\u22af","\\nVDash",!0),v(S,U,F,"\u22eb","\\ntriangleright"),v(S,U,F,"\u22ed","\\ntrianglerighteq",!0),v(S,U,F,"\ue018","\\@nsupseteqq"),v(S,U,F,"\u228b","\\supsetneq",!0),v(S,U,F,"\ue01b","\\@varsupsetneq"),v(S,U,F,"\u2acc","\\supsetneqq",!0),v(S,U,F,"\ue019","\\@varsupsetneqq"),v(S,U,F,"\u22ae","\\nVdash",!0),v(S,U,F,"\u2ab5","\\precneqq",!0),v(S,U,F,"\u2ab6","\\succneqq",!0),v(S,U,F,"\ue016","\\@nsubseteqq"),v(S,U,re,"\u22b4","\\unlhd"),v(S,U,re,"\u22b5","\\unrhd"),v(S,U,F,"\u219a","\\nleftarrow",!0),v(S,U,F,"\u219b","\\nrightarrow",!0),v(S,U,F,"\u21cd","\\nLeftarrow",!0),v(S,U,F,"\u21cf","\\nRightarrow",!0),v(S,U,F,"\u21ae","\\nleftrightarrow",!0),v(S,U,F,"\u21ce","\\nLeftrightarrow",!0),v(S,U,F,"\u25b3","\\vartriangle"),v(S,U,H,"\u210f","\\hslash"),v(S,U,H,"\u25bd","\\triangledown"),v(S,U,H,"\u25ca","\\lozenge"),v(S,U,H,"\u24c8","\\circledS"),v(S,U,H,"\xae","\\circledR"),v(ie,U,H,"\xae","\\circledR"),v(S,U,H,"\u2221","\\measuredangle",!0),v(S,U,H,"\u2204","\\nexists"),v(S,U,H,"\u2127","\\mho"),v(S,U,H,"\u2132","\\Finv",!0),v(S,U,H,"\u2141","\\Game",!0),v(S,U,H,"\u2035","\\backprime"),v(S,U,H,"\u25b2","\\blacktriangle"),v(S,U,H,"\u25bc","\\blacktriangledown"),v(S,U,H,"\u25a0","\\blacksquare"),v(S,U,H,"\u29eb","\\blacklozenge"),v(S,U,H,"\u2605","\\bigstar"),v(S,U,H,"\u2222","\\sphericalangle",!0),v(S,U,H,"\u2201","\\complement",!0),v(S,U,H,"\xf0","\\eth",!0),v(ie,A,H,"\xf0","\xf0"),v(S,U,H,"\u2571","\\diagup"),v(S,U,H,"\u2572","\\diagdown"),v(S,U,H,"\u25a1","\\square"),v(S,U,H,"\u25a1","\\Box"),v(S,U,H,"\u25ca","\\Diamond"),v(S,U,H,"\xa5","\\yen",!0),v(ie,U,H,"\xa5","\\yen",!0),v(S,U,H,"\u2713","\\checkmark",!0),v(ie,U,H,"\u2713","\\checkmark"),v(S,U,H,"\u2136","\\beth",!0),v(S,U,H,"\u2138","\\daleth",!0),v(S,U,H,"\u2137","\\gimel",!0),v(S,U,H,"\u03dd","\\digamma",!0),v(S,U,H,"\u03f0","\\varkappa"),v(S,U,wn,"\u250c","\\@ulcorner",!0),v(S,U,Bt,"\u2510","\\@urcorner",!0),v(S,U,wn,"\u2514","\\@llcorner",!0),v(S,U,Bt,"\u2518","\\@lrcorner",!0),v(S,U,F,"\u2266","\\leqq",!0),v(S,U,F,"\u2a7d","\\leqslant",!0),v(S,U,F,"\u2a95","\\eqslantless",!0),v(S,U,F,"\u2272","\\lesssim",!0),v(S,U,F,"\u2a85","\\lessapprox",!0),v(S,U,F,"\u224a","\\approxeq",!0),v(S,U,re,"\u22d6","\\lessdot"),v(S,U,F,"\u22d8","\\lll",!0),v(S,U,F,"\u2276","\\lessgtr",!0),v(S,U,F,"\u22da","\\lesseqgtr",!0),v(S,U,F,"\u2a8b","\\lesseqqgtr",!0),v(S,U,F,"\u2251","\\doteqdot"),v(S,U,F,"\u2253","\\risingdotseq",!0),v(S,U,F,"\u2252","\\fallingdotseq",!0),v(S,U,F,"\u223d","\\backsim",!0),v(S,U,F,"\u22cd","\\backsimeq",!0),v(S,U,F,"\u2ac5","\\subseteqq",!0),v(S,U,F,"\u22d0","\\Subset",!0),v(S,U,F,"\u228f","\\sqsubset",!0),v(S,U,F,"\u227c","\\preccurlyeq",!0),v(S,U,F,"\u22de","\\curlyeqprec",!0),v(S,U,F,"\u227e","\\precsim",!0),v(S,U,F,"\u2ab7","\\precapprox",!0),v(S,U,F,"\u22b2","\\vartriangleleft"),v(S,U,F,"\u22b4","\\trianglelefteq"),v(S,U,F,"\u22a8","\\vDash",!0),v(S,U,F,"\u22aa","\\Vvdash",!0),v(S,U,F,"\u2323","\\smallsmile"),v(S,U,F,"\u2322","\\smallfrown"),v(S,U,F,"\u224f","\\bumpeq",!0),v(S,U,F,"\u224e","\\Bumpeq",!0),v(S,U,F,"\u2267","\\geqq",!0),v(S,U,F,"\u2a7e","\\geqslant",!0),v(S,U,F,"\u2a96","\\eqslantgtr",!0),v(S,U,F,"\u2273","\\gtrsim",!0),v(S,U,F,"\u2a86","\\gtrapprox",!0),v(S,U,re,"\u22d7","\\gtrdot"),v(S,U,F,"\u22d9","\\ggg",!0),v(S,U,F,"\u2277","\\gtrless",!0),v(S,U,F,"\u22db","\\gtreqless",!0),v(S,U,F,"\u2a8c","\\gtreqqless",!0),v(S,U,F,"\u2256","\\eqcirc",!0),v(S,U,F,"\u2257","\\circeq",!0),v(S,U,F,"\u225c","\\triangleq",!0),v(S,U,F,"\u223c","\\thicksim"),v(S,U,F,"\u2248","\\thickapprox"),v(S,U,F,"\u2ac6","\\supseteqq",!0),v(S,U,F,"\u22d1","\\Supset",!0),v(S,U,F,"\u2290","\\sqsupset",!0),v(S,U,F,"\u227d","\\succcurlyeq",!0),v(S,U,F,"\u22df","\\curlyeqsucc",!0),v(S,U,F,"\u227f","\\succsim",!0),v(S,U,F,"\u2ab8","\\succapprox",!0),v(S,U,F,"\u22b3","\\vartriangleright"),v(S,U,F,"\u22b5","\\trianglerighteq"),v(S,U,F,"\u22a9","\\Vdash",!0),v(S,U,F,"\u2223","\\shortmid"),v(S,U,F,"\u2225","\\shortparallel"),v(S,U,F,"\u226c","\\between",!0),v(S,U,F,"\u22d4","\\pitchfork",!0),v(S,U,F,"\u221d","\\varpropto"),v(S,U,F,"\u25c0","\\blacktriangleleft"),v(S,U,F,"\u2234","\\therefore",!0),v(S,U,F,"\u220d","\\backepsilon"),v(S,U,F,"\u25b6","\\blacktriangleright"),v(S,U,F,"\u2235","\\because",!0),v(S,U,F,"\u22d8","\\llless"),v(S,U,F,"\u22d9","\\gggtr"),v(S,U,re,"\u22b2","\\lhd"),v(S,U,re,"\u22b3","\\rhd"),v(S,U,F,"\u2242","\\eqsim",!0),v(S,A,F,"\u22c8","\\Join"),v(S,U,F,"\u2251","\\Doteq",!0),v(S,U,re,"\u2214","\\dotplus",!0),v(S,U,re,"\u2216","\\smallsetminus"),v(S,U,re,"\u22d2","\\Cap",!0),v(S,U,re,"\u22d3","\\Cup",!0),v(S,U,re,"\u2a5e","\\doublebarwedge",!0),v(S,U,re,"\u229f","\\boxminus",!0),v(S,U,re,"\u229e","\\boxplus",!0),v(S,U,re,"\u22c7","\\divideontimes",!0),v(S,U,re,"\u22c9","\\ltimes",!0),v(S,U,re,"\u22ca","\\rtimes",!0),v(S,U,re,"\u22cb","\\leftthreetimes",!0),v(S,U,re,"\u22cc","\\rightthreetimes",!0),v(S,U,re,"\u22cf","\\curlywedge",!0),v(S,U,re,"\u22ce","\\curlyvee",!0),v(S,U,re,"\u229d","\\circleddash",!0),v(S,U,re,"\u229b","\\circledast",!0),v(S,U,re,"\u22c5","\\centerdot"),v(S,U,re,"\u22ba","\\intercal",!0),v(S,U,re,"\u22d2","\\doublecap"),v(S,U,re,"\u22d3","\\doublecup"),v(S,U,re,"\u22a0","\\boxtimes",!0),v(S,U,F,"\u21e2","\\dashrightarrow",!0),v(S,U,F,"\u21e0","\\dashleftarrow",!0),v(S,U,F,"\u21c7","\\leftleftarrows",!0),v(S,U,F,"\u21c6","\\leftrightarrows",!0),v(S,U,F,"\u21da","\\Lleftarrow",!0),v(S,U,F,"\u219e","\\twoheadleftarrow",!0),v(S,U,F,"\u21a2","\\leftarrowtail",!0),v(S,U,F,"\u21ab","\\looparrowleft",!0),v(S,U,F,"\u21cb","\\leftrightharpoons",!0),v(S,U,F,"\u21b6","\\curvearrowleft",!0),v(S,U,F,"\u21ba","\\circlearrowleft",!0),v(S,U,F,"\u21b0","\\Lsh",!0),v(S,U,F,"\u21c8","\\upuparrows",!0),v(S,U,F,"\u21bf","\\upharpoonleft",!0),v(S,U,F,"\u21c3","\\downharpoonleft",!0),v(S,A,F,"\u22b6","\\origof",!0),v(S,A,F,"\u22b7","\\imageof",!0),v(S,U,F,"\u22b8","\\multimap",!0),v(S,U,F,"\u21ad","\\leftrightsquigarrow",!0),v(S,U,F,"\u21c9","\\rightrightarrows",!0),v(S,U,F,"\u21c4","\\rightleftarrows",!0),v(S,U,F,"\u21a0","\\twoheadrightarrow",!0),v(S,U,F,"\u21a3","\\rightarrowtail",!0),v(S,U,F,"\u21ac","\\looparrowright",!0),v(S,U,F,"\u21b7","\\curvearrowright",!0),v(S,U,F,"\u21bb","\\circlearrowright",!0),v(S,U,F,"\u21b1","\\Rsh",!0),v(S,U,F,"\u21ca","\\downdownarrows",!0),v(S,U,F,"\u21be","\\upharpoonright",!0),v(S,U,F,"\u21c2","\\downharpoonright",!0),v(S,U,F,"\u21dd","\\rightsquigarrow",!0),v(S,U,F,"\u21dd","\\leadsto"),v(S,U,F,"\u21db","\\Rrightarrow",!0),v(S,U,F,"\u21be","\\restriction"),v(S,A,H,"\u2018","`"),v(S,A,H,"$","\\$"),v(ie,A,H,"$","\\$"),v(ie,A,H,"$","\\textdollar"),v(S,A,H,"%","\\%"),v(ie,A,H,"%","\\%"),v(S,A,H,"_","\\_"),v(ie,A,H,"_","\\_"),v(ie,A,H,"_","\\textunderscore"),v(S,A,H,"\u2220","\\angle",!0),v(S,A,H,"\u221e","\\infty",!0),v(S,A,H,"\u2032","\\prime"),v(S,A,H,"\u25b3","\\triangle"),v(S,A,H,"\u0393","\\Gamma",!0),v(S,A,H,"\u0394","\\Delta",!0),v(S,A,H,"\u0398","\\Theta",!0),v(S,A,H,"\u039b","\\Lambda",!0),v(S,A,H,"\u039e","\\Xi",!0),v(S,A,H,"\u03a0","\\Pi",!0),v(S,A,H,"\u03a3","\\Sigma",!0),v(S,A,H,"\u03a5","\\Upsilon",!0),v(S,A,H,"\u03a6","\\Phi",!0),v(S,A,H,"\u03a8","\\Psi",!0),v(S,A,H,"\u03a9","\\Omega",!0),v(S,A,H,"A","\u0391"),v(S,A,H,"B","\u0392"),v(S,A,H,"E","\u0395"),v(S,A,H,"Z","\u0396"),v(S,A,H,"H","\u0397"),v(S,A,H,"I","\u0399"),v(S,A,H,"K","\u039a"),v(S,A,H,"M","\u039c"),v(S,A,H,"N","\u039d"),v(S,A,H,"O","\u039f"),v(S,A,H,"P","\u03a1"),v(S,A,H,"T","\u03a4"),v(S,A,H,"X","\u03a7"),v(S,A,H,"\xac","\\neg",!0),v(S,A,H,"\xac","\\lnot"),v(S,A,H,"\u22a4","\\top"),v(S,A,H,"\u22a5","\\bot"),v(S,A,H,"\u2205","\\emptyset"),v(S,U,H,"\u2205","\\varnothing"),v(S,A,_e,"\u03b1","\\alpha",!0),v(S,A,_e,"\u03b2","\\beta",!0),v(S,A,_e,"\u03b3","\\gamma",!0),v(S,A,_e,"\u03b4","\\delta",!0),v(S,A,_e,"\u03f5","\\epsilon",!0),v(S,A,_e,"\u03b6","\\zeta",!0),v(S,A,_e,"\u03b7","\\eta",!0),v(S,A,_e,"\u03b8","\\theta",!0),v(S,A,_e,"\u03b9","\\iota",!0),v(S,A,_e,"\u03ba","\\kappa",!0),v(S,A,_e,"\u03bb","\\lambda",!0),v(S,A,_e,"\u03bc","\\mu",!0),v(S,A,_e,"\u03bd","\\nu",!0),v(S,A,_e,"\u03be","\\xi",!0),v(S,A,_e,"\u03bf","\\omicron",!0),v(S,A,_e,"\u03c0","\\pi",!0),v(S,A,_e,"\u03c1","\\rho",!0),v(S,A,_e,"\u03c3","\\sigma",!0),v(S,A,_e,"\u03c4","\\tau",!0),v(S,A,_e,"\u03c5","\\upsilon",!0),v(S,A,_e,"\u03d5","\\phi",!0),v(S,A,_e,"\u03c7","\\chi",!0),v(S,A,_e,"\u03c8","\\psi",!0),v(S,A,_e,"\u03c9","\\omega",!0),v(S,A,_e,"\u03b5","\\varepsilon",!0),v(S,A,_e,"\u03d1","\\vartheta",!0),v(S,A,_e,"\u03d6","\\varpi",!0),v(S,A,_e,"\u03f1","\\varrho",!0),v(S,A,_e,"\u03c2","\\varsigma",!0),v(S,A,_e,"\u03c6","\\varphi",!0),v(S,A,re,"\u2217","*",!0),v(S,A,re,"+","+"),v(S,A,re,"\u2212","-",!0),v(S,A,re,"\u22c5","\\cdot",!0),v(S,A,re,"\u2218","\\circ",!0),v(S,A,re,"\xf7","\\div",!0),v(S,A,re,"\xb1","\\pm",!0),v(S,A,re,"\xd7","\\times",!0),v(S,A,re,"\u2229","\\cap",!0),v(S,A,re,"\u222a","\\cup",!0),v(S,A,re,"\u2216","\\setminus",!0),v(S,A,re,"\u2227","\\land"),v(S,A,re,"\u2228","\\lor"),v(S,A,re,"\u2227","\\wedge",!0),v(S,A,re,"\u2228","\\vee",!0),v(S,A,H,"\u221a","\\surd"),v(S,A,wn,"\u27e8","\\langle",!0),v(S,A,wn,"\u2223","\\lvert"),v(S,A,wn,"\u2225","\\lVert"),v(S,A,Bt,"?","?"),v(S,A,Bt,"!","!"),v(S,A,Bt,"\u27e9","\\rangle",!0),v(S,A,Bt,"\u2223","\\rvert"),v(S,A,Bt,"\u2225","\\rVert"),v(S,A,F,"=","="),v(S,A,F,":",":"),v(S,A,F,"\u2248","\\approx",!0),v(S,A,F,"\u2245","\\cong",!0),v(S,A,F,"\u2265","\\ge"),v(S,A,F,"\u2265","\\geq",!0),v(S,A,F,"\u2190","\\gets"),v(S,A,F,">","\\gt",!0),v(S,A,F,"\u2208","\\in",!0),v(S,A,F,"\ue020","\\@not"),v(S,A,F,"\u2282","\\subset",!0),v(S,A,F,"\u2283","\\supset",!0),v(S,A,F,"\u2286","\\subseteq",!0),v(S,A,F,"\u2287","\\supseteq",!0),v(S,U,F,"\u2288","\\nsubseteq",!0),v(S,U,F,"\u2289","\\nsupseteq",!0),v(S,A,F,"\u22a8","\\models"),v(S,A,F,"\u2190","\\leftarrow",!0),v(S,A,F,"\u2264","\\le"),v(S,A,F,"\u2264","\\leq",!0),v(S,A,F,"<","\\lt",!0),v(S,A,F,"\u2192","\\rightarrow",!0),v(S,A,F,"\u2192","\\to"),v(S,U,F,"\u2271","\\ngeq",!0),v(S,U,F,"\u2270","\\nleq",!0),v(S,A,Un,"\xa0","\\ "),v(S,A,Un,"\xa0","\\space"),v(S,A,Un,"\xa0","\\nobreakspace"),v(ie,A,Un,"\xa0","\\ "),v(ie,A,Un,"\xa0"," "),v(ie,A,Un,"\xa0","\\space"),v(ie,A,Un,"\xa0","\\nobreakspace"),v(S,A,Un,null,"\\nobreak"),v(S,A,Un,null,"\\allowbreak"),v(S,A,Li,",",","),v(S,A,Li,";",";"),v(S,U,re,"\u22bc","\\barwedge",!0),v(S,U,re,"\u22bb","\\veebar",!0),v(S,A,re,"\u2299","\\odot",!0),v(S,A,re,"\u2295","\\oplus",!0),v(S,A,re,"\u2297","\\otimes",!0),v(S,A,H,"\u2202","\\partial",!0),v(S,A,re,"\u2298","\\oslash",!0),v(S,U,re,"\u229a","\\circledcirc",!0),v(S,U,re,"\u22a1","\\boxdot",!0),v(S,A,re,"\u25b3","\\bigtriangleup"),v(S,A,re,"\u25bd","\\bigtriangledown"),v(S,A,re,"\u2020","\\dagger"),v(S,A,re,"\u22c4","\\diamond"),v(S,A,re,"\u22c6","\\star"),v(S,A,re,"\u25c3","\\triangleleft"),v(S,A,re,"\u25b9","\\triangleright"),v(S,A,wn,"{","\\{"),v(ie,A,H,"{","\\{"),v(ie,A,H,"{","\\textbraceleft"),v(S,A,Bt,"}","\\}"),v(ie,A,H,"}","\\}"),v(ie,A,H,"}","\\textbraceright"),v(S,A,wn,"{","\\lbrace"),v(S,A,Bt,"}","\\rbrace"),v(S,A,wn,"[","\\lbrack",!0),v(ie,A,H,"[","\\lbrack",!0),v(S,A,Bt,"]","\\rbrack",!0),v(ie,A,H,"]","\\rbrack",!0),v(S,A,wn,"(","\\lparen",!0),v(S,A,Bt,")","\\rparen",!0),v(ie,A,H,"<","\\textless",!0),v(ie,A,H,">","\\textgreater",!0),v(S,A,wn,"\u230a","\\lfloor",!0),v(S,A,Bt,"\u230b","\\rfloor",!0),v(S,A,wn,"\u2308","\\lceil",!0),v(S,A,Bt,"\u2309","\\rceil",!0),v(S,A,H,"\\","\\backslash"),v(S,A,H,"\u2223","|"),v(S,A,H,"\u2223","\\vert"),v(ie,A,H,"|","\\textbar",!0),v(S,A,H,"\u2225","\\|"),v(S,A,H,"\u2225","\\Vert"),v(ie,A,H,"\u2225","\\textbardbl"),v(ie,A,H,"~","\\textasciitilde"),v(ie,A,H,"\\","\\textbackslash"),v(ie,A,H,"^","\\textasciicircum"),v(S,A,F,"\u2191","\\uparrow",!0),v(S,A,F,"\u21d1","\\Uparrow",!0),v(S,A,F,"\u2193","\\downarrow",!0),v(S,A,F,"\u21d3","\\Downarrow",!0),v(S,A,F,"\u2195","\\updownarrow",!0),v(S,A,F,"\u21d5","\\Updownarrow",!0),v(S,A,at,"\u2210","\\coprod"),v(S,A,at,"\u22c1","\\bigvee"),v(S,A,at,"\u22c0","\\bigwedge"),v(S,A,at,"\u2a04","\\biguplus"),v(S,A,at,"\u22c2","\\bigcap"),v(S,A,at,"\u22c3","\\bigcup"),v(S,A,at,"\u222b","\\int"),v(S,A,at,"\u222b","\\intop"),v(S,A,at,"\u222c","\\iint"),v(S,A,at,"\u222d","\\iiint"),v(S,A,at,"\u220f","\\prod"),v(S,A,at,"\u2211","\\sum"),v(S,A,at,"\u2a02","\\bigotimes"),v(S,A,at,"\u2a01","\\bigoplus"),v(S,A,at,"\u2a00","\\bigodot"),v(S,A,at,"\u222e","\\oint"),v(S,A,at,"\u222f","\\oiint"),v(S,A,at,"\u2230","\\oiiint"),v(S,A,at,"\u2a06","\\bigsqcup"),v(S,A,at,"\u222b","\\smallint"),v(ie,A,At,"\u2026","\\textellipsis"),v(S,A,At,"\u2026","\\mathellipsis"),v(ie,A,At,"\u2026","\\ldots",!0),v(S,A,At,"\u2026","\\ldots",!0),v(S,A,At,"\u22ef","\\@cdots",!0),v(S,A,At,"\u22f1","\\ddots",!0),v(S,A,H,"\u22ee","\\varvdots"),v(S,A,gt,"\u02ca","\\acute"),v(S,A,gt,"\u02cb","\\grave"),v(S,A,gt,"\xa8","\\ddot"),v(S,A,gt,"~","\\tilde"),v(S,A,gt,"\u02c9","\\bar"),v(S,A,gt,"\u02d8","\\breve"),v(S,A,gt,"\u02c7","\\check"),v(S,A,gt,"^","\\hat"),v(S,A,gt,"\u20d7","\\vec"),v(S,A,gt,"\u02d9","\\dot"),v(S,A,gt,"\u02da","\\mathring"),v(S,A,_e,"\ue131","\\@imath"),v(S,A,_e,"\ue237","\\@jmath"),v(S,A,H,"\u0131","\u0131"),v(S,A,H,"\u0237","\u0237"),v(ie,A,H,"\u0131","\\i",!0),v(ie,A,H,"\u0237","\\j",!0),v(ie,A,H,"\xdf","\\ss",!0),v(ie,A,H,"\xe6","\\ae",!0),v(ie,A,H,"\u0153","\\oe",!0),v(ie,A,H,"\xf8","\\o",!0),v(ie,A,H,"\xc6","\\AE",!0),v(ie,A,H,"\u0152","\\OE",!0),v(ie,A,H,"\xd8","\\O",!0),v(ie,A,gt,"\u02ca","\\'"),v(ie,A,gt,"\u02cb","\\`"),v(ie,A,gt,"\u02c6","\\^"),v(ie,A,gt,"\u02dc","\\~"),v(ie,A,gt,"\u02c9","\\="),v(ie,A,gt,"\u02d8","\\u"),v(ie,A,gt,"\u02d9","\\."),v(ie,A,gt,"\xb8","\\c"),v(ie,A,gt,"\u02da","\\r"),v(ie,A,gt,"\u02c7","\\v"),v(ie,A,gt,"\xa8",'\\"'),v(ie,A,gt,"\u02dd","\\H"),v(ie,A,gt,"\u25ef","\\textcircled");const Ge={"--":!0,"---":!0,"``":!0,"''":!0};v(ie,A,H,"\u2013","--",!0),v(ie,A,H,"\u2013","\\textendash"),v(ie,A,H,"\u2014","---",!0),v(ie,A,H,"\u2014","\\textemdash"),v(ie,A,H,"\u2018","`",!0),v(ie,A,H,"\u2018","\\textquoteleft"),v(ie,A,H,"\u2019","'",!0),v(ie,A,H,"\u2019","\\textquoteright"),v(ie,A,H,"\u201c","``",!0),v(ie,A,H,"\u201c","\\textquotedblleft"),v(ie,A,H,"\u201d","''",!0),v(ie,A,H,"\u201d","\\textquotedblright"),v(S,A,H,"\xb0","\\degree",!0),v(ie,A,H,"\xb0","\\degree"),v(ie,A,H,"\xb0","\\textdegree",!0),v(S,A,H,"\xa3","\\pounds"),v(S,A,H,"\xa3","\\mathsterling",!0),v(ie,A,H,"\xa3","\\pounds"),v(ie,A,H,"\xa3","\\textsterling",!0),v(S,U,H,"\u2720","\\maltese"),v(ie,U,H,"\u2720","\\maltese");for(let l=0;l<14;l++){const o='0123456789/@."'.charAt(l);v(S,A,H,o,o)}for(let l=0;l<25;l++){const o='0123456789!@*()-=+";:?/.,'.charAt(l);v(ie,A,H,o,o)}const Gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let l=0;l<52;l++){const o=Gt.charAt(l);v(S,A,_e,o,o),v(ie,A,H,o,o)}v(S,U,H,"C","\u2102"),v(ie,U,H,"C","\u2102"),v(S,U,H,"H","\u210d"),v(ie,U,H,"H","\u210d"),v(S,U,H,"N","\u2115"),v(ie,U,H,"N","\u2115"),v(S,U,H,"P","\u2119"),v(ie,U,H,"P","\u2119"),v(S,U,H,"Q","\u211a"),v(ie,U,H,"Q","\u211a"),v(S,U,H,"R","\u211d"),v(ie,U,H,"R","\u211d"),v(S,U,H,"Z","\u2124"),v(ie,U,H,"Z","\u2124"),v(S,A,_e,"h","\u210e"),v(ie,A,_e,"h","\u210e");let Ue="";for(let l=0;l<52;l++){const o=Gt.charAt(l);Ue=String.fromCharCode(55349,56320+l),v(S,A,_e,o,Ue),v(ie,A,H,o,Ue),Ue=String.fromCharCode(55349,56372+l),v(S,A,_e,o,Ue),v(ie,A,H,o,Ue),Ue=String.fromCharCode(55349,56424+l),v(S,A,_e,o,Ue),v(ie,A,H,o,Ue),Ue=String.fromCharCode(55349,56580+l),v(S,A,_e,o,Ue),v(ie,A,H,o,Ue),Ue=String.fromCharCode(55349,56684+l),v(S,A,_e,o,Ue),v(ie,A,H,o,Ue),Ue=String.fromCharCode(55349,56736+l),v(S,A,_e,o,Ue),v(ie,A,H,o,Ue),Ue=String.fromCharCode(55349,56788+l),v(S,A,_e,o,Ue),v(ie,A,H,o,Ue),Ue=String.fromCharCode(55349,56840+l),v(S,A,_e,o,Ue),v(ie,A,H,o,Ue),Ue=String.fromCharCode(55349,56944+l),v(S,A,_e,o,Ue),v(ie,A,H,o,Ue),l<26&&(Ue=String.fromCharCode(55349,56632+l),v(S,A,_e,o,Ue),v(ie,A,H,o,Ue),Ue=String.fromCharCode(55349,56476+l),v(S,A,_e,o,Ue),v(ie,A,H,o,Ue))}Ue="\u{1d55c}",v(S,A,_e,"k",Ue),v(ie,A,H,"k",Ue);for(let l=0;l<10;l++){const o=l.toString();Ue=String.fromCharCode(55349,57294+l),v(S,A,_e,o,Ue),v(ie,A,H,o,Ue),Ue=String.fromCharCode(55349,57314+l),v(S,A,_e,o,Ue),v(ie,A,H,o,Ue),Ue=String.fromCharCode(55349,57324+l),v(S,A,_e,o,Ue),v(ie,A,H,o,Ue),Ue=String.fromCharCode(55349,57334+l),v(S,A,_e,o,Ue),v(ie,A,H,o,Ue)}for(let l=0;l<3;l++){const o="\xd0\xde\xfe".charAt(l);v(S,A,_e,o,o),v(ie,A,H,o,o)}const tr=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Qs=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],sa=function(l,o,c){return Be[c][l]&&Be[c][l].replace&&(l=Be[c][l].replace),{value:l,metrics:wr(l,o,c)}},rn=function(l,o,c,p,y){const k=sa(l,o,c),P=k.metrics;let x;if(l=k.value,P){let N=P.italic;("text"===c||p&&"mathit"===p.font)&&(N=0),x=new Ae(l,P.height,P.depth,N,P.skew,P.width,y)}else typeof console<"u"&&console.warn("No character metrics for '"+l+"' in style '"+o+"' and mode '"+c+"'"),x=new Ae(l,0,0,0,0,0,y);if(p){x.maxFontSize=p.sizeMultiplier,p.style.isTight()&&x.classes.push("mtight");const N=p.getColor();N&&(x.style.color=N)}return x},Fn=(l,o)=>{if(xi(l.classes)!==xi(o.classes)||l.skew!==o.skew||l.maxFontSize!==o.maxFontSize)return!1;if(1===l.classes.length){const c=l.classes[0];if("mbin"===c||"mord"===c)return!1}for(const c in l.style)if(l.style.hasOwnProperty(c)&&l.style[c]!==o.style[c])return!1;for(const c in o.style)if(o.style.hasOwnProperty(c)&&l.style[c]!==o.style[c])return!1;return!0},Ki=function(l){let o=0,c=0,p=0;for(let y=0;y<l.children.length;y++){const k=l.children[y];k.height>o&&(o=k.height),k.depth>c&&(c=k.depth),k.maxFontSize>p&&(p=k.maxFontSize)}l.height=o,l.depth=c,l.maxFontSize=p},Dn=function(l,o,c,p){const y=new ei(l,o,c,p);return Ki(y),y},ss=(l,o,c,p)=>new ei(l,o,c,p),Xt=function(l){const o=new On(l);return Ki(o),o},yi=function(l,o,c){let p,y="";switch(l){case"amsrm":y="AMS";break;case"textrm":y="Main";break;case"textsf":y="SansSerif";break;case"texttt":y="Typewriter";break;default:y=l}return p="textbf"===o&&"textit"===c?"BoldItalic":"textbf"===o?"Bold":"textit"===o?"Italic":"Regular",y+"-"+p},Js={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},zn={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var $={fontMap:Js,makeSymbol:rn,mathsym:function(l,o,c,p){return void 0===p&&(p=[]),"boldsymbol"===c.font&&sa(l,"Main-Bold",o).metrics?rn(l,"Main-Bold",o,c,p.concat(["mathbf"])):"\\"===l||"main"===Be[o][l].font?rn(l,"Main-Regular",o,c,p):rn(l,"AMS-Regular",o,c,p.concat(["amsrm"]))},makeSpan:Dn,makeSvgSpan:ss,makeLineSpan:function(l,o,c){const p=Dn([l],[],o);return p.height=Math.max(c||o.fontMetrics().defaultRuleThickness,o.minRuleThickness),p.style.borderBottomWidth=de(p.height),p.maxFontSize=1,p},makeAnchor:function(l,o,c,p){const y=new Q(l,o,c,p);return Ki(y),y},makeFragment:Xt,wrapFragment:function(l,o){return l instanceof On?Dn([],[l],o):l},makeVList:function(l,o){const{children:c,depth:p}=function(J){if("individualShift"===J.positionType){const Ie=J.children,Oe=[Ie[0]],Qe=-Ie[0].shift-Ie[0].elem.depth;let ct=Qe;for(let $e=1;$e<Ie.length;$e++){const yt=-Ie[$e].shift-ct-Ie[$e].elem.depth;ct+=yt,Oe.push({type:"kern",size:yt-(Ie[$e-1].elem.height+Ie[$e-1].elem.depth)}),Oe.push(Ie[$e])}return{children:Oe,depth:Qe}}let ue;if("top"===J.positionType){let Ie=J.positionData;for(let Oe=0;Oe<J.children.length;Oe++){const Qe=J.children[Oe];Ie-="kern"===Qe.type?Qe.size:Qe.elem.height+Qe.elem.depth}ue=Ie}else if("bottom"===J.positionType)ue=-J.positionData;else{const Ie=J.children[0];if("elem"!==Ie.type)throw new Error('First child must have type "elem".');if("shift"===J.positionType)ue=-Ie.elem.depth-J.positionData;else{if("firstBaseline"!==J.positionType)throw new Error("Invalid positionType "+J.positionType+".");ue=-Ie.elem.depth}}return{children:J.children,depth:ue}}(l);let y=0;for(let J=0;J<c.length;J++){const ue=c[J];if("elem"===ue.type){const Ie=ue.elem;y=Math.max(y,Ie.maxFontSize,Ie.height)}}y+=2;const k=Dn(["pstrut"],[]);k.style.height=de(y);const P=[];let x=p,N=p,j=p;for(let J=0;J<c.length;J++){const ue=c[J];if("kern"===ue.type)j+=ue.size;else{const Ie=ue.elem,ct=Dn(ue.wrapperClasses||[],[k,Ie],void 0,ue.wrapperStyle||{});ct.style.top=de(-y-j-Ie.depth),ue.marginLeft&&(ct.style.marginLeft=ue.marginLeft),ue.marginRight&&(ct.style.marginRight=ue.marginRight),P.push(ct),j+=Ie.height+Ie.depth}x=Math.min(x,j),N=Math.max(N,j)}const X=Dn(["vlist"],P);let G;if(X.style.height=de(N),x<0){const J=Dn([],[]),ue=Dn(["vlist"],[J]);ue.style.height=de(-x);const Ie=Dn(["vlist-s"],[new Ae("\u200b")]);G=[Dn(["vlist-r"],[X,Ie]),Dn(["vlist-r"],[ue])]}else G=[Dn(["vlist-r"],[X])];const V=Dn(["vlist-t"],G);return 2===G.length&&V.classes.push("vlist-t2"),V.height=N,V.depth=-x,V},makeOrd:function(l,o,c){const p=l.mode,y=l.text,k=["mord"],P="math"===p||"text"===p&&o.font,x=P?o.font:o.fontFamily;let N="",j="";if(55349===y.charCodeAt(0)&&([N,j]=function(X,G){const V=1024*(X.charCodeAt(0)-55296)+(X.charCodeAt(1)-56320)+65536,J="math"===G?0:1;if(119808<=V&&V<120484){const ue=Math.floor((V-119808)/26);return[tr[ue][2],tr[ue][J]]}if(120782<=V&&V<=120831){const ue=Math.floor((V-120782)/10);return[Qs[ue][2],Qs[ue][J]]}if(120485===V||120486===V)return[tr[0][2],tr[0][J]];if(120486<V&&V<120782)return["",""];throw new ae("Unsupported character: "+X)}(y,p)),N.length>0)return rn(y,N,p,o,k.concat(j));if(x){let X,G;if("boldsymbol"===x){const V="textord"!==c&&sa(y,"Math-BoldItalic",p).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"};X=V.fontName,G=[V.fontClass]}else P?(X=Js[x].fontName,G=[x]):(X=yi(x,o.fontWeight,o.fontShape),G=[x,o.fontWeight,o.fontShape]);if(sa(y,X,p).metrics)return rn(y,X,p,o,k.concat(G));if(Ge.hasOwnProperty(y)&&"Typewriter"===X.slice(0,10)){const V=[];for(let J=0;J<y.length;J++)V.push(rn(y[J],X,p,o,k.concat(G)));return Xt(V)}}if("mathord"===c)return rn(y,"Math-Italic",p,o,k.concat(["mathnormal"]));if("textord"===c){const X=Be[p][y]&&Be[p][y].font;if("ams"===X){const G=yi("amsrm",o.fontWeight,o.fontShape);return rn(y,G,p,o,k.concat("amsrm",o.fontWeight,o.fontShape))}if("main"!==X&&X){const G=yi(X,o.fontWeight,o.fontShape);return rn(y,G,p,o,k.concat(G,o.fontWeight,o.fontShape))}{const G=yi("textrm",o.fontWeight,o.fontShape);return rn(y,G,p,o,k.concat(o.fontWeight,o.fontShape))}}throw new Error("unexpected type: "+c+" in makeOrd")},makeGlue:(l,o)=>{const c=Dn(["mspace"],[],o),p=Ct(l,o);return c.style.marginRight=de(p),c},staticSvg:function(l,o){const[c,p,y]=zn[l],k=new ze(c),P=new Ce([k],{width:de(p),height:de(y),style:"width:"+de(p),viewBox:"0 0 "+1e3*p+" "+1e3*y,preserveAspectRatio:"xMinYMin"}),x=ss(["overlay"],[P],o);return x.height=y,x.style.height=de(y),x.style.width=de(p),x},svgData:zn,tryCombineChars:l=>{for(let o=0;o<l.length-1;o++){const c=l[o],p=l[o+1];c instanceof Ae&&p instanceof Ae&&Fn(c,p)&&(c.text+=p.text,c.height=Math.max(c.height,p.height),c.depth=Math.max(c.depth,p.depth),c.italic=p.italic,l.splice(o+1,1),o--)}return l}};const an={number:3,unit:"mu"},Di={number:4,unit:"mu"},Ei={number:5,unit:"mu"},oa={mord:{mop:an,mbin:Di,mrel:Ei,minner:an},mop:{mord:an,mop:an,mrel:Ei,minner:an},mbin:{mord:Di,mop:Di,mopen:Di,minner:Di},mrel:{mord:Ei,mop:Ei,mopen:Ei,minner:Ei},mopen:{},mclose:{mop:an,mbin:Di,mrel:Ei,minner:an},mpunct:{mord:an,mop:an,mrel:Ei,mopen:an,mclose:an,mpunct:an,minner:an},minner:{mord:an,mop:an,mbin:Di,mrel:Ei,mopen:an,mpunct:an,minner:an}},Zs={mord:{mop:an},mop:{mord:an,mop:an},mbin:{},mrel:{},mopen:{},mclose:{mop:an},mpunct:{},minner:{mop:an}},os={},Cr={},Ni={};function me(l){let{type:o,names:c,props:p,handler:y,htmlBuilder:k,mathmlBuilder:P}=l;const x={type:o,numArgs:p.numArgs,argTypes:p.argTypes,allowedInArgument:!!p.allowedInArgument,allowedInText:!!p.allowedInText,allowedInMath:void 0===p.allowedInMath||p.allowedInMath,numOptionalArgs:p.numOptionalArgs||0,infix:!!p.infix,primitive:!!p.primitive,handler:y};for(let N=0;N<c.length;++N)os[c[N]]=x;o&&(k&&(Cr[o]=k),P&&(Ni[o]=P))}function nr(l){let{type:o,htmlBuilder:c,mathmlBuilder:p}=l;me({type:o,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:c,mathmlBuilder:p})}const Ar=function(l){return"ordgroup"===l.type&&1===l.body.length?l.body[0]:l},ln=function(l){return"ordgroup"===l.type?l.body:[l]},Ri=$.makeSpan,ua=["leftmost","mbin","mopen","mrel","mop","mpunct"],cn=["rightmost","mrel","mclose","mpunct"],Yt={display:ge.DISPLAY,text:ge.TEXT,script:ge.SCRIPT,scriptscript:ge.SCRIPTSCRIPT},uu={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},dn=function(l,o,c,p){void 0===p&&(p=[null,null]);const y=[];for(let j=0;j<l.length;j++){const X=ft(l[j],o);X instanceof On?y.push(...X.children):y.push(X)}if($.tryCombineChars(y),!c)return y;let k=o;if(1===l.length){const j=l[0];"sizing"===j.type?k=o.havingSize(j.size):"styling"===j.type&&(k=o.havingStyle(Yt[j.style]))}const P=Ri([p[0]||"leftmost"],[],o),x=Ri([p[1]||"rightmost"],[],o),N="root"===c;return He(y,(j,X)=>{const G=X.classes[0],V=j.classes[0];"mbin"===G&&Se.contains(cn,V)?X.classes[0]="mord":"mbin"===V&&Se.contains(ua,G)&&(j.classes[0]="mord")},{node:P},x,N),He(y,(j,X)=>{const G=he(X),V=he(j),J=G&&V?j.hasClass("mtight")?Zs[G][V]:oa[G][V]:null;if(J)return $.makeGlue(J,k)},{node:P},x,N),y},He=function(l,o,c,p,y){p&&l.push(p);let k=0;for(;k<l.length;k++){const P=l[k],x=se(P);if(x){He(x.children,o,c,null,y);continue}const N=!P.hasClass("mspace");if(N){const j=o(P,c.node);j&&(c.insertAfter?c.insertAfter(j):(l.unshift(j),k++))}N?c.node=P:y&&P.hasClass("newline")&&(c.node=Ri(["leftmost"])),c.insertAfter=(j=>X=>{l.splice(j+1,0,X),k++})(k)}p&&l.pop()},se=function(l){return l instanceof On||l instanceof Q||l instanceof ei&&l.hasClass("enclosing")?l:null},Ke=function(l,o){const c=se(l);if(c){const p=c.children;if(p.length){if("right"===o)return Ke(p[p.length-1],"right");if("left"===o)return Ke(p[0],"left")}}return l},he=function(l,o){return l?(o&&(l=Ke(l,o)),uu[l.classes[0]]||null):null},Ir=function(l,o){const c=["nulldelimiter"].concat(l.baseSizingClasses());return Ri(o.concat(c))},ft=function(l,o,c){if(!l)return Ri();if(Cr[l.type]){let p=Cr[l.type](l,o);if(c&&o.size!==c.size){p=Ri(o.sizingClasses(c),[p],o);const y=o.sizeMultiplier/c.sizeMultiplier;p.height*=y,p.depth*=y}return p}throw new ae("Got group of unknown type: '"+l.type+"'")};function Bi(l,o){const c=Ri(["base"],l,o),p=Ri(["strut"]);return p.style.height=de(c.height+c.depth),c.depth&&(p.style.verticalAlign=de(-c.depth)),c.children.unshift(p),c}function la(l,o){let c=null;1===l.length&&"tag"===l[0].type&&(c=l[0].tag,l=l[0].body);const p=dn(l,o,"root");let y;2===p.length&&p[1].hasClass("tag")&&(y=p.pop());const k=[];let P,x=[];for(let j=0;j<p.length;j++)if(x.push(p[j]),p[j].hasClass("mbin")||p[j].hasClass("mrel")||p[j].hasClass("allowbreak")){let X=!1;for(;j<p.length-1&&p[j+1].hasClass("mspace")&&!p[j+1].hasClass("newline");)j++,x.push(p[j]),p[j].hasClass("nobreak")&&(X=!0);X||(k.push(Bi(x,o)),x=[])}else p[j].hasClass("newline")&&(x.pop(),x.length>0&&(k.push(Bi(x,o)),x=[]),k.push(p[j]));x.length>0&&k.push(Bi(x,o)),c?(P=Bi(dn(c,o,!0)),P.classes=["tag"],k.push(P)):y&&k.push(y);const N=Ri(["katex-html"],k);if(N.setAttribute("aria-hidden","true"),P){const j=P.children[0];j.style.height=de(N.height+N.depth),N.depth&&(j.style.verticalAlign=de(-N.depth))}return N}function Hn(l){return new On(l)}class Nn{constructor(o,c,p){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=o,this.attributes={},this.children=c||[],this.classes=p||[]}setAttribute(o,c){this.attributes[o]=c}getAttribute(o){return this.attributes[o]}toNode(){const o=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const c in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,c)&&o.setAttribute(c,this.attributes[c]);this.classes.length>0&&(o.className=xi(this.classes));for(let c=0;c<this.children.length;c++)o.appendChild(this.children[c].toNode());return o}toMarkup(){let o="<"+this.type;for(const c in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,c)&&(o+=" "+c+'="',o+=Se.escape(this.attributes[c]),o+='"');this.classes.length>0&&(o+=' class ="'+Se.escape(xi(this.classes))+'"'),o+=">";for(let c=0;c<this.children.length;c++)o+=this.children[c].toMarkup();return o+="</"+this.type+">",o}toText(){return this.children.map(o=>o.toText()).join("")}}class jr{constructor(o){this.text=void 0,this.text=o}toNode(){return document.createTextNode(this.text)}toMarkup(){return Se.escape(this.toText())}toText(){return this.text}}var oe={MathNode:Nn,TextNode:jr,SpaceNode:class{constructor(l){this.width=void 0,this.character=void 0,this.width=l,this.character=l>=.05555&&l<=.05556?"\u200a":l>=.1666&&l<=.1667?"\u2009":l>=.2222&&l<=.2223?"\u2005":l>=.2777&&l<=.2778?"\u2005\u200a":l>=-.05556&&l<=-.05555?"\u200a\u2063":l>=-.1667&&l<=-.1666?"\u2009\u2063":l>=-.2223&&l<=-.2222?"\u205f\u2063":l>=-.2778&&l<=-.2777?"\u2005\u2063":null}toNode(){if(this.character)return document.createTextNode(this.character);{const l=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return l.setAttribute("width",de(this.width)),l}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+de(this.width)+'"/>'}toText(){return this.character?this.character:" "}},newDocumentFragment:Hn};const hn=function(l,o,c){return!Be[o][l]||!Be[o][l].replace||55349===l.charCodeAt(0)||Ge.hasOwnProperty(l)&&c&&(c.fontFamily&&"tt"===c.fontFamily.slice(4,6)||c.font&&"tt"===c.font.slice(4,6))||(l=Be[o][l].replace),new oe.TextNode(l)},ca=function(l){return 1===l.length?l[0]:new oe.MathNode("mrow",l)},us=function(l,o){if("texttt"===o.fontFamily)return"monospace";if("textsf"===o.fontFamily)return"textit"===o.fontShape&&"textbf"===o.fontWeight?"sans-serif-bold-italic":"textit"===o.fontShape?"sans-serif-italic":"textbf"===o.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===o.fontShape&&"textbf"===o.fontWeight)return"bold-italic";if("textit"===o.fontShape)return"italic";if("textbf"===o.fontWeight)return"bold";const c=o.font;if(!c||"mathnormal"===c)return null;const p=l.mode;if("mathit"===c)return"italic";if("boldsymbol"===c)return"textord"===l.type?"bold":"bold-italic";if("mathbf"===c)return"bold";if("mathbb"===c)return"double-struck";if("mathfrak"===c)return"fraktur";if("mathscr"===c||"mathcal"===c)return"script";if("mathsf"===c)return"sans-serif";if("mathtt"===c)return"monospace";let y=l.text;return Se.contains(["\\imath","\\jmath"],y)?null:(Be[p][y]&&Be[p][y].replace&&(y=Be[p][y].replace),wr(y,$.fontMap[c].fontName,p)?$.fontMap[c].variant:null)},ti=function(l,o,c){if(1===l.length){const k=_t(l[0],o);return c&&k instanceof Nn&&"mo"===k.type&&(k.setAttribute("lspace","0em"),k.setAttribute("rspace","0em")),[k]}const p=[];let y;for(let k=0;k<l.length;k++){const P=_t(l[k],o);if(P instanceof Nn&&y instanceof Nn){if("mtext"===P.type&&"mtext"===y.type&&P.getAttribute("mathvariant")===y.getAttribute("mathvariant")){y.children.push(...P.children);continue}if("mn"===P.type&&"mn"===y.type){y.children.push(...P.children);continue}if("mi"===P.type&&1===P.children.length&&"mn"===y.type){const x=P.children[0];if(x instanceof jr&&"."===x.text){y.children.push(...P.children);continue}}else if("mi"===y.type&&1===y.children.length){const x=y.children[0];if(x instanceof jr&&"\u0338"===x.text&&("mo"===P.type||"mi"===P.type||"mn"===P.type)){const N=P.children[0];N instanceof jr&&N.text.length>0&&(N.text=N.text.slice(0,1)+"\u0338"+N.text.slice(1),p.pop())}}}p.push(P),y=P}return p},Ui=function(l,o,c){return ca(ti(l,o,c))},_t=function(l,o){if(!l)return new oe.MathNode("mrow");if(Ni[l.type])return Ni[l.type](l,o);throw new ae("Got group of unknown type: '"+l.type+"'")};function ls(l,o,c,p,y){const k=ti(l,c);let P;P=1===k.length&&k[0]instanceof Nn&&Se.contains(["mrow","mtable"],k[0].type)?k[0]:new oe.MathNode("mrow",k);const x=new oe.MathNode("annotation",[new oe.TextNode(o)]);x.setAttribute("encoding","application/x-tex");const N=new oe.MathNode("semantics",[P,x]),j=new oe.MathNode("math",[N]);return j.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),p&&j.setAttribute("display","block"),$.makeSpan([y?"katex":"katex-mathml"],[j])}const ir=function(l){return new kr({style:l.displayMode?ge.DISPLAY:ge.TEXT,maxSize:l.maxSize,minRuleThickness:l.minRuleThickness})},da=function(l,o){if(o.displayMode){const c=["katex-display"];o.leqno&&c.push("leqno"),o.fleqn&&c.push("fleqn"),l=$.makeSpan(c,[l])}return l},ds={widehat:"^",widecheck:"\u02c7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23df",overbrace:"\u23de",overgroup:"\u23e0",undergroup:"\u23e1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21d2",xRightarrow:"\u21d2",overleftharpoon:"\u21bc",xleftharpoonup:"\u21bc",overrightharpoon:"\u21c0",xrightharpoonup:"\u21c0",xLeftarrow:"\u21d0",xLeftrightarrow:"\u21d4",xhookleftarrow:"\u21a9",xhookrightarrow:"\u21aa",xmapsto:"\u21a6",xrightharpoondown:"\u21c1",xleftharpoondown:"\u21bd",xrightleftharpoons:"\u21cc",xleftrightharpoons:"\u21cb",xtwoheadleftarrow:"\u219e",xtwoheadrightarrow:"\u21a0",xlongequal:"=",xtofrom:"\u21c4",xrightleftarrows:"\u21c4",xrightequilibrium:"\u21cc",xleftequilibrium:"\u21cb","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},eo={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]};var rr=function(l){const o=new oe.MathNode("mo",[new oe.TextNode(ds[l.replace(/^\\/,"")])]);return o.setAttribute("stretchy","true"),o},Vr=function(l,o){const{span:c,minWidth:p,height:y}=function(){let k=4e5;const P=l.label.slice(1);if(Se.contains(["widehat","widecheck","widetilde","utilde"],P)){const N="ordgroup"===(x=l.base).type?x.body.length:1;let j,X,G;if(N>5)"widehat"===P||"widecheck"===P?(j=420,k=2364,G=.42,X=P+"4"):(j=312,k=2340,G=.34,X="tilde4");else{const ue=[1,1,2,2,3,3][N];"widehat"===P||"widecheck"===P?(k=[0,1062,2364,2364,2364][ue],j=[0,239,300,360,420][ue],G=[0,.24,.3,.3,.36,.42][ue],X=P+ue):(k=[0,600,1033,2339,2340][ue],j=[0,260,286,306,312][ue],G=[0,.26,.286,.3,.306,.34][ue],X="tilde"+ue)}const V=new ze(X),J=new Ce([V],{width:"100%",height:de(G),viewBox:"0 0 "+k+" "+j,preserveAspectRatio:"none"});return{span:$.makeSvgSpan([],[J],o),minWidth:0,height:G}}{const N=[],j=eo[P],[X,G,V]=j,J=V/1e3,ue=X.length;let Ie,Oe;if(1===ue)Ie=["hide-tail"],Oe=[j[3]];else if(2===ue)Ie=["halfarrow-left","halfarrow-right"],Oe=["xMinYMin","xMaxYMin"];else{if(3!==ue)throw new Error("Correct katexImagesData or update code here to support\n                    "+ue+" children.");Ie=["brace-left","brace-center","brace-right"],Oe=["xMinYMin","xMidYMin","xMaxYMin"]}for(let Qe=0;Qe<ue;Qe++){const ct=new ze(X[Qe]),$e=new Ce([ct],{width:"400em",height:de(J),viewBox:"0 0 "+k+" "+V,preserveAspectRatio:Oe[Qe]+" slice"}),yt=$.makeSvgSpan([Ie[Qe]],[$e],o);if(1===ue)return{span:yt,minWidth:G,height:J};yt.style.height=de(J),N.push(yt)}return{span:$.makeSpan(["stretchy"],N,o),minWidth:G,height:J}}var x}();return c.height=y,c.style.height=de(y),p>0&&(c.style.minWidth=de(p)),c};function st(l,o){if(!l||l.type!==o)throw new Error("Expected node of type "+o+", but got "+(l?"node of type "+l.type:String(l)));return l}function ps(l){const o=ha(l);if(!o)throw new Error("Expected node of symbol group type, but got "+(l?"node of type "+l.type:String(l)));return o}function ha(l){return l&&("atom"===l.type||En.hasOwnProperty(l.type))?l:null}const pa=(l,o)=>{let c,p,y;l&&"supsub"===l.type?(p=st(l.base,"accent"),c=p.base,l.base=c,y=function(G){if(G instanceof ei)return G;throw new Error("Expected span<HtmlDomNode> but got "+String(G)+".")}(ft(l,o)),l.base=p):(p=st(l,"accent"),c=p.base);const k=ft(c,o.havingCrampedStyle());let P=0;if(p.isShifty&&Se.isCharacterBox(c)){const G=Se.getBaseElem(c);P=fe(ft(G,o.havingCrampedStyle())).skew}const x="\\c"===p.label;let N,j=x?k.height+k.depth:Math.min(k.height,o.fontMetrics().xHeight);if(p.isStretchy)N=Vr(p,o),N=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:k},{type:"elem",elem:N,wrapperClasses:["svg-align"],wrapperStyle:P>0?{width:"calc(100% - "+de(2*P)+")",marginLeft:de(2*P)}:void 0}]},o);else{let G,V;"\\vec"===p.label?(G=$.staticSvg("vec",o),V=$.svgData.vec[1]):(G=$.makeOrd({mode:p.mode,text:p.label},o,"textord"),G=fe(G),G.italic=0,V=G.width,x&&(j+=G.depth)),N=$.makeSpan(["accent-body"],[G]);const J="\\textcircled"===p.label;J&&(N.classes.push("accent-full"),j=k.height);let ue=P;J||(ue-=V/2),N.style.left=de(ue),"\\textcircled"===p.label&&(N.style.top=".2em"),N=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:k},{type:"kern",size:-j},{type:"elem",elem:N}]},o)}const X=$.makeSpan(["mord","accent"],[N],o);return y?(y.children[0]=X,y.height=Math.max(X.height,y.height),y.classes[0]="mord",y):X},si=(l,o)=>{const c=l.isStretchy?rr(l.label):new oe.MathNode("mo",[hn(l.label,l.mode)]),p=new oe.MathNode("mover",[_t(l.base,o),c]);return p.setAttribute("accent","true"),p},lu=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(l=>"\\"+l).join("|"));me({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(l,o)=>{const c=Ar(o[0]),p=!lu.test(l.funcName);return{type:"accent",mode:l.parser.mode,label:l.funcName,isStretchy:p,isShifty:!p||"\\widehat"===l.funcName||"\\widetilde"===l.funcName||"\\widecheck"===l.funcName,base:c}},htmlBuilder:pa,mathmlBuilder:si}),me({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(l,o)=>{const c=o[0];let p=l.parser.mode;return"math"===p&&(l.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+l.funcName+" works only in text mode"),p="text"),{type:"accent",mode:p,label:l.funcName,isStretchy:!1,isShifty:!0,base:c}},htmlBuilder:pa,mathmlBuilder:si}),me({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(l,o)=>{let{parser:c,funcName:p}=l;return{type:"accentUnder",mode:c.mode,label:p,base:o[0]}},htmlBuilder:(l,o)=>{const c=ft(l.base,o),p=Vr(l,o),k=$.makeVList({positionType:"top",positionData:c.height,children:[{type:"elem",elem:p,wrapperClasses:["svg-align"]},{type:"kern",size:"\\utilde"===l.label?.12:0},{type:"elem",elem:c}]},o);return $.makeSpan(["mord","accentunder"],[k],o)},mathmlBuilder:(l,o)=>{const c=rr(l.label),p=new oe.MathNode("munder",[_t(l.base,o),c]);return p.setAttribute("accentunder","true"),p}});const fa=l=>{const o=new oe.MathNode("mpadded",l?[l]:[]);return o.setAttribute("width","+0.6em"),o.setAttribute("lspace","0.3em"),o};me({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(l,o,c){let{parser:p,funcName:y}=l;return{type:"xArrow",mode:p.mode,label:y,body:o[0],below:c[0]}},htmlBuilder(l,o){const c=o.style;let p=o.havingStyle(c.sup());const y=$.wrapFragment(ft(l.body,p,o),o),k="\\x"===l.label.slice(0,2)?"x":"cd";let P;y.classes.push(k+"-arrow-pad"),l.below&&(p=o.havingStyle(c.sub()),P=$.wrapFragment(ft(l.below,p,o),o),P.classes.push(k+"-arrow-pad"));const x=Vr(l,o),N=-o.fontMetrics().axisHeight+.5*x.height;let j,X=-o.fontMetrics().axisHeight-.5*x.height-.111;if((y.depth>.25||"\\xleftequilibrium"===l.label)&&(X-=y.depth),P){const G=-o.fontMetrics().axisHeight+P.height+.5*x.height+.111;j=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:y,shift:X},{type:"elem",elem:x,shift:N},{type:"elem",elem:P,shift:G}]},o)}else j=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:y,shift:X},{type:"elem",elem:x,shift:N}]},o);return j.children[0].children[0].children[1].classes.push("svg-align"),$.makeSpan(["mrel","x-arrow"],[j],o)},mathmlBuilder(l,o){const c=rr(l.label);let p;if(c.setAttribute("minsize","x"===l.label.charAt(0)?"1.75em":"3.0em"),l.body){const y=fa(_t(l.body,o));if(l.below){const k=fa(_t(l.below,o));p=new oe.MathNode("munderover",[c,k,y])}else p=new oe.MathNode("mover",[c,y])}else if(l.below){const y=fa(_t(l.below,o));p=new oe.MathNode("munder",[c,y])}else p=fa(),p=new oe.MathNode("mover",[c,p]);return p}});const cu=$.makeSpan;function ma(l,o){const c=dn(l.body,o,!0);return cu([l.mclass],c,o)}function fs(l,o){let c;const p=ti(l.body,o);return"minner"===l.mclass?c=new oe.MathNode("mpadded",p):"mord"===l.mclass?l.isCharacterBox?(c=p[0],c.type="mi"):c=new oe.MathNode("mi",p):(l.isCharacterBox?(c=p[0],c.type="mo"):c=new oe.MathNode("mo",p),"mbin"===l.mclass?(c.attributes.lspace="0.22em",c.attributes.rspace="0.22em"):"mpunct"===l.mclass?(c.attributes.lspace="0em",c.attributes.rspace="0.17em"):"mopen"===l.mclass||"mclose"===l.mclass?(c.attributes.lspace="0em",c.attributes.rspace="0em"):"minner"===l.mclass&&(c.attributes.lspace="0.0556em",c.attributes.width="+0.1111em")),c}me({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(l,o){let{parser:c,funcName:p}=l;const y=o[0];return{type:"mclass",mode:c.mode,mclass:"m"+p.slice(5),body:ln(y),isCharacterBox:Se.isCharacterBox(y)}},htmlBuilder:ma,mathmlBuilder:fs});const oi=l=>{const o="ordgroup"===l.type&&l.body.length?l.body[0]:l;return"atom"!==o.type||"bin"!==o.family&&"rel"!==o.family?"mord":"m"+o.family};me({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(l,o){let{parser:c}=l;return{type:"mclass",mode:c.mode,mclass:oi(o[0]),body:ln(o[1]),isCharacterBox:Se.isCharacterBox(o[1])}}}),me({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(l,o){let{parser:c,funcName:p}=l;const y=o[1],k=o[0];let P;P="\\stackrel"!==p?oi(y):"mrel";const x={type:"op",mode:y.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==p,body:ln(y)},N={type:"supsub",mode:k.mode,base:x,sup:"\\underset"===p?null:k,sub:"\\underset"===p?k:null};return{type:"mclass",mode:c.mode,mclass:P,body:[N],isCharacterBox:Se.isCharacterBox(N)}},htmlBuilder:ma,mathmlBuilder:fs}),me({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(l,o){let{parser:c}=l;return{type:"pmb",mode:c.mode,mclass:oi(o[0]),body:ln(o[0])}},htmlBuilder(l,o){const c=dn(l.body,o,!0),p=$.makeSpan([l.mclass],c,o);return p.style.textShadow="0.02em 0.01em 0.04px",p},mathmlBuilder(l,o){const c=ti(l.body,o),p=new oe.MathNode("mstyle",c);return p.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),p}});const to={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},ms=l=>"textord"===l.type&&"@"===l.text;function no(l,o,c){const p=to[l];switch(p){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return c.callFunction(p,[o[0]],[o[1]]);case"\\uparrow":case"\\downarrow":{const y={type:"atom",text:p,mode:"math",family:"rel"},k={type:"ordgroup",mode:"math",body:[c.callFunction("\\\\cdleft",[o[0]],[]),c.callFunction("\\Big",[y],[]),c.callFunction("\\\\cdright",[o[1]],[])]};return c.callFunction("\\\\cdparent",[k],[])}case"\\\\cdlongequal":return c.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return c.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}me({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(l,o){let{parser:c,funcName:p}=l;return{type:"cdlabel",mode:c.mode,side:p.slice(4),label:o[0]}},htmlBuilder(l,o){const c=o.havingStyle(o.style.sup()),p=$.wrapFragment(ft(l.label,c,o),o);return p.classes.push("cd-label-"+l.side),p.style.bottom=de(.8-p.depth),p.height=0,p.depth=0,p},mathmlBuilder(l,o){let c=new oe.MathNode("mrow",[_t(l.label,o)]);return c=new oe.MathNode("mpadded",[c]),c.setAttribute("width","0"),"left"===l.side&&c.setAttribute("lspace","-1width"),c.setAttribute("voffset","0.7em"),c=new oe.MathNode("mstyle",[c]),c.setAttribute("displaystyle","false"),c.setAttribute("scriptlevel","1"),c}}),me({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(l,o){let{parser:c}=l;return{type:"cdlabelparent",mode:c.mode,fragment:o[0]}},htmlBuilder(l,o){const c=$.wrapFragment(ft(l.fragment,o),o);return c.classes.push("cd-vert-arrow"),c},mathmlBuilder:(l,o)=>new oe.MathNode("mrow",[_t(l.fragment,o)])}),me({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(l,o){let{parser:c}=l;const p=st(o[0],"ordgroup").body;let y="";for(let x=0;x<p.length;x++)y+=st(p[x],"textord").text;let k,P=parseInt(y);if(isNaN(P))throw new ae("\\@char has non-numeric argument "+y);if(P<0||P>=1114111)throw new ae("\\@char with invalid code point "+y);return P<=65535?k=String.fromCharCode(P):(P-=65536,k=String.fromCharCode(55296+(P>>10),56320+(1023&P))),{type:"textord",mode:c.mode,text:k}}});const Mr=(l,o)=>{const c=dn(l.body,o.withColor(l.color),!1);return $.makeFragment(c)},ui=(l,o)=>{const c=ti(l.body,o.withColor(l.color)),p=new oe.MathNode("mstyle",c);return p.setAttribute("mathcolor",l.color),p};me({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(l,o){let{parser:c}=l;const p=st(o[0],"color-token").color;return{type:"color",mode:c.mode,color:p,body:ln(o[1])}},htmlBuilder:Mr,mathmlBuilder:ui}),me({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(l,o){let{parser:c,breakOnTokenText:p}=l;const y=st(o[0],"color-token").color;c.gullet.macros.set("\\current@color",y);const k=c.parseExpression(!0,p);return{type:"color",mode:c.mode,color:y,body:k}},htmlBuilder:Mr,mathmlBuilder:ui}),me({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(l,o,c){let{parser:p}=l;const y="["===p.gullet.future().text?p.parseSizeGroup(!0):null,k=!p.settings.displayMode||!p.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:p.mode,newLine:k,size:y&&st(y,"size").value}},htmlBuilder(l,o){const c=$.makeSpan(["mspace"],[],o);return l.newLine&&(c.classes.push("newline"),l.size&&(c.style.marginTop=de(Ct(l.size,o)))),c},mathmlBuilder(l,o){const c=new oe.MathNode("mspace");return l.newLine&&(c.setAttribute("linebreak","newline"),l.size&&c.setAttribute("height",de(Ct(l.size,o)))),c}});const Yi={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},qn=l=>{const o=l.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(o))throw new ae("Expected a control sequence",l);return o},ga=(l,o,c,p)=>{let y=l.gullet.macros.get(c.text);null==y&&(c.noexpand=!0,y={tokens:[c],numArgs:0,unexpandable:!l.gullet.isExpandable(c.text)}),l.gullet.macros.set(o,y,p)};me({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(l){let{parser:o,funcName:c}=l;o.consumeSpaces();const p=o.fetch();if(Yi[p.text])return"\\global"!==c&&"\\\\globallong"!==c||(p.text=Yi[p.text]),st(o.parseFunction(),"internal");throw new ae("Invalid token after macro prefix",p)}}),me({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(l){let{parser:o,funcName:c}=l,p=o.gullet.popToken();const y=p.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(y))throw new ae("Expected a control sequence",p);let k,P=0;const x=[[]];for(;"{"!==o.gullet.future().text;)if(p=o.gullet.popToken(),"#"===p.text){if("{"===o.gullet.future().text){k=o.gullet.future(),x[P].push("{");break}if(p=o.gullet.popToken(),!/^[1-9]$/.test(p.text))throw new ae('Invalid argument number "'+p.text+'"');if(parseInt(p.text)!==P+1)throw new ae('Argument number "'+p.text+'" out of order');P++,x.push([])}else{if("EOF"===p.text)throw new ae("Expected a macro definition");x[P].push(p.text)}let{tokens:N}=o.gullet.consumeArg();return k&&N.unshift(k),"\\edef"!==c&&"\\xdef"!==c||(N=o.gullet.expandTokens(N),N.reverse()),o.gullet.macros.set(y,{tokens:N,numArgs:P,delimiters:x},c===Yi[c]),{type:"internal",mode:o.mode}}}),me({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(l){let{parser:o,funcName:c}=l;const p=qn(o.gullet.popToken());o.gullet.consumeSpaces();const y=(k=>{let P=k.gullet.popToken();return"="===P.text&&(P=k.gullet.popToken()," "===P.text&&(P=k.gullet.popToken())),P})(o);return ga(o,p,y,"\\\\globallet"===c),{type:"internal",mode:o.mode}}}),me({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(l){let{parser:o,funcName:c}=l;const p=qn(o.gullet.popToken()),y=o.gullet.popToken(),k=o.gullet.popToken();return ga(o,p,k,"\\\\globalfuture"===c),o.gullet.pushToken(k),o.gullet.pushToken(y),{type:"internal",mode:o.mode}}});const Pr=function(l,o,c){const p=wr(Be.math[l]&&Be.math[l].replace||l,o,c);if(!p)throw new Error("Unsupported symbol "+l+" and font size "+o+".");return p},li=function(l,o,c,p){const y=c.havingBaseStyle(o),k=$.makeSpan(p.concat(y.sizingClasses(c)),[l],c),P=y.sizeMultiplier/c.sizeMultiplier;return k.height*=P,k.depth*=P,k.maxFontSize=y.sizeMultiplier,k},ya=function(l,o,c){const p=o.havingBaseStyle(c),y=(1-o.sizeMultiplier/p.sizeMultiplier)*o.fontMetrics().axisHeight;l.classes.push("delimcenter"),l.style.top=de(y),l.height-=y,l.depth+=y},Or=function(l,o,c,p,y,k){const P=$.makeSymbol(l,"Size"+o+"-Regular",y,p),x=li($.makeSpan(["delimsizing","size"+o],[P],p),ge.TEXT,p,k);return c&&ya(x,p,ge.TEXT),x},ar=function(l,o,c){let p;return p="Size1-Regular"===o?"delim-size1":"delim-size4",{type:"elem",elem:$.makeSpan(["delimsizinginner",p],[$.makeSpan([],[$.makeSymbol(l,o,c)])])}},gs=function(l,o,c){const p=Ln["Size4-Regular"][l.charCodeAt(0)]?Ln["Size4-Regular"][l.charCodeAt(0)][4]:Ln["Size1-Regular"][l.charCodeAt(0)][4],y=new ze("inner",function(x,N){switch(x){case"\u239c":return"M291 0 H417 V"+N+" H291z M291 0 H417 V"+N+" H291z";case"\u2223":return"M145 0 H188 V"+N+" H145z M145 0 H188 V"+N+" H145z";case"\u2225":return"M145 0 H188 V"+N+" H145z M145 0 H188 V"+N+" H145zM367 0 H410 V"+N+" H367z M367 0 H410 V"+N+" H367z";case"\u239f":return"M457 0 H583 V"+N+" H457z M457 0 H583 V"+N+" H457z";case"\u23a2":return"M319 0 H403 V"+N+" H319z M319 0 H403 V"+N+" H319z";case"\u23a5":return"M263 0 H347 V"+N+" H263z M263 0 H347 V"+N+" H263z";case"\u23aa":return"M384 0 H504 V"+N+" H384z M384 0 H504 V"+N+" H384z";case"\u23d0":return"M312 0 H355 V"+N+" H312z M312 0 H355 V"+N+" H312z";case"\u2016":return"M257 0 H300 V"+N+" H257z M257 0 H300 V"+N+" H257zM478 0 H521 V"+N+" H478z M478 0 H521 V"+N+" H478z";default:return""}}(l,Math.round(1e3*o))),k=new Ce([y],{width:de(p),height:de(o),style:"width:"+de(p),viewBox:"0 0 "+1e3*p+" "+Math.round(1e3*o),preserveAspectRatio:"xMinYMin"}),P=$.makeSvgSpan([],[k],c);return P.height=o,P.style.height=de(o),P.style.width=de(p),{type:"elem",elem:P}},Lr={type:"kern",size:-.008},du=["|","\\lvert","\\rvert","\\vert"],io=["\\|","\\lVert","\\rVert","\\Vert"],ro=function(l,o,c,p,y,k){let P,x,N,j,X="",G=0;P=N=j=l,x=null;let V="Size1-Regular";"\\uparrow"===l?N=j="\u23d0":"\\Uparrow"===l?N=j="\u2016":"\\downarrow"===l?P=N="\u23d0":"\\Downarrow"===l?P=N="\u2016":"\\updownarrow"===l?(P="\\uparrow",N="\u23d0",j="\\downarrow"):"\\Updownarrow"===l?(P="\\Uparrow",N="\u2016",j="\\Downarrow"):Se.contains(du,l)?(N="\u2223",X="vert",G=333):Se.contains(io,l)?(N="\u2225",X="doublevert",G=556):"["===l||"\\lbrack"===l?(P="\u23a1",N="\u23a2",j="\u23a3",V="Size4-Regular",X="lbrack",G=667):"]"===l||"\\rbrack"===l?(P="\u23a4",N="\u23a5",j="\u23a6",V="Size4-Regular",X="rbrack",G=667):"\\lfloor"===l||"\u230a"===l?(N=P="\u23a2",j="\u23a3",V="Size4-Regular",X="lfloor",G=667):"\\lceil"===l||"\u2308"===l?(P="\u23a1",N=j="\u23a2",V="Size4-Regular",X="lceil",G=667):"\\rfloor"===l||"\u230b"===l?(N=P="\u23a5",j="\u23a6",V="Size4-Regular",X="rfloor",G=667):"\\rceil"===l||"\u2309"===l?(P="\u23a4",N=j="\u23a5",V="Size4-Regular",X="rceil",G=667):"("===l||"\\lparen"===l?(P="\u239b",N="\u239c",j="\u239d",V="Size4-Regular",X="lparen",G=875):")"===l||"\\rparen"===l?(P="\u239e",N="\u239f",j="\u23a0",V="Size4-Regular",X="rparen",G=875):"\\{"===l||"\\lbrace"===l?(P="\u23a7",x="\u23a8",j="\u23a9",N="\u23aa",V="Size4-Regular"):"\\}"===l||"\\rbrace"===l?(P="\u23ab",x="\u23ac",j="\u23ad",N="\u23aa",V="Size4-Regular"):"\\lgroup"===l||"\u27ee"===l?(P="\u23a7",j="\u23a9",N="\u23aa",V="Size4-Regular"):"\\rgroup"===l||"\u27ef"===l?(P="\u23ab",j="\u23ad",N="\u23aa",V="Size4-Regular"):"\\lmoustache"===l||"\u23b0"===l?(P="\u23a7",j="\u23ad",N="\u23aa",V="Size4-Regular"):"\\rmoustache"!==l&&"\u23b1"!==l||(P="\u23ab",j="\u23a9",N="\u23aa",V="Size4-Regular");const J=Pr(P,V,y),ue=J.height+J.depth,Ie=Pr(N,V,y),Oe=Ie.height+Ie.depth,Qe=Pr(j,V,y),ct=Qe.height+Qe.depth;let $e=0,yt=1;if(null!==x){const It=Pr(x,V,y);$e=It.height+It.depth,yt=2}const wt=ue+ct+$e,_n=wt+Math.max(0,Math.ceil((o-wt)/(yt*Oe)))*yt*Oe;let Le=p.fontMetrics().axisHeight;c&&(Le*=p.sizeMultiplier);const Jr=_n/2-Le,ot=[];if(X.length>0){const It=_n-ue-ct,Gn=Math.round(1e3*_n),mn=function(vu,$t){switch(vu){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+$t+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+$t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+$t+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+$t+" v1759 h84z";case"vert":return"M145 15 v585 v"+$t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-$t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+$t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+$t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-$t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+$t+" v585 h43z\nM367 15 v585 v"+$t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-$t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+$t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+$t+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+$t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+$t+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+$t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+$t+" v602 h84z\nM403 1759 V0 H319 V1759 v"+$t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+$t+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+$t+" v602 h84z";case"lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+($t+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+($t+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case"rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+($t+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+($t+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw new Error("Unknown stretchy delimiter.")}}(X,Math.round(1e3*It)),bi=new ze(X,mn),$i=(G/1e3).toFixed(3)+"em",bo=(Gn/1e3).toFixed(3)+"em",_o=new Ce([bi],{width:$i,height:bo,viewBox:"0 0 "+G+" "+Gn}),Zr=$.makeSvgSpan([],[_o],p);Zr.height=Gn/1e3,Zr.style.width=$i,Zr.style.height=bo,ot.push({type:"elem",elem:Zr})}else{if(ot.push(ar(j,V,y)),ot.push(Lr),null===x)ot.push(gs(N,_n-ue-ct+.016,p));else{const It=(_n-ue-ct-$e)/2+.016;ot.push(gs(N,It,p)),ot.push(Lr),ot.push(ar(x,V,y)),ot.push(Lr),ot.push(gs(N,It,p))}ot.push(Lr),ot.push(ar(P,V,y))}const Xe=p.havingBaseStyle(ge.TEXT),on=$.makeVList({positionType:"bottom",positionData:Jr,children:ot},Xe);return li($.makeSpan(["delimsizing","mult"],[on],Xe),ge.TEXT,p,k)},ba=function(l,o,c,p,y){const k=function(N,j,X){j*=1e3;let G="";switch(N){case"sqrtMain":G="M95,"+(622+(V=j)+80)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+V/2.075+" -"+V+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+V)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+V)+" 80h400000v"+(40+V)+"h-400000z";break;case"sqrtSize1":G=function(V,J){return"M263,"+(601+V+80)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+V/2.084+" -"+V+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+V)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+V)+" 80h400000v"+(40+V)+"h-400000z"}(j);break;case"sqrtSize2":G=function(V,J){return"M983 "+(10+V+80)+"\nl"+V/3.13+" -"+V+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+V)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+V)+" 80h400000v"+(40+V)+"h-400000z"}(j);break;case"sqrtSize3":G=function(V,J){return"M424,"+(2398+V+80)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+V/4.223+" -"+V+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+V)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+V)+" 80\nh400000v"+(40+V)+"h-400000z"}(j);break;case"sqrtSize4":G=function(V,J){return"M473,"+(2713+V+80)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+V/5.298+" -"+V+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+V)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+V)+" 80h400000v"+(40+V)+"H1017.7z"}(j);break;case"sqrtTall":G=function(V,J,ue){return"M702 "+(V+80)+"H400000"+(40+V)+"\nH742v"+(ue-54-80-V)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 80H400000v"+(40+V)+"H742z"}(j,0,X)}var V;return G}(l,p,c),P=new ze(l,k),x=new Ce([P],{width:"400em",height:de(o),viewBox:"0 0 400000 "+c,preserveAspectRatio:"xMinYMin slice"});return $.makeSvgSpan(["hide-tail"],[x],y)},ys=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230a","\u230b","\\lceil","\\rceil","\u2308","\u2309","\\surd"],hu=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27ee","\u27ef","\\lmoustache","\\rmoustache","\u23b0","\u23b1"],Wr=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sr=[0,1.2,1.8,2.4,3],$n=[{type:"small",style:ge.SCRIPTSCRIPT},{type:"small",style:ge.SCRIPT},{type:"small",style:ge.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],pu=[{type:"small",style:ge.SCRIPTSCRIPT},{type:"small",style:ge.SCRIPT},{type:"small",style:ge.TEXT},{type:"stack"}],Dr=[{type:"small",style:ge.SCRIPTSCRIPT},{type:"small",style:ge.SCRIPT},{type:"small",style:ge.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],fu=function(l){if("small"===l.type)return"Main-Regular";if("large"===l.type)return"Size"+l.size+"-Regular";if("stack"===l.type)return"Size4-Regular";throw new Error("Add support for delim type '"+l.type+"' here.")},ao=function(l,o,c,p){for(let y=Math.min(2,3-p.style.size);y<c.length&&"stack"!==c[y].type;y++){const k=Pr(l,fu(c[y]),"math");let P=k.height+k.depth;if("small"===c[y].type&&(P*=p.havingBaseStyle(c[y].style).sizeMultiplier),P>o)return c[y]}return c[c.length-1]},so=function(l,o,c,p,y,k){let P;"<"===l||"\\lt"===l||"\u27e8"===l?l="\\langle":">"!==l&&"\\gt"!==l&&"\u27e9"!==l||(l="\\rangle"),P=Se.contains(Wr,l)?$n:Se.contains(ys,l)?Dr:pu;const x=ao(l,o,P,p);return"small"===x.type?function(N,j,X,G,V,J){const ue=$.makeSymbol(N,"Main-Regular",V,G),Ie=li(ue,j,G,J);return X&&ya(Ie,G,j),Ie}(l,x.style,c,p,y,k):"large"===x.type?Or(l,x.size,c,p,y,k):ro(l,o,c,p,y,k)};var Ci={sqrtImage:function(l,o){const c=o.havingBaseSizing(),p=ao("\\surd",l*c.sizeMultiplier,Dr,c);let y=c.sizeMultiplier;const k=Math.max(0,o.minRuleThickness-o.fontMetrics().sqrtRuleThickness);let P,x,N=0,j=0,X=0;return"small"===p.type?(X=1e3+1e3*k+80,l<1?y=1:l<1.4&&(y=.7),N=(1+k+.08)/y,j=(1+k)/y,P=ba("sqrtMain",N,X,k,o),P.style.minWidth="0.853em",x=.833/y):"large"===p.type?(X=1080*sr[p.size],j=(sr[p.size]+k)/y,N=(sr[p.size]+k+.08)/y,P=ba("sqrtSize"+p.size,N,X,k,o),P.style.minWidth="1.02em",x=1/y):(N=l+k+.08,j=l+k,X=Math.floor(1e3*l+k)+80,P=ba("sqrtTall",N,X,k,o),P.style.minWidth="0.742em",x=1.056),P.height=j,P.style.height=de(N),{span:P,advanceWidth:x,ruleWidth:(o.fontMetrics().sqrtRuleThickness+k)*y}},sizedDelim:function(l,o,c,p,y){if("<"===l||"\\lt"===l||"\u27e8"===l?l="\\langle":">"!==l&&"\\gt"!==l&&"\u27e9"!==l||(l="\\rangle"),Se.contains(ys,l)||Se.contains(Wr,l))return Or(l,o,!1,c,p,y);if(Se.contains(hu,l))return ro(l,sr[o],!1,c,p,y);throw new ae("Illegal delimiter: '"+l+"'")},sizeToMaxHeight:sr,customSizedDelim:so,leftRightDelim:function(l,o,c,p,y,k){const P=p.fontMetrics().axisHeight*p.sizeMultiplier,x=5/p.fontMetrics().ptPerEm,N=Math.max(o-P,c+P),j=Math.max(N/500*901,2*N-x);return so(l,j,!0,p,y,k)}};const vs={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},mu=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230a","\u230b","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27e8","\\rangle","\u27e9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27ee","\u27ef","\\lmoustache","\\rmoustache","\u23b0","\u23b1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function _a(l,o){const c=ha(l);if(c&&Se.contains(mu,c.text))return c;throw new ae(c?"Invalid delimiter '"+c.text+"' after '"+o.funcName+"'":"Invalid delimiter type '"+l.type+"'",l)}function Nr(l){if(!l.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}me({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(l,o)=>{const c=_a(o[0],l);return{type:"delimsizing",mode:l.parser.mode,size:vs[l.funcName].size,mclass:vs[l.funcName].mclass,delim:c.text}},htmlBuilder:(l,o)=>"."===l.delim?$.makeSpan([l.mclass]):Ci.sizedDelim(l.delim,l.size,o,l.mode,[l.mclass]),mathmlBuilder:l=>{const o=[];"."!==l.delim&&o.push(hn(l.delim,l.mode));const c=new oe.MathNode("mo",o);c.setAttribute("fence","mopen"===l.mclass||"mclose"===l.mclass?"true":"false"),c.setAttribute("stretchy","true");const p=de(Ci.sizeToMaxHeight[l.size]);return c.setAttribute("minsize",p),c.setAttribute("maxsize",p),c}}),me({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(l,o)=>{const c=l.parser.gullet.macros.get("\\current@color");if(c&&"string"!=typeof c)throw new ae("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:l.parser.mode,delim:_a(o[0],l).text,color:c}}}),me({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(l,o)=>{const c=_a(o[0],l),p=l.parser;++p.leftrightDepth;const y=p.parseExpression(!1);--p.leftrightDepth,p.expect("\\right",!1);const k=st(p.parseFunction(),"leftright-right");return{type:"leftright",mode:p.mode,body:y,left:c.text,right:k.delim,rightColor:k.color}},htmlBuilder:(l,o)=>{Nr(l);const c=dn(l.body,o,!0,["mopen","mclose"]);let p,y,k=0,P=0,x=!1;for(let N=0;N<c.length;N++)c[N].isMiddle?x=!0:(k=Math.max(c[N].height,k),P=Math.max(c[N].depth,P));if(k*=o.sizeMultiplier,P*=o.sizeMultiplier,p="."===l.left?Ir(o,["mopen"]):Ci.leftRightDelim(l.left,k,P,o,l.mode,["mopen"]),c.unshift(p),x)for(let N=1;N<c.length;N++){const j=c[N].isMiddle;j&&(c[N]=Ci.leftRightDelim(j.delim,k,P,j.options,l.mode,[]))}if("."===l.right)y=Ir(o,["mclose"]);else{const N=l.rightColor?o.withColor(l.rightColor):o;y=Ci.leftRightDelim(l.right,k,P,N,l.mode,["mclose"])}return c.push(y),$.makeSpan(["minner"],c,o)},mathmlBuilder:(l,o)=>{Nr(l);const c=ti(l.body,o);if("."!==l.left){const p=new oe.MathNode("mo",[hn(l.left,l.mode)]);p.setAttribute("fence","true"),c.unshift(p)}if("."!==l.right){const p=new oe.MathNode("mo",[hn(l.right,l.mode)]);p.setAttribute("fence","true"),l.rightColor&&p.setAttribute("mathcolor",l.rightColor),c.push(p)}return ca(c)}}),me({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(l,o)=>{const c=_a(o[0],l);if(!l.parser.leftrightDepth)throw new ae("\\middle without preceding \\left",c);return{type:"middle",mode:l.parser.mode,delim:c.text}},htmlBuilder:(l,o)=>{let c;return"."===l.delim?c=Ir(o,[]):(c=Ci.sizedDelim(l.delim,1,o,l.mode,[]),c.isMiddle={delim:l.delim,options:o}),c},mathmlBuilder:(l,o)=>{const c="\\vert"===l.delim||"|"===l.delim?hn("|","text"):hn(l.delim,l.mode),p=new oe.MathNode("mo",[c]);return p.setAttribute("fence","true"),p.setAttribute("lspace","0.05em"),p.setAttribute("rspace","0.05em"),p}});const bs=(l,o)=>{const c=$.wrapFragment(ft(l.body,o),o),p=l.label.slice(1);let y,k=o.sizeMultiplier,P=0;const x=Se.isCharacterBox(l.body);if("sout"===p)y=$.makeSpan(["stretchy","sout"]),y.height=o.fontMetrics().defaultRuleThickness/k,P=-.5*o.fontMetrics().xHeight;else if("phase"===p){const X=Ct({number:.6,unit:"pt"},o),G=Ct({number:.35,unit:"ex"},o);k/=o.havingBaseSizing().sizeMultiplier;const V=c.height+c.depth+X+G;c.style.paddingLeft=de(V/2+X);const J=Math.floor(1e3*V*k),ue="M400000 "+(N=J)+" H0 L"+N/2+" 0 l65 45 L145 "+(N-80)+" H400000z",Ie=new Ce([new ze("phase",ue)],{width:"400em",height:de(J/1e3),viewBox:"0 0 400000 "+J,preserveAspectRatio:"xMinYMin slice"});y=$.makeSvgSpan(["hide-tail"],[Ie],o),y.style.height=de(V),P=c.depth+X+G}else{/cancel/.test(p)?x||c.classes.push("cancel-pad"):c.classes.push("angl"===p?"anglpad":"boxpad");let X=0,G=0,V=0;/box/.test(p)?(V=Math.max(o.fontMetrics().fboxrule,o.minRuleThickness),X=o.fontMetrics().fboxsep+("colorbox"===p?0:V),G=X):"angl"===p?(V=Math.max(o.fontMetrics().defaultRuleThickness,o.minRuleThickness),X=4*V,G=Math.max(0,.25-c.depth)):(X=x?.2:0,G=X),y=function(l,o,c,p,y){let k;const P=l.height+l.depth+c+p;if(/fbox|color|angl/.test(o)){if(k=$.makeSpan(["stretchy",o],[],y),"fbox"===o){const x=y.color&&y.getColor();x&&(k.style.borderColor=x)}}else{const x=[];/^[bx]cancel$/.test(o)&&x.push(new Rt({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(o)&&x.push(new Rt({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const N=new Ce(x,{width:"100%",height:de(P)});k=$.makeSvgSpan([],[N],y)}return k.height=P,k.style.height=de(P),k}(c,p,X,G,o),/fbox|boxed|fcolorbox/.test(p)?(y.style.borderStyle="solid",y.style.borderWidth=de(V)):"angl"===p&&.049!==V&&(y.style.borderTopWidth=de(V),y.style.borderRightWidth=de(V)),P=c.depth+G,l.backgroundColor&&(y.style.backgroundColor=l.backgroundColor,l.borderColor&&(y.style.borderColor=l.borderColor))}var N;let j;if(l.backgroundColor)j=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:y,shift:P},{type:"elem",elem:c,shift:0}]},o);else{const X=/cancel|phase/.test(p)?["svg-align"]:[];j=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:0},{type:"elem",elem:y,shift:P,wrapperClasses:X}]},o)}return/cancel/.test(p)&&(j.height=c.height,j.depth=c.depth),/cancel/.test(p)&&!x?$.makeSpan(["mord","cancel-lap"],[j],o):$.makeSpan(["mord"],[j],o)},or=(l,o)=>{let c=0;const p=new oe.MathNode(l.label.indexOf("colorbox")>-1?"mpadded":"menclose",[_t(l.body,o)]);switch(l.label){case"\\cancel":p.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":p.setAttribute("notation","downdiagonalstrike");break;case"\\phase":p.setAttribute("notation","phasorangle");break;case"\\sout":p.setAttribute("notation","horizontalstrike");break;case"\\fbox":p.setAttribute("notation","box");break;case"\\angl":p.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(c=o.fontMetrics().fboxsep*o.fontMetrics().ptPerEm,p.setAttribute("width","+"+2*c+"pt"),p.setAttribute("height","+"+2*c+"pt"),p.setAttribute("lspace",c+"pt"),p.setAttribute("voffset",c+"pt"),"\\fcolorbox"===l.label){const y=Math.max(o.fontMetrics().fboxrule,o.minRuleThickness);p.setAttribute("style","border: "+y+"em solid "+String(l.borderColor))}break;case"\\xcancel":p.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return l.backgroundColor&&p.setAttribute("mathbackground",l.backgroundColor),p};me({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(l,o,c){let{parser:p,funcName:y}=l;const k=st(o[0],"color-token").color;return{type:"enclose",mode:p.mode,label:y,backgroundColor:k,body:o[1]}},htmlBuilder:bs,mathmlBuilder:or}),me({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(l,o,c){let{parser:p,funcName:y}=l;const k=st(o[0],"color-token").color,P=st(o[1],"color-token").color;return{type:"enclose",mode:p.mode,label:y,backgroundColor:P,borderColor:k,body:o[2]}},htmlBuilder:bs,mathmlBuilder:or}),me({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(l,o){let{parser:c}=l;return{type:"enclose",mode:c.mode,label:"\\fbox",body:o[0]}}}),me({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(l,o){let{parser:c,funcName:p}=l;return{type:"enclose",mode:c.mode,label:p,body:o[0]}},htmlBuilder:bs,mathmlBuilder:or}),me({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(l,o){let{parser:c}=l;return{type:"enclose",mode:c.mode,label:"\\angl",body:o[0]}}});const Ut={};function jn(l){let{type:o,names:c,props:p,handler:y,htmlBuilder:k,mathmlBuilder:P}=l;const x={type:o,numArgs:p.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:y};for(let N=0;N<c.length;++N)Ut[c[N]]=x;k&&(Cr[o]=k),P&&(Ni[o]=P)}const Ta={};function L(l,o){Ta[l]=o}class ci{constructor(o,c,p){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=o,this.start=c,this.end=p}static range(o,c){return c?o&&o.loc&&c.loc&&o.loc.lexer===c.loc.lexer?new ci(o.loc.lexer,o.loc.start,c.loc.end):null:o&&o.loc}}class di{constructor(o,c){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=o,this.loc=c}range(o,c){return new di(c,ci.range(this,o))}}function oo(l){const o=[];l.consumeSpaces();let c=l.fetch().text;for("\\relax"===c&&(l.consume(),l.consumeSpaces(),c=l.fetch().text);"\\hline"===c||"\\hdashline"===c;)l.consume(),o.push("\\hdashline"===c),l.consumeSpaces(),c=l.fetch().text;return o}const wa=l=>{if(!l.parser.settings.displayMode)throw new ae("{"+l.envName+"} can be used only in display mode.")};function Sa(l){if(-1===l.indexOf("ed"))return-1===l.indexOf("*")}function Fi(l,o,c){let{hskipBeforeAndAfter:p,addJot:y,cols:k,arraystretch:P,colSeparationType:x,autoTag:N,singleRow:j,emptySingleRow:X,maxNumCols:G,leqno:V}=o;if(l.gullet.beginGroup(),j||l.gullet.macros.set("\\cr","\\\\\\relax"),!P){const yt=l.gullet.expandMacroAsText("\\arraystretch");if(null==yt)P=1;else if(P=parseFloat(yt),!P||P<0)throw new ae("Invalid \\arraystretch: "+yt)}l.gullet.beginGroup();let J=[];const ue=[J],Ie=[],Oe=[],Qe=null!=N?[]:void 0;function ct(){N&&l.gullet.macros.set("\\@eqnsw","1",!0)}function $e(){Qe&&(l.gullet.macros.get("\\df@tag")?(Qe.push(l.subparse([new di("\\df@tag")])),l.gullet.macros.set("\\df@tag",void 0,!0)):Qe.push(!!N&&"1"===l.gullet.macros.get("\\@eqnsw")))}for(ct(),Oe.push(oo(l));;){let yt=l.parseExpression(!1,j?"\\end":"\\\\");l.gullet.endGroup(),l.gullet.beginGroup(),yt={type:"ordgroup",mode:l.mode,body:yt},c&&(yt={type:"styling",mode:l.mode,style:c,body:[yt]}),J.push(yt);const wt=l.fetch().text;if("&"===wt){if(G&&J.length===G){if(j||x)throw new ae("Too many tab characters: &",l.nextToken);l.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}l.consume()}else{if("\\end"===wt){$e(),1===J.length&&"styling"===yt.type&&0===yt.body[0].body.length&&(ue.length>1||!X)&&ue.pop(),Oe.length<ue.length+1&&Oe.push([]);break}if("\\\\"!==wt)throw new ae("Expected & or \\\\ or \\cr or \\end",l.nextToken);{let _n;l.consume()," "!==l.gullet.future().text&&(_n=l.parseSizeGroup(!0)),Ie.push(_n?_n.value:null),$e(),Oe.push(oo(l)),J=[],ue.push(J),ct()}}}return l.gullet.endGroup(),l.gullet.endGroup(),{type:"array",mode:l.mode,addJot:y,arraystretch:P,body:ue,cols:k,rowGaps:Ie,hskipBeforeAndAfter:p,hLinesBeforeRow:Oe,colSeparationType:x,tags:Qe,leqno:V}}function _s(l){return"d"===l.slice(0,1)?"display":"text"}const hi=function(l,o){let c,p;const y=l.body.length,k=l.hLinesBeforeRow;let P=0,x=new Array(y);const N=[],j=Math.max(o.fontMetrics().arrayRuleWidth,o.minRuleThickness),X=1/o.fontMetrics().ptPerEm;let G=5*X;l.colSeparationType&&"small"===l.colSeparationType&&(G=o.havingStyle(ge.SCRIPT).sizeMultiplier/o.sizeMultiplier*.2778);const V="CD"===l.colSeparationType?Ct({number:3,unit:"ex"},o):12*X,J=3*X,ue=l.arraystretch*V,Ie=.7*ue,Oe=.3*ue;let Qe=0;function ct(ot){for(let Xe=0;Xe<ot.length;++Xe)Xe>0&&(Qe+=.25),N.push({pos:Qe,isDashed:ot[Xe]})}for(ct(k[0]),c=0;c<l.body.length;++c){const ot=l.body[c];let Xe=Ie,on=Oe;P<ot.length&&(P=ot.length);const It=new Array(ot.length);for(p=0;p<ot.length;++p){const bi=ft(ot[p],o);on<bi.depth&&(on=bi.depth),Xe<bi.height&&(Xe=bi.height),It[p]=bi}const Gn=l.rowGaps[c];let mn=0;Gn&&(mn=Ct(Gn,o),mn>0&&(mn+=Oe,on<mn&&(on=mn),mn=0)),l.addJot&&(on+=J),It.height=Xe,It.depth=on,Qe+=Xe,It.pos=Qe,Qe+=on+mn,x[c]=It,ct(k[c+1])}const $e=Qe/2+o.fontMetrics().axisHeight,yt=l.cols||[],wt=[];let _n,Le;const Jr=[];if(l.tags&&l.tags.some(ot=>ot))for(c=0;c<y;++c){const ot=x[c],Xe=ot.pos-$e,on=l.tags[c];let It;It=!0===on?$.makeSpan(["eqn-num"],[],o):$.makeSpan([],!1===on?[]:dn(on,o,!0),o),It.depth=ot.depth,It.height=ot.height,Jr.push({type:"elem",elem:It,shift:Xe})}for(p=0,Le=0;p<P||Le<yt.length;++p,++Le){let ot,Xe=yt[Le]||{},on=!0;for(;"separator"===Xe.type;){if(on||(_n=$.makeSpan(["arraycolsep"],[]),_n.style.width=de(o.fontMetrics().doubleRuleSep),wt.push(_n)),"|"!==Xe.separator&&":"!==Xe.separator)throw new ae("Invalid separator type: "+Xe.separator);{const Gn="|"===Xe.separator?"solid":"dashed",mn=$.makeSpan(["vertical-separator"],[],o);mn.style.height=de(Qe),mn.style.borderRightWidth=de(j),mn.style.borderRightStyle=Gn,mn.style.margin="0 "+de(-j/2);const bi=Qe-$e;bi&&(mn.style.verticalAlign=de(-bi)),wt.push(mn)}Le++,Xe=yt[Le]||{},on=!1}if(p>=P)continue;(p>0||l.hskipBeforeAndAfter)&&(ot=Se.deflt(Xe.pregap,G),0!==ot&&(_n=$.makeSpan(["arraycolsep"],[]),_n.style.width=de(ot),wt.push(_n)));let It=[];for(c=0;c<y;++c){const Gn=x[c],mn=Gn[p];if(!mn)continue;const bi=Gn.pos-$e;mn.depth=Gn.depth,mn.height=Gn.height,It.push({type:"elem",elem:mn,shift:bi})}It=$.makeVList({positionType:"individualShift",children:It},o),It=$.makeSpan(["col-align-"+(Xe.align||"c")],[It]),wt.push(It),(p<P-1||l.hskipBeforeAndAfter)&&(ot=Se.deflt(Xe.postgap,G),0!==ot&&(_n=$.makeSpan(["arraycolsep"],[]),_n.style.width=de(ot),wt.push(_n)))}if(x=$.makeSpan(["mtable"],wt),N.length>0){const ot=$.makeLineSpan("hline",o,j),Xe=$.makeLineSpan("hdashline",o,j),on=[{type:"elem",elem:x,shift:0}];for(;N.length>0;){const It=N.pop(),Gn=It.pos-$e;on.push(It.isDashed?{type:"elem",elem:Xe,shift:Gn}:{type:"elem",elem:ot,shift:Gn})}x=$.makeVList({positionType:"individualShift",children:on},o)}if(0===Jr.length)return $.makeSpan(["mord"],[x],o);{let ot=$.makeVList({positionType:"individualShift",children:Jr},o);return ot=$.makeSpan(["tag"],[ot],o),$.makeFragment([x,ot])}},uo={c:"center ",l:"left ",r:"right "},zi=function(l,o){const c=[],p=new oe.MathNode("mtd",[],["mtr-glue"]),y=new oe.MathNode("mtd",[],["mml-eqn-num"]);for(let G=0;G<l.body.length;G++){const V=l.body[G],J=[];for(let ue=0;ue<V.length;ue++)J.push(new oe.MathNode("mtd",[_t(V[ue],o)]));l.tags&&l.tags[G]&&(J.unshift(p),J.push(p),l.leqno?J.unshift(y):J.push(y)),c.push(new oe.MathNode("mtr",J))}let k=new oe.MathNode("mtable",c);k.setAttribute("rowspacing",de(.5===l.arraystretch?.1:.16+l.arraystretch-1+(l.addJot?.09:0)));let x="",N="";if(l.cols&&l.cols.length>0){const G=l.cols;let V="",J=!1,ue=0,Ie=G.length;"separator"===G[0].type&&(x+="top ",ue=1),"separator"===G[G.length-1].type&&(x+="bottom ",Ie-=1);for(let Oe=ue;Oe<Ie;Oe++)"align"===G[Oe].type?(N+=uo[G[Oe].align],J&&(V+="none "),J=!0):"separator"===G[Oe].type&&J&&(V+="|"===G[Oe].separator?"solid ":"dashed ",J=!1);k.setAttribute("columnalign",N.trim()),/[sd]/.test(V)&&k.setAttribute("columnlines",V.trim())}if("align"===l.colSeparationType){const G=l.cols||[];let V="";for(let J=1;J<G.length;J++)V+=J%2?"0em ":"1em ";k.setAttribute("columnspacing",V.trim())}else k.setAttribute("columnspacing","alignat"===l.colSeparationType||"gather"===l.colSeparationType?"0em":"small"===l.colSeparationType?"0.2778em":"CD"===l.colSeparationType?"0.5em":"1em");let j="";const X=l.hLinesBeforeRow;x+=X[0].length>0?"left ":"",x+=X[X.length-1].length>0?"right ":"";for(let G=1;G<X.length-1;G++)j+=0===X[G].length?"none ":X[G][0]?"dashed ":"solid ";return/[sd]/.test(j)&&k.setAttribute("rowlines",j.trim()),""!==x&&(k=new oe.MathNode("menclose",[k]),k.setAttribute("notation",x.trim())),l.arraystretch&&l.arraystretch<1&&(k=new oe.MathNode("mstyle",[k]),k.setAttribute("scriptlevel","1")),k},Ts=function(l,o){-1===l.envName.indexOf("ed")&&wa(l);const c=[],p=l.envName.indexOf("at")>-1?"alignat":"align",y="split"===l.envName,k=Fi(l.parser,{cols:c,addJot:!0,autoTag:y?void 0:Sa(l.envName),emptySingleRow:!0,colSeparationType:p,maxNumCols:y?2:void 0,leqno:l.parser.settings.leqno},"display");let P,x=0;const N={type:"ordgroup",mode:l.mode,body:[]};if(o[0]&&"ordgroup"===o[0].type){let X="";for(let G=0;G<o[0].body.length;G++)X+=st(o[0].body[G],"textord").text;P=Number(X),x=2*P}const j=!x;k.body.forEach(function(X){for(let G=1;G<X.length;G+=2){const V=st(X[G],"styling");st(V.body[0],"ordgroup").body.unshift(N)}if(j)x<X.length&&(x=X.length);else{const G=X.length/2;if(P<G)throw new ae("Too many math in a row: expected "+P+", but got "+G,X[0])}});for(let X=0;X<x;++X){let G="r",V=0;X%2==1?G="l":X>0&&j&&(V=1),c[X]={type:"align",align:G,pregap:V,postgap:0}}return k.colSeparationType=j?"align":"alignat",k};jn({type:"array",names:["array","darray"],props:{numArgs:1},handler(l,o){const c=(ha(o[0])?[o[0]]:st(o[0],"ordgroup").body).map(function(y){const k=ps(y).text;if(-1!=="lcr".indexOf(k))return{type:"align",align:k};if("|"===k)return{type:"separator",separator:"|"};if(":"===k)return{type:"separator",separator:":"};throw new ae("Unknown column alignment: "+k,y)});return Fi(l.parser,{cols:c,hskipBeforeAndAfter:!0,maxNumCols:c.length},_s(l.envName))},htmlBuilder:hi,mathmlBuilder:zi}),jn({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(l){const o={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[l.envName.replace("*","")];let c="c";const p={hskipBeforeAndAfter:!1,cols:[{type:"align",align:c}]};if("*"===l.envName.charAt(l.envName.length-1)){const P=l.parser;if(P.consumeSpaces(),"["===P.fetch().text){if(P.consume(),P.consumeSpaces(),c=P.fetch().text,-1==="lcr".indexOf(c))throw new ae("Expected l or c or r",P.nextToken);P.consume(),P.consumeSpaces(),P.expect("]"),P.consume(),p.cols=[{type:"align",align:c}]}}const y=Fi(l.parser,p,_s(l.envName)),k=Math.max(0,...y.body.map(P=>P.length));return y.cols=new Array(k).fill({type:"align",align:c}),o?{type:"leftright",mode:l.mode,body:[y],left:o[0],right:o[1],rightColor:void 0}:y},htmlBuilder:hi,mathmlBuilder:zi}),jn({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(l){const o=Fi(l.parser,{arraystretch:.5},"script");return o.colSeparationType="small",o},htmlBuilder:hi,mathmlBuilder:zi}),jn({type:"array",names:["subarray"],props:{numArgs:1},handler(l,o){const c=(ha(o[0])?[o[0]]:st(o[0],"ordgroup").body).map(function(y){const k=ps(y).text;if(-1!=="lc".indexOf(k))return{type:"align",align:k};throw new ae("Unknown column alignment: "+k,y)});if(c.length>1)throw new ae("{subarray} can contain only one column");let p={cols:c,hskipBeforeAndAfter:!1,arraystretch:.5};if(p=Fi(l.parser,p,"script"),p.body.length>0&&p.body[0].length>1)throw new ae("{subarray} can contain only one column");return p},htmlBuilder:hi,mathmlBuilder:zi}),jn({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(l){const o=Fi(l.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},_s(l.envName));return{type:"leftright",mode:l.mode,body:[o],left:l.envName.indexOf("r")>-1?".":"\\{",right:l.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:hi,mathmlBuilder:zi}),jn({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Ts,htmlBuilder:hi,mathmlBuilder:zi}),jn({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(l){Se.contains(["gather","gather*"],l.envName)&&wa(l);const o={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Sa(l.envName),emptySingleRow:!0,leqno:l.parser.settings.leqno};return Fi(l.parser,o,"display")},htmlBuilder:hi,mathmlBuilder:zi}),jn({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Ts,htmlBuilder:hi,mathmlBuilder:zi}),jn({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(l){wa(l);const o={autoTag:Sa(l.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:l.parser.settings.leqno};return Fi(l.parser,o,"display")},htmlBuilder:hi,mathmlBuilder:zi}),jn({type:"array",names:["CD"],props:{numArgs:0},handler:l=>(wa(l),function(o){const c=[];for(o.gullet.beginGroup(),o.gullet.macros.set("\\cr","\\\\\\relax"),o.gullet.beginGroup();;){c.push(o.parseExpression(!1,"\\\\")),o.gullet.endGroup(),o.gullet.beginGroup();const x=o.fetch().text;if("&"!==x&&"\\\\"!==x){if("\\end"===x){0===c[c.length-1].length&&c.pop();break}throw new ae("Expected \\\\ or \\cr or \\end",o.nextToken)}o.consume()}let p=[];const y=[p];for(let x=0;x<c.length;x++){const N=c[x];let j={type:"styling",body:[],mode:"math",style:"display"};for(let X=0;X<N.length;X++)if(ms(N[X])){p.push(j),X+=1;const G=ps(N[X]).text,V=new Array(2);if(V[0]={type:"ordgroup",mode:"math",body:[]},V[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(G)>-1)){if(!("<>AV".indexOf(G)>-1))throw new ae('Expected one of "<>AV=|." after @',N[X]);for(let ue=0;ue<2;ue++){let Ie=!0;for(let Oe=X+1;Oe<N.length;Oe++){if(("mathord"===(k=N[Oe]).type||"atom"===k.type)&&k.text===G){Ie=!1,X=Oe;break}if(ms(N[Oe]))throw new ae("Missing a "+G+" character to complete a CD arrow.",N[Oe]);V[ue].body.push(N[Oe])}if(Ie)throw new ae("Missing a "+G+" character to complete a CD arrow.",N[X])}}const J={type:"styling",body:[no(G,V,o)],mode:"math",style:"display"};p.push(J),j={type:"styling",body:[],mode:"math",style:"display"}}else j.body.push(N[X]);x%2==0?p.push(j):p.shift(),p=[],y.push(p)}var k;return o.gullet.endGroup(),o.gullet.endGroup(),{type:"array",mode:"math",body:y,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(y[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(y.length+1).fill([])}}(l.parser)),htmlBuilder:hi,mathmlBuilder:zi}),L("\\nonumber","\\gdef\\@eqnsw{0}"),L("\\notag","\\nonumber"),me({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(l,o){throw new ae(l.funcName+" valid only within array environment")}});var Gr=Ut;me({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(l,o){let{parser:c,funcName:p}=l;const y=o[0];if("ordgroup"!==y.type)throw new ae("Invalid environment name",y);let k="";for(let P=0;P<y.body.length;++P)k+=st(y.body[P],"textord").text;if("\\begin"===p){if(!Gr.hasOwnProperty(k))throw new ae("No such environment: "+k,y);const P=Gr[k],{args:x,optArgs:N}=c.parseArguments("\\begin{"+k+"}",P),X=P.handler({mode:c.mode,envName:k,parser:c},x,N);c.expect("\\end",!1);const G=c.nextToken,V=st(c.parseFunction(),"environment");if(V.name!==k)throw new ae("Mismatch: \\begin{"+k+"} matched by \\end{"+V.name+"}",G);return X}return{type:"environment",mode:c.mode,name:k,nameGroup:y}}});const lo=(l,o)=>{const p=o.withFont(l.font);return ft(l.body,p)},xa=(l,o)=>{const p=o.withFont(l.font);return _t(l.body,p)},ka={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};me({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(l,o)=>{let{parser:c,funcName:p}=l;const y=Ar(o[0]);let k=p;return k in ka&&(k=ka[k]),{type:"font",mode:c.mode,font:k.slice(1),body:y}},htmlBuilder:lo,mathmlBuilder:xa}),me({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(l,o)=>{let{parser:c}=l;const p=o[0],y=Se.isCharacterBox(p);return{type:"mclass",mode:c.mode,mclass:oi(p),body:[{type:"font",mode:c.mode,font:"boldsymbol",body:p}],isCharacterBox:y}}}),me({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(l,o)=>{let{parser:c,funcName:p,breakOnTokenText:y}=l;const{mode:k}=c,P=c.parseExpression(!0,y);return{type:"font",mode:k,font:"math"+p.slice(1),body:{type:"ordgroup",mode:c.mode,body:P}}},htmlBuilder:lo,mathmlBuilder:xa});const vi=(l,o)=>{let c=o;return"display"===l?c=c.id>=ge.SCRIPT.id?c.text():ge.DISPLAY:"text"===l&&c.size===ge.DISPLAY.size?c=ge.TEXT:"script"===l?c=ge.SCRIPT:"scriptscript"===l&&(c=ge.SCRIPTSCRIPT),c},Ea=(l,o)=>{const c=vi(l.size,o.style),p=c.fracNum(),y=c.fracDen();let k;k=o.havingStyle(p);const P=ft(l.numer,k,o);if(l.continued){const ct=8.5/o.fontMetrics().ptPerEm,$e=3.5/o.fontMetrics().ptPerEm;P.height=P.height<ct?ct:P.height,P.depth=P.depth<$e?$e:P.depth}k=o.havingStyle(y);const x=ft(l.denom,k,o);let N,j,X,G,V,J,ue,Ie,Oe,Qe;if(l.hasBarLine?(l.barSize?(j=Ct(l.barSize,o),N=$.makeLineSpan("frac-line",o,j)):N=$.makeLineSpan("frac-line",o),j=N.height,X=N.height):(N=null,j=0,X=o.fontMetrics().defaultRuleThickness),c.size===ge.DISPLAY.size||"display"===l.size?(G=o.fontMetrics().num1,V=j>0?3*X:7*X,J=o.fontMetrics().denom1):(j>0?(G=o.fontMetrics().num2,V=X):(G=o.fontMetrics().num3,V=3*X),J=o.fontMetrics().denom2),N){const ct=o.fontMetrics().axisHeight;G-P.depth-(ct+.5*j)<V&&(G+=V-(G-P.depth-(ct+.5*j))),ct-.5*j-(x.height-J)<V&&(J+=V-(ct-.5*j-(x.height-J))),ue=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:x,shift:J},{type:"elem",elem:N,shift:-(ct-.5*j)},{type:"elem",elem:P,shift:-G}]},o)}else{const ct=G-P.depth-(x.height-J);ct<V&&(G+=.5*(V-ct),J+=.5*(V-ct)),ue=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:x,shift:J},{type:"elem",elem:P,shift:-G}]},o)}return k=o.havingStyle(c),ue.height*=k.sizeMultiplier/o.sizeMultiplier,ue.depth*=k.sizeMultiplier/o.sizeMultiplier,Ie=c.size===ge.DISPLAY.size?o.fontMetrics().delim1:c.size===ge.SCRIPTSCRIPT.size?o.havingStyle(ge.SCRIPT).fontMetrics().delim2:o.fontMetrics().delim2,Oe=null==l.leftDelim?Ir(o,["mopen"]):Ci.customSizedDelim(l.leftDelim,Ie,!0,o.havingStyle(c),l.mode,["mopen"]),Qe=l.continued?$.makeSpan([]):null==l.rightDelim?Ir(o,["mclose"]):Ci.customSizedDelim(l.rightDelim,Ie,!0,o.havingStyle(c),l.mode,["mclose"]),$.makeSpan(["mord"].concat(k.sizingClasses(o)),[Oe,$.makeSpan(["mfrac"],[ue]),Qe],o)},Xr=(l,o)=>{let c=new oe.MathNode("mfrac",[_t(l.numer,o),_t(l.denom,o)]);if(l.hasBarLine){if(l.barSize){const y=Ct(l.barSize,o);c.setAttribute("linethickness",de(y))}}else c.setAttribute("linethickness","0px");const p=vi(l.size,o.style);if(p.size!==o.style.size&&(c=new oe.MathNode("mstyle",[c]),c.setAttribute("displaystyle",p.size===ge.DISPLAY.size?"true":"false"),c.setAttribute("scriptlevel","0")),null!=l.leftDelim||null!=l.rightDelim){const y=[];if(null!=l.leftDelim){const k=new oe.MathNode("mo",[new oe.TextNode(l.leftDelim.replace("\\",""))]);k.setAttribute("fence","true"),y.push(k)}if(y.push(c),null!=l.rightDelim){const k=new oe.MathNode("mo",[new oe.TextNode(l.rightDelim.replace("\\",""))]);k.setAttribute("fence","true"),y.push(k)}return ca(y)}return c};me({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(l,o)=>{let{parser:c,funcName:p}=l;const y=o[0],k=o[1];let P,x=null,N=null,j="auto";switch(p){case"\\dfrac":case"\\frac":case"\\tfrac":P=!0;break;case"\\\\atopfrac":P=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":P=!1,x="(",N=")";break;case"\\\\bracefrac":P=!1,x="\\{",N="\\}";break;case"\\\\brackfrac":P=!1,x="[",N="]";break;default:throw new Error("Unrecognized genfrac command")}switch(p){case"\\dfrac":case"\\dbinom":j="display";break;case"\\tfrac":case"\\tbinom":j="text"}return{type:"genfrac",mode:c.mode,continued:!1,numer:y,denom:k,hasBarLine:P,leftDelim:x,rightDelim:N,size:j,barSize:null}},htmlBuilder:Ea,mathmlBuilder:Xr}),me({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(l,o)=>{let{parser:c}=l;return{type:"genfrac",mode:c.mode,continued:!0,numer:o[0],denom:o[1],hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),me({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(l){let o,{parser:c,funcName:p,token:y}=l;switch(p){case"\\over":o="\\frac";break;case"\\choose":o="\\binom";break;case"\\atop":o="\\\\atopfrac";break;case"\\brace":o="\\\\bracefrac";break;case"\\brack":o="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:c.mode,replaceWith:o,token:y}}});const ur=["display","text","script","scriptscript"],Kr=function(l){let o=null;return l.length>0&&(o=l,o="."===o?null:o),o};me({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(l,o){let{parser:c}=l;const p=o[4],y=o[5],k=Ar(o[0]),P="atom"===k.type&&"open"===k.family?Kr(k.text):null,x=Ar(o[1]),N="atom"===x.type&&"close"===x.family?Kr(x.text):null,j=st(o[2],"size");let X,G=null;j.isBlank?X=!0:(G=j.value,X=G.number>0);let V="auto",J=o[3];if("ordgroup"===J.type){if(J.body.length>0){const ue=st(J.body[0],"textord");V=ur[Number(ue.text)]}}else J=st(J,"textord"),V=ur[Number(J.text)];return{type:"genfrac",mode:c.mode,numer:p,denom:y,continued:!1,hasBarLine:X,barSize:G,leftDelim:P,rightDelim:N,size:V}},htmlBuilder:Ea,mathmlBuilder:Xr}),me({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(l,o){let{parser:c,token:y}=l;return{type:"infix",mode:c.mode,replaceWith:"\\\\abovefrac",size:st(o[0],"size").value,token:y}}}),me({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(l,o)=>{let{parser:c}=l;const y=o[0],k=function(N){if(!N)throw new Error("Expected non-null, but got "+String(N));return N}(st(o[1],"infix").size);return{type:"genfrac",mode:c.mode,numer:y,denom:o[2],continued:!1,hasBarLine:k.number>0,barSize:k,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Ea,mathmlBuilder:Xr});const Ca=(l,o)=>{const c=o.style;let p,y;"supsub"===l.type?(p=l.sup?ft(l.sup,o.havingStyle(c.sup()),o):ft(l.sub,o.havingStyle(c.sub()),o),y=st(l.base,"horizBrace")):y=st(l,"horizBrace");const k=ft(y.base,o.havingBaseStyle(ge.DISPLAY)),P=Vr(y,o);let x;if(y.isOver?(x=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:k},{type:"kern",size:.1},{type:"elem",elem:P}]},o),x.children[0].children[0].children[1].classes.push("svg-align")):(x=$.makeVList({positionType:"bottom",positionData:k.depth+.1+P.height,children:[{type:"elem",elem:P},{type:"kern",size:.1},{type:"elem",elem:k}]},o),x.children[0].children[0].children[0].classes.push("svg-align")),p){const N=$.makeSpan(["mord",y.isOver?"mover":"munder"],[x],o);x=$.makeVList(y.isOver?{positionType:"firstBaseline",children:[{type:"elem",elem:N},{type:"kern",size:.2},{type:"elem",elem:p}]}:{positionType:"bottom",positionData:N.depth+.2+p.height+p.depth,children:[{type:"elem",elem:p},{type:"kern",size:.2},{type:"elem",elem:N}]},o)}return $.makeSpan(["mord",y.isOver?"mover":"munder"],[x],o)};me({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(l,o){let{parser:c,funcName:p}=l;return{type:"horizBrace",mode:c.mode,label:p,isOver:/^\\over/.test(p),base:o[0]}},htmlBuilder:Ca,mathmlBuilder:(l,o)=>{const c=rr(l.label);return new oe.MathNode(l.isOver?"mover":"munder",[_t(l.base,o),c])}}),me({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(l,o)=>{let{parser:c}=l;const p=o[1],y=st(o[0],"url").url;return c.settings.isTrusted({command:"\\href",url:y})?{type:"href",mode:c.mode,href:y,body:ln(p)}:c.formatUnsupportedCmd("\\href")},htmlBuilder:(l,o)=>{const c=dn(l.body,o,!1);return $.makeAnchor(l.href,[],c,o)},mathmlBuilder:(l,o)=>{let c=Ui(l.body,o);return c instanceof Nn||(c=new Nn("mrow",[c])),c.setAttribute("href",l.href),c}}),me({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(l,o)=>{let{parser:c}=l;const p=st(o[0],"url").url;if(!c.settings.isTrusted({command:"\\url",url:p}))return c.formatUnsupportedCmd("\\url");const y=[];for(let P=0;P<p.length;P++){let x=p[P];"~"===x&&(x="\\textasciitilde"),y.push({type:"textord",mode:"text",text:x})}return{type:"href",mode:c.mode,href:p,body:ln({type:"text",mode:c.mode,font:"\\texttt",body:y})}}}),me({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(l,o){let{parser:c}=l;return{type:"hbox",mode:c.mode,body:ln(o[0])}},htmlBuilder(l,o){const c=dn(l.body,o,!1);return $.makeFragment(c)},mathmlBuilder:(l,o)=>new oe.MathNode("mrow",ti(l.body,o))}),me({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(l,o)=>{let{parser:c,funcName:p}=l;const k=st(o[0],"raw").string,P=o[1];let x;c.settings.strict&&c.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");const N={};switch(p){case"\\htmlClass":N.class=k,x={command:"\\htmlClass",class:k};break;case"\\htmlId":N.id=k,x={command:"\\htmlId",id:k};break;case"\\htmlStyle":N.style=k,x={command:"\\htmlStyle",style:k};break;case"\\htmlData":{const j=k.split(",");for(let X=0;X<j.length;X++){const G=j[X].split("=");if(2!==G.length)throw new ae("Error parsing key-value for \\htmlData");N["data-"+G[0].trim()]=G[1].trim()}x={command:"\\htmlData",attributes:N};break}default:throw new Error("Unrecognized html command")}return c.settings.isTrusted(x)?{type:"html",mode:c.mode,attributes:N,body:ln(P)}:c.formatUnsupportedCmd(p)},htmlBuilder:(l,o)=>{const c=dn(l.body,o,!1),p=["enclosing"];l.attributes.class&&p.push(...l.attributes.class.trim().split(/\s+/));const y=$.makeSpan(p,c,o);for(const k in l.attributes)"class"!==k&&l.attributes.hasOwnProperty(k)&&y.setAttribute(k,l.attributes[k]);return y},mathmlBuilder:(l,o)=>Ui(l.body,o)}),me({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(l,o)=>{let{parser:c}=l;return{type:"htmlmathml",mode:c.mode,html:ln(o[0]),mathml:ln(o[1])}},htmlBuilder:(l,o)=>{const c=dn(l.html,o,!1);return $.makeFragment(c)},mathmlBuilder:(l,o)=>Ui(l.mathml,o)});const Aa=function(l){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(l))return{number:+l,unit:"bp"};{const o=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(l);if(!o)throw new ae("Invalid size: '"+l+"' in \\includegraphics");const c={number:+(o[1]+o[2]),unit:o[3]};if(!Vi(c))throw new ae("Invalid unit: '"+c.unit+"' in \\includegraphics.");return c}};me({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(l,o,c)=>{let{parser:p}=l,y={number:0,unit:"em"},k={number:.9,unit:"em"},P={number:0,unit:"em"},x="";if(c[0]){const j=st(c[0],"raw").string.split(",");for(let X=0;X<j.length;X++){const G=j[X].split("=");if(2===G.length){const V=G[1].trim();switch(G[0].trim()){case"alt":x=V;break;case"width":y=Aa(V);break;case"height":k=Aa(V);break;case"totalheight":P=Aa(V);break;default:throw new ae("Invalid key: '"+G[0]+"' in \\includegraphics.")}}}}const N=st(o[0],"url").url;return""===x&&(x=N,x=x.replace(/^.*[\\/]/,""),x=x.substring(0,x.lastIndexOf("."))),p.settings.isTrusted({command:"\\includegraphics",url:N})?{type:"includegraphics",mode:p.mode,alt:x,width:y,height:k,totalheight:P,src:N}:p.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(l,o)=>{const c=Ct(l.height,o);let p=0;l.totalheight.number>0&&(p=Ct(l.totalheight,o)-c);let y=0;l.width.number>0&&(y=Ct(l.width,o));const k={height:de(c+p)};y>0&&(k.width=de(y)),p>0&&(k.verticalAlign=de(-p));const P=new ve(l.src,l.alt,k);return P.height=c,P.depth=p,P},mathmlBuilder:(l,o)=>{const c=new oe.MathNode("mglyph",[]);c.setAttribute("alt",l.alt);const p=Ct(l.height,o);let y=0;if(l.totalheight.number>0&&(y=Ct(l.totalheight,o)-p,c.setAttribute("valign",de(-y))),c.setAttribute("height",de(p+y)),l.width.number>0){const k=Ct(l.width,o);c.setAttribute("width",de(k))}return c.setAttribute("src",l.src),c}}),me({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(l,o){let{parser:c,funcName:p}=l;const y=st(o[0],"size");if(c.settings.strict){const P="mu"===y.value.unit;"m"===p[1]?(P||c.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+p+" supports only mu units, not "+y.value.unit+" units"),"math"!==c.mode&&c.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+p+" works only in math mode")):P&&c.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+p+" doesn't support mu units")}return{type:"kern",mode:c.mode,dimension:y.value}},htmlBuilder:(l,o)=>$.makeGlue(l.dimension,o),mathmlBuilder(l,o){const c=Ct(l.dimension,o);return new oe.SpaceNode(c)}}),me({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(l,o)=>{let{parser:c,funcName:p}=l;const y=o[0];return{type:"lap",mode:c.mode,alignment:p.slice(5),body:y}},htmlBuilder:(l,o)=>{let c;"clap"===l.alignment?(c=$.makeSpan([],[ft(l.body,o)]),c=$.makeSpan(["inner"],[c],o)):c=$.makeSpan(["inner"],[ft(l.body,o)]);const p=$.makeSpan(["fix"],[]);let y=$.makeSpan([l.alignment],[c,p],o);const k=$.makeSpan(["strut"]);return k.style.height=de(y.height+y.depth),y.depth&&(k.style.verticalAlign=de(-y.depth)),y.children.unshift(k),y=$.makeSpan(["thinbox"],[y],o),$.makeSpan(["mord","vbox"],[y],o)},mathmlBuilder:(l,o)=>{const c=new oe.MathNode("mpadded",[_t(l.body,o)]);return"rlap"!==l.alignment&&c.setAttribute("lspace",("llap"===l.alignment?"-1":"-0.5")+"width"),c.setAttribute("width","0px"),c}}),me({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(l,o){let{funcName:c,parser:p}=l;const y=p.mode;p.switchMode("math");const k="\\("===c?"\\)":"$",P=p.parseExpression(!1,k);return p.expect(k),p.switchMode(y),{type:"styling",mode:p.mode,style:"text",body:P}}}),me({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(l,o){throw new ae("Mismatched "+l.funcName)}});const co=(l,o)=>{switch(o.style.size){case ge.DISPLAY.size:return l.display;case ge.TEXT.size:return l.text;case ge.SCRIPT.size:return l.script;case ge.SCRIPTSCRIPT.size:return l.scriptscript;default:return l.text}};me({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(l,o)=>{let{parser:c}=l;return{type:"mathchoice",mode:c.mode,display:ln(o[0]),text:ln(o[1]),script:ln(o[2]),scriptscript:ln(o[3])}},htmlBuilder:(l,o)=>{const c=co(l,o),p=dn(c,o,!1);return $.makeFragment(p)},mathmlBuilder:(l,o)=>{const c=co(l,o);return Ui(c,o)}});const Rr=(l,o,c,p,y,k,P)=>{l=$.makeSpan([],[l]);const x=c&&Se.isCharacterBox(c);let N,j,X;if(o){const V=ft(o,p.havingStyle(y.sup()),p);j={elem:V,kern:Math.max(p.fontMetrics().bigOpSpacing1,p.fontMetrics().bigOpSpacing3-V.depth)}}if(c){const V=ft(c,p.havingStyle(y.sub()),p);N={elem:V,kern:Math.max(p.fontMetrics().bigOpSpacing2,p.fontMetrics().bigOpSpacing4-V.height)}}if(j&&N){const V=p.fontMetrics().bigOpSpacing5+N.elem.height+N.elem.depth+N.kern+l.depth+P;X=$.makeVList({positionType:"bottom",positionData:V,children:[{type:"kern",size:p.fontMetrics().bigOpSpacing5},{type:"elem",elem:N.elem,marginLeft:de(-k)},{type:"kern",size:N.kern},{type:"elem",elem:l},{type:"kern",size:j.kern},{type:"elem",elem:j.elem,marginLeft:de(k)},{type:"kern",size:p.fontMetrics().bigOpSpacing5}]},p)}else if(N)X=$.makeVList({positionType:"top",positionData:l.height-P,children:[{type:"kern",size:p.fontMetrics().bigOpSpacing5},{type:"elem",elem:N.elem,marginLeft:de(-k)},{type:"kern",size:N.kern},{type:"elem",elem:l}]},p);else{if(!j)return l;X=$.makeVList({positionType:"bottom",positionData:l.depth+P,children:[{type:"elem",elem:l},{type:"kern",size:j.kern},{type:"elem",elem:j.elem,marginLeft:de(k)},{type:"kern",size:p.fontMetrics().bigOpSpacing5}]},p)}const G=[X];if(N&&0!==k&&!x){const V=$.makeSpan(["mspace"],[],p);V.style.marginRight=de(k),G.unshift(V)}return $.makeSpan(["mop","op-limits"],G,p)},ws=["\\smallint"],lr=(l,o)=>{let c,p,y,k=!1;"supsub"===l.type?(c=l.sup,p=l.sub,y=st(l.base,"op"),k=!0):y=st(l,"op");const P=o.style;let x,N=!1;if(P.size===ge.DISPLAY.size&&y.symbol&&!Se.contains(ws,y.name)&&(N=!0),y.symbol){const G=N?"Size2-Regular":"Size1-Regular";let V="";if("\\oiint"!==y.name&&"\\oiiint"!==y.name||(V=y.name.slice(1),y.name="oiint"===V?"\\iint":"\\iiint"),x=$.makeSymbol(y.name,G,"math",o,["mop","op-symbol",N?"large-op":"small-op"]),V.length>0){const J=x.italic,ue=$.staticSvg(V+"Size"+(N?"2":"1"),o);x=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:x,shift:0},{type:"elem",elem:ue,shift:N?.08:0}]},o),y.name="\\"+V,x.classes.unshift("mop"),x.italic=J}}else if(y.body){const G=dn(y.body,o,!0);1===G.length&&G[0]instanceof Ae?(x=G[0],x.classes[0]="mop"):x=$.makeSpan(["mop"],G,o)}else{const G=[];for(let V=1;V<y.name.length;V++)G.push($.mathsym(y.name[V],y.mode,o));x=$.makeSpan(["mop"],G,o)}let j=0,X=0;return(x instanceof Ae||"\\oiint"===y.name||"\\oiiint"===y.name)&&!y.suppressBaseShift&&(j=(x.height-x.depth)/2-o.fontMetrics().axisHeight,X=x.italic),k?Rr(x,c,p,o,P,X,j):(j&&(x.style.position="relative",x.style.top=de(j)),x)},cr=(l,o)=>{let c;if(l.symbol)c=new Nn("mo",[hn(l.name,l.mode)]),Se.contains(ws,l.name)&&c.setAttribute("largeop","false");else if(l.body)c=new Nn("mo",ti(l.body,o));else{c=new Nn("mi",[new jr(l.name.slice(1))]);const p=new Nn("mo",[hn("\u2061","text")]);c=l.parentIsSupSub?new Nn("mrow",[c,p]):Hn([c,p])}return c},ho={"\u220f":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22c0":"\\bigwedge","\u22c1":"\\bigvee","\u22c2":"\\bigcap","\u22c3":"\\bigcup","\u2a00":"\\bigodot","\u2a01":"\\bigoplus","\u2a02":"\\bigotimes","\u2a04":"\\biguplus","\u2a06":"\\bigsqcup"};me({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220f","\u2210","\u2211","\u22c0","\u22c1","\u22c2","\u22c3","\u2a00","\u2a01","\u2a02","\u2a04","\u2a06"],props:{numArgs:0},handler:(l,o)=>{let{parser:c,funcName:p}=l,y=p;return 1===y.length&&(y=ho[y]),{type:"op",mode:c.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:y}},htmlBuilder:lr,mathmlBuilder:cr}),me({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(l,o)=>{let{parser:c}=l;return{type:"op",mode:c.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ln(o[0])}},htmlBuilder:lr,mathmlBuilder:cr});const po={"\u222b":"\\int","\u222c":"\\iint","\u222d":"\\iiint","\u222e":"\\oint","\u222f":"\\oiint","\u2230":"\\oiiint"};me({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(l){let{parser:o,funcName:c}=l;return{type:"op",mode:o.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:c}},htmlBuilder:lr,mathmlBuilder:cr}),me({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(l){let{parser:o,funcName:c}=l;return{type:"op",mode:o.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:c}},htmlBuilder:lr,mathmlBuilder:cr}),me({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222b","\u222c","\u222d","\u222e","\u222f","\u2230"],props:{numArgs:0},handler(l){let{parser:o,funcName:c}=l,p=c;return 1===p.length&&(p=po[p]),{type:"op",mode:o.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:p}},htmlBuilder:lr,mathmlBuilder:cr});const Ia=(l,o)=>{let c,p,y,k,P=!1;if("supsub"===l.type?(c=l.sup,p=l.sub,y=st(l.base,"operatorname"),P=!0):y=st(l,"operatorname"),y.body.length>0){const x=y.body.map(j=>{const X=j.text;return"string"==typeof X?{type:"textord",mode:j.mode,text:X}:j}),N=dn(x,o.withFont("mathrm"),!0);for(let j=0;j<N.length;j++){const X=N[j];X instanceof Ae&&(X.text=X.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}k=$.makeSpan(["mop"],N,o)}else k=$.makeSpan(["mop"],[],o);return P?Rr(k,c,p,o,o.style,0,0):k};function Ma(l,o,c){const p=dn(l,o,!1),y=o.sizeMultiplier/c.sizeMultiplier;for(let k=0;k<p.length;k++){const P=p[k].classes.indexOf("sizing");P<0?Array.prototype.push.apply(p[k].classes,o.sizingClasses(c)):p[k].classes[P+1]==="reset-size"+o.size&&(p[k].classes[P+1]="reset-size"+c.size),p[k].height*=y,p[k].depth*=y}return $.makeFragment(p)}me({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(l,o)=>{let{parser:c,funcName:p}=l;return{type:"operatorname",mode:c.mode,body:ln(o[0]),alwaysHandleSupSub:"\\operatornamewithlimits"===p,limits:!1,parentIsSupSub:!1}},htmlBuilder:Ia,mathmlBuilder:(l,o)=>{let c=ti(l.body,o.withFont("mathrm")),p=!0;for(let P=0;P<c.length;P++){const x=c[P];if(!(x instanceof oe.SpaceNode))if(x instanceof oe.MathNode)switch(x.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const N=x.children[0];1===x.children.length&&N instanceof oe.TextNode?N.text=N.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):p=!1;break}default:p=!1}else p=!1}if(p){const P=c.map(x=>x.toText()).join("");c=[new oe.TextNode(P)]}const y=new oe.MathNode("mi",c);y.setAttribute("mathvariant","normal");const k=new oe.MathNode("mo",[hn("\u2061","text")]);return l.parentIsSupSub?new oe.MathNode("mrow",[y,k]):oe.newDocumentFragment([y,k])}}),L("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),nr({type:"ordgroup",htmlBuilder:(l,o)=>l.semisimple?$.makeFragment(dn(l.body,o,!1)):$.makeSpan(["mord"],dn(l.body,o,!0),o),mathmlBuilder:(l,o)=>Ui(l.body,o,!0)}),me({type:"overline",names:["\\overline"],props:{numArgs:1},handler(l,o){let{parser:c}=l;return{type:"overline",mode:c.mode,body:o[0]}},htmlBuilder(l,o){const c=ft(l.body,o.havingCrampedStyle()),p=$.makeLineSpan("overline-line",o),y=o.fontMetrics().defaultRuleThickness,k=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:3*y},{type:"elem",elem:p},{type:"kern",size:y}]},o);return $.makeSpan(["mord","overline"],[k],o)},mathmlBuilder(l,o){const c=new oe.MathNode("mo",[new oe.TextNode("\u203e")]);c.setAttribute("stretchy","true");const p=new oe.MathNode("mover",[_t(l.body,o),c]);return p.setAttribute("accent","true"),p}}),me({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(l,o)=>{let{parser:c}=l;return{type:"phantom",mode:c.mode,body:ln(o[0])}},htmlBuilder:(l,o)=>{const c=dn(l.body,o.withPhantom(),!1);return $.makeFragment(c)},mathmlBuilder:(l,o)=>{const c=ti(l.body,o);return new oe.MathNode("mphantom",c)}}),me({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(l,o)=>{let{parser:c}=l;return{type:"hphantom",mode:c.mode,body:o[0]}},htmlBuilder:(l,o)=>{let c=$.makeSpan([],[ft(l.body,o.withPhantom())]);if(c.height=0,c.depth=0,c.children)for(let p=0;p<c.children.length;p++)c.children[p].height=0,c.children[p].depth=0;return c=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c}]},o),$.makeSpan(["mord"],[c],o)},mathmlBuilder:(l,o)=>{const c=ti(ln(l.body),o),p=new oe.MathNode("mphantom",c),y=new oe.MathNode("mpadded",[p]);return y.setAttribute("height","0px"),y.setAttribute("depth","0px"),y}}),me({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(l,o)=>{let{parser:c}=l;return{type:"vphantom",mode:c.mode,body:o[0]}},htmlBuilder:(l,o)=>{const c=$.makeSpan(["inner"],[ft(l.body,o.withPhantom())]),p=$.makeSpan(["fix"],[]);return $.makeSpan(["mord","rlap"],[c,p],o)},mathmlBuilder:(l,o)=>{const c=ti(ln(l.body),o),p=new oe.MathNode("mphantom",c),y=new oe.MathNode("mpadded",[p]);return y.setAttribute("width","0px"),y}}),me({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(l,o){let{parser:c}=l;const p=st(o[0],"size").value;return{type:"raisebox",mode:c.mode,dy:p,body:o[1]}},htmlBuilder(l,o){const c=ft(l.body,o),p=Ct(l.dy,o);return $.makeVList({positionType:"shift",positionData:-p,children:[{type:"elem",elem:c}]},o)},mathmlBuilder(l,o){const c=new oe.MathNode("mpadded",[_t(l.body,o)]);return c.setAttribute("voffset",l.dy.number+l.dy.unit),c}}),me({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(l){let{parser:o}=l;return{type:"internal",mode:o.mode}}}),me({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(l,o,c){let{parser:p}=l;const y=c[0],k=st(o[0],"size"),P=st(o[1],"size");return{type:"rule",mode:p.mode,shift:y&&st(y,"size").value,width:k.value,height:P.value}},htmlBuilder(l,o){const c=$.makeSpan(["mord","rule"],[],o),p=Ct(l.width,o),y=Ct(l.height,o),k=l.shift?Ct(l.shift,o):0;return c.style.borderRightWidth=de(p),c.style.borderTopWidth=de(y),c.style.bottom=de(k),c.width=p,c.height=y+k,c.depth=-k,c.maxFontSize=1.125*y*o.sizeMultiplier,c},mathmlBuilder(l,o){const c=Ct(l.width,o),p=Ct(l.height,o),y=l.shift?Ct(l.shift,o):0,k=o.color&&o.getColor()||"black",P=new oe.MathNode("mspace");P.setAttribute("mathbackground",k),P.setAttribute("width",de(c)),P.setAttribute("height",de(p));const x=new oe.MathNode("mpadded",[P]);return y>=0?x.setAttribute("height",de(y)):(x.setAttribute("height",de(y)),x.setAttribute("depth",de(-y))),x.setAttribute("voffset",de(y)),x}});const Cn=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];me({type:"sizing",names:Cn,props:{numArgs:0,allowedInText:!0},handler:(l,o)=>{let{breakOnTokenText:c,funcName:p,parser:y}=l;const k=y.parseExpression(!1,c);return{type:"sizing",mode:y.mode,size:Cn.indexOf(p)+1,body:k}},htmlBuilder:(l,o)=>{const c=o.havingSize(l.size);return Ma(l.body,c,o)},mathmlBuilder:(l,o)=>{const c=o.havingSize(l.size),p=ti(l.body,c),y=new oe.MathNode("mstyle",p);return y.setAttribute("mathsize",de(c.sizeMultiplier)),y}}),me({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(l,o,c)=>{let{parser:p}=l,y=!1,k=!1;const P=c[0]&&st(c[0],"ordgroup");if(P){let N="";for(let j=0;j<P.body.length;++j)if(N=P.body[j].text,"t"===N)y=!0;else{if("b"!==N){y=!1,k=!1;break}k=!0}}else y=!0,k=!0;return{type:"smash",mode:p.mode,body:o[0],smashHeight:y,smashDepth:k}},htmlBuilder:(l,o)=>{const c=$.makeSpan([],[ft(l.body,o)]);if(!l.smashHeight&&!l.smashDepth)return c;if(l.smashHeight&&(c.height=0,c.children))for(let y=0;y<c.children.length;y++)c.children[y].height=0;if(l.smashDepth&&(c.depth=0,c.children))for(let y=0;y<c.children.length;y++)c.children[y].depth=0;const p=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c}]},o);return $.makeSpan(["mord"],[p],o)},mathmlBuilder:(l,o)=>{const c=new oe.MathNode("mpadded",[_t(l.body,o)]);return l.smashHeight&&c.setAttribute("height","0px"),l.smashDepth&&c.setAttribute("depth","0px"),c}}),me({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(l,o,c){let{parser:p}=l;return{type:"sqrt",mode:p.mode,body:o[0],index:c[0]}},htmlBuilder(l,o){let c=ft(l.body,o.havingCrampedStyle());0===c.height&&(c.height=o.fontMetrics().xHeight),c=$.wrapFragment(c,o);const p=o.fontMetrics().defaultRuleThickness;let y=p;o.style.id<ge.TEXT.id&&(y=o.fontMetrics().xHeight);let k=p+y/4;const P=c.height+c.depth+k+p,{span:x,ruleWidth:N,advanceWidth:j}=Ci.sqrtImage(P,o),X=x.height-N;X>c.height+c.depth+k&&(k=(k+X-c.height-c.depth)/2);const G=x.height-c.height-k-N;c.style.paddingLeft=de(j);const V=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c,wrapperClasses:["svg-align"]},{type:"kern",size:-(c.height+G)},{type:"elem",elem:x},{type:"kern",size:N}]},o);if(l.index){const J=o.havingStyle(ge.SCRIPTSCRIPT),ue=ft(l.index,J,o),Oe=$.makeVList({positionType:"shift",positionData:-.6*(V.height-V.depth),children:[{type:"elem",elem:ue}]},o),Qe=$.makeSpan(["root"],[Oe]);return $.makeSpan(["mord","sqrt"],[Qe,V],o)}return $.makeSpan(["mord","sqrt"],[V],o)},mathmlBuilder(l,o){const{body:c,index:p}=l;return p?new oe.MathNode("mroot",[_t(c,o),_t(p,o)]):new oe.MathNode("msqrt",[_t(c,o)])}});const Ft={display:ge.DISPLAY,text:ge.TEXT,script:ge.SCRIPT,scriptscript:ge.SCRIPTSCRIPT};me({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(l,o){let{breakOnTokenText:c,funcName:p,parser:y}=l;const k=y.parseExpression(!0,c),P=p.slice(1,p.length-5);return{type:"styling",mode:y.mode,style:P,body:k}},htmlBuilder(l,o){const p=o.havingStyle(Ft[l.style]).withFont("");return Ma(l.body,p,o)},mathmlBuilder(l,o){const p=o.havingStyle(Ft[l.style]),y=ti(l.body,p),k=new oe.MathNode("mstyle",y),P={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[l.style];return k.setAttribute("scriptlevel",P[0]),k.setAttribute("displaystyle",P[1]),k}}),nr({type:"supsub",htmlBuilder(l,o){const c=function($e,yt){const wt=$e.base;return wt?"op"===wt.type?wt.limits&&(yt.style.size===ge.DISPLAY.size||wt.alwaysHandleSupSub)?lr:null:"operatorname"===wt.type?wt.alwaysHandleSupSub&&(yt.style.size===ge.DISPLAY.size||wt.limits)?Ia:null:"accent"===wt.type?Se.isCharacterBox(wt.base)?pa:null:"horizBrace"===wt.type&&!$e.sub===wt.isOver?Ca:null:null}(l,o);if(c)return c(l,o);const{base:p,sup:y,sub:k}=l,P=ft(p,o);let x,N;const j=o.fontMetrics();let X=0,G=0;const V=p&&Se.isCharacterBox(p);if(y){const $e=o.havingStyle(o.style.sup());x=ft(y,$e,o),V||(X=P.height-$e.fontMetrics().supDrop*$e.sizeMultiplier/o.sizeMultiplier)}if(k){const $e=o.havingStyle(o.style.sub());N=ft(k,$e,o),V||(G=P.depth+$e.fontMetrics().subDrop*$e.sizeMultiplier/o.sizeMultiplier)}let J;J=o.style===ge.DISPLAY?j.sup1:o.style.cramped?j.sup3:j.sup2;const Ie=de(.5/j.ptPerEm/o.sizeMultiplier);let Oe,Qe=null;if(N&&(P instanceof Ae||l.base&&"op"===l.base.type&&l.base.name&&("\\oiint"===l.base.name||"\\oiiint"===l.base.name))&&(Qe=de(-P.italic)),x&&N){X=Math.max(X,J,x.depth+.25*j.xHeight),G=Math.max(G,j.sub2);const $e=4*j.defaultRuleThickness;if(X-x.depth-(N.height-G)<$e){G=$e-(X-x.depth)+N.height;const wt=.8*j.xHeight-(X-x.depth);wt>0&&(X+=wt,G-=wt)}Oe=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:N,shift:G,marginRight:Ie,marginLeft:Qe},{type:"elem",elem:x,shift:-X,marginRight:Ie}]},o)}else if(N)G=Math.max(G,j.sub1,N.height-.8*j.xHeight),Oe=$.makeVList({positionType:"shift",positionData:G,children:[{type:"elem",elem:N,marginLeft:Qe,marginRight:Ie}]},o);else{if(!x)throw new Error("supsub must have either sup or sub.");X=Math.max(X,J,x.depth+.25*j.xHeight),Oe=$.makeVList({positionType:"shift",positionData:-X,children:[{type:"elem",elem:x,marginRight:Ie}]},o)}const ct=he(P,"right")||"mord";return $.makeSpan([ct],[P,$.makeSpan(["msupsub"],[Oe])],o)},mathmlBuilder(l,o){let c,p,y=!1;l.base&&"horizBrace"===l.base.type&&(p=!!l.sup,p===l.base.isOver&&(y=!0,c=l.base.isOver)),!l.base||"op"!==l.base.type&&"operatorname"!==l.base.type||(l.base.parentIsSupSub=!0);const k=[_t(l.base,o)];let P;if(l.sub&&k.push(_t(l.sub,o)),l.sup&&k.push(_t(l.sup,o)),y)P=c?"mover":"munder";else if(l.sub)if(l.sup){const x=l.base;P=x&&"op"===x.type&&x.limits&&o.style===ge.DISPLAY||x&&"operatorname"===x.type&&x.alwaysHandleSupSub&&(o.style===ge.DISPLAY||x.limits)?"munderover":"msubsup"}else{const x=l.base;P=x&&"op"===x.type&&x.limits&&(o.style===ge.DISPLAY||x.alwaysHandleSupSub)||x&&"operatorname"===x.type&&x.alwaysHandleSupSub&&(x.limits||o.style===ge.DISPLAY)?"munder":"msub"}else{const x=l.base;P=x&&"op"===x.type&&x.limits&&(o.style===ge.DISPLAY||x.alwaysHandleSupSub)||x&&"operatorname"===x.type&&x.alwaysHandleSupSub&&(x.limits||o.style===ge.DISPLAY)?"mover":"msup"}return new oe.MathNode(P,k)}}),nr({type:"atom",htmlBuilder:(l,o)=>$.mathsym(l.text,l.mode,o,["m"+l.family]),mathmlBuilder(l,o){const c=new oe.MathNode("mo",[hn(l.text,l.mode)]);if("bin"===l.family){const p=us(l,o);"bold-italic"===p&&c.setAttribute("mathvariant",p)}else"punct"===l.family?c.setAttribute("separator","true"):"open"!==l.family&&"close"!==l.family||c.setAttribute("stretchy","false");return c}});const Zt={mi:"italic",mn:"normal",mtext:"normal"};nr({type:"mathord",htmlBuilder:(l,o)=>$.makeOrd(l,o,"mathord"),mathmlBuilder(l,o){const c=new oe.MathNode("mi",[hn(l.text,l.mode,o)]),p=us(l,o)||"italic";return p!==Zt[c.type]&&c.setAttribute("mathvariant",p),c}}),nr({type:"textord",htmlBuilder:(l,o)=>$.makeOrd(l,o,"textord"),mathmlBuilder(l,o){const c=hn(l.text,l.mode,o),p=us(l,o)||"normal";let y;return y="text"===l.mode?new oe.MathNode("mtext",[c]):/[0-9]/.test(l.text)?new oe.MathNode("mn",[c]):new oe.MathNode("\\prime"===l.text?"mo":"mi",[c]),p!==Zt[y.type]&&y.setAttribute("mathvariant",p),y}});const Vn={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},vn={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};nr({type:"spacing",htmlBuilder(l,o){if(vn.hasOwnProperty(l.text)){const c=vn[l.text].className||"";if("text"===l.mode){const p=$.makeOrd(l,o,"textord");return p.classes.push(c),p}return $.makeSpan(["mspace",c],[$.mathsym(l.text,l.mode,o)],o)}if(Vn.hasOwnProperty(l.text))return $.makeSpan(["mspace",Vn[l.text]],[],o);throw new ae('Unknown type of space "'+l.text+'"')},mathmlBuilder(l,o){let c;if(!vn.hasOwnProperty(l.text)){if(Vn.hasOwnProperty(l.text))return new oe.MathNode("mspace");throw new ae('Unknown type of space "'+l.text+'"')}return c=new oe.MathNode("mtext",[new oe.TextNode("\xa0")]),c}});const pn=()=>{const l=new oe.MathNode("mtd",[]);return l.setAttribute("width","50%"),l};nr({type:"tag",mathmlBuilder(l,o){const c=new oe.MathNode("mtable",[new oe.MathNode("mtr",[pn(),new oe.MathNode("mtd",[Ui(l.body,o)]),pn(),new oe.MathNode("mtd",[Ui(l.tag,o)])])]);return c.setAttribute("width","100%"),c}});const Wn={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Rn={"\\textbf":"textbf","\\textmd":"textmd"},Tt={"\\textit":"textit","\\textup":"textup"},bn=(l,o)=>{const c=l.font;return c?Wn[c]?o.withTextFontFamily(Wn[c]):Rn[c]?o.withTextFontWeight(Rn[c]):o.withTextFontShape("\\emph"===c?"textit"===o.fontShape?"textup":"textit":Tt[c]):o};me({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(l,o){let{parser:c,funcName:p}=l;return{type:"text",mode:c.mode,body:ln(o[0]),font:p}},htmlBuilder(l,o){const c=bn(l,o),p=dn(l.body,c,!0);return $.makeSpan(["mord","text"],p,c)},mathmlBuilder(l,o){const c=bn(l,o);return Ui(l.body,c)}}),me({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(l,o){let{parser:c}=l;return{type:"underline",mode:c.mode,body:o[0]}},htmlBuilder(l,o){const c=ft(l.body,o),p=$.makeLineSpan("underline-line",o),y=o.fontMetrics().defaultRuleThickness,k=$.makeVList({positionType:"top",positionData:c.height,children:[{type:"kern",size:y},{type:"elem",elem:p},{type:"kern",size:3*y},{type:"elem",elem:c}]},o);return $.makeSpan(["mord","underline"],[k],o)},mathmlBuilder(l,o){const c=new oe.MathNode("mo",[new oe.TextNode("\u203e")]);c.setAttribute("stretchy","true");const p=new oe.MathNode("munder",[_t(l.body,o),c]);return p.setAttribute("accentunder","true"),p}}),me({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(l,o){let{parser:c}=l;return{type:"vcenter",mode:c.mode,body:o[0]}},htmlBuilder(l,o){const c=ft(l.body,o),p=o.fontMetrics().axisHeight;return $.makeVList({positionType:"shift",positionData:.5*(c.height-p-(c.depth+p)),children:[{type:"elem",elem:c}]},o)},mathmlBuilder:(l,o)=>new oe.MathNode("mpadded",[_t(l.body,o)],["vcenter"])}),me({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(l,o,c){throw new ae("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(l,o){const c=en(l),p=[],y=o.havingStyle(o.style.text());for(let k=0;k<c.length;k++){let P=c[k];"~"===P&&(P="\\textasciitilde"),p.push($.makeSymbol(P,"Typewriter-Regular",l.mode,y,["mord","texttt"]))}return $.makeSpan(["mord","text"].concat(y.sizingClasses(o)),$.tryCombineChars(p),y)},mathmlBuilder(l,o){const c=new oe.TextNode(en(l)),p=new oe.MathNode("mtext",[c]);return p.setAttribute("mathvariant","monospace"),p}});const en=l=>l.body.replace(/ /g,l.star?"\u2423":"\xa0");var ni=os;const fo=new RegExp("[\u0300-\u036f]+$");class go{constructor(o,c){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=o,this.settings=c,this.tokenRegex=new RegExp("([ \r\n\t]+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]-\u2027\u202a-\ud7ff\uf900-\uffff][\u0300-\u036f]*|[\ud800-\udbff][\udc00-\udfff][\u0300-\u036f]*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|(\\\\[a-zA-Z@]+)[ \r\n\t]*|\\\\[^\ud800-\udfff])","g"),this.catcodes={"%":14,"~":13}}setCatcode(o,c){this.catcodes[o]=c}lex(){const o=this.input,c=this.tokenRegex.lastIndex;if(c===o.length)return new di("EOF",new ci(this,c,c));const p=this.tokenRegex.exec(o);if(null===p||p.index!==c)throw new ae("Unexpected character: '"+o[c]+"'",new di(o[c],new ci(this,c,c+1)));const y=p[6]||p[3]||(p[2]?"\\ ":" ");if(14===this.catcodes[y]){const k=o.indexOf("\n",this.tokenRegex.lastIndex);return-1===k?(this.tokenRegex.lastIndex=o.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=k+1,this.lex()}return new di(y,new ci(this,c,this.tokenRegex.lastIndex))}}class xs{constructor(o,c){void 0===o&&(o={}),void 0===c&&(c={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=c,this.builtins=o,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new ae("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const o=this.undefStack.pop();for(const c in o)o.hasOwnProperty(c)&&(null==o[c]?delete this.current[c]:this.current[c]=o[c])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(o){return this.current.hasOwnProperty(o)||this.builtins.hasOwnProperty(o)}get(o){return this.current.hasOwnProperty(o)?this.current[o]:this.builtins[o]}set(o,c,p){if(void 0===p&&(p=!1),p){for(let y=0;y<this.undefStack.length;y++)delete this.undefStack[y][o];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][o]=c)}else{const y=this.undefStack[this.undefStack.length-1];y&&!y.hasOwnProperty(o)&&(y[o]=this.current[o])}null==c?delete this.current[o]:this.current[o]=c}}var Pa=Ta;L("\\noexpand",function(l){const o=l.popToken();return l.isExpandable(o.text)&&(o.noexpand=!0,o.treatAsRelax=!0),{tokens:[o],numArgs:0}}),L("\\expandafter",function(l){const o=l.popToken();return l.expandOnce(!0),{tokens:[o],numArgs:0}}),L("\\@firstoftwo",function(l){return{tokens:l.consumeArgs(2)[0],numArgs:0}}),L("\\@secondoftwo",function(l){return{tokens:l.consumeArgs(2)[1],numArgs:0}}),L("\\@ifnextchar",function(l){const o=l.consumeArgs(3);l.consumeSpaces();const c=l.future();return 1===o[0].length&&o[0][0].text===c.text?{tokens:o[1],numArgs:0}:{tokens:o[2],numArgs:0}}),L("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),L("\\TextOrMath",function(l){const o=l.consumeArgs(2);return"text"===l.mode?{tokens:o[0],numArgs:0}:{tokens:o[1],numArgs:0}});const yo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};L("\\char",function(l){let o,c=l.popToken(),p="";if("'"===c.text)o=8,c=l.popToken();else if('"'===c.text)o=16,c=l.popToken();else if("`"===c.text)if(c=l.popToken(),"\\"===c.text[0])p=c.text.charCodeAt(1);else{if("EOF"===c.text)throw new ae("\\char` missing argument");p=c.text.charCodeAt(0)}else o=10;if(o){if(p=yo[c.text],null==p||p>=o)throw new ae("Invalid base-"+o+" digit "+c.text);let y;for(;null!=(y=yo[l.future().text])&&y<o;)p*=o,p+=y,l.popToken()}return"\\@char{"+p+"}"});const ks=(l,o,c)=>{let p=l.consumeArg().tokens;if(1!==p.length)throw new ae("\\newcommand's first argument must be a macro name");const y=p[0].text,k=l.isDefined(y);if(k&&!o)throw new ae("\\newcommand{"+y+"} attempting to redefine "+y+"; use \\renewcommand");if(!k&&!c)throw new ae("\\renewcommand{"+y+"} when command "+y+" does not yet exist; use \\newcommand");let P=0;if(p=l.consumeArg().tokens,1===p.length&&"["===p[0].text){let x="",N=l.expandNextToken();for(;"]"!==N.text&&"EOF"!==N.text;)x+=N.text,N=l.expandNextToken();if(!x.match(/^\s*[0-9]+\s*$/))throw new ae("Invalid number of arguments: "+x);P=parseInt(x),p=l.consumeArg().tokens}return l.macros.set(y,{tokens:p,numArgs:P}),""};L("\\newcommand",l=>ks(l,!1,!0)),L("\\renewcommand",l=>ks(l,!0,!1)),L("\\providecommand",l=>ks(l,!0,!0)),L("\\message",l=>{const o=l.consumeArgs(1)[0];return console.log(o.reverse().map(c=>c.text).join("")),""}),L("\\errmessage",l=>{const o=l.consumeArgs(1)[0];return console.error(o.reverse().map(c=>c.text).join("")),""}),L("\\show",l=>{const o=l.popToken(),c=o.text;return console.log(o,l.macros.get(c),ni[c],Be.math[c],Be.text[c]),""}),L("\\bgroup","{"),L("\\egroup","}"),L("~","\\nobreakspace"),L("\\lq","`"),L("\\rq","'"),L("\\aa","\\r a"),L("\\AA","\\r A"),L("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xa9}"),L("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),L("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xae}"),L("\u212c","\\mathscr{B}"),L("\u2130","\\mathscr{E}"),L("\u2131","\\mathscr{F}"),L("\u210b","\\mathscr{H}"),L("\u2110","\\mathscr{I}"),L("\u2112","\\mathscr{L}"),L("\u2133","\\mathscr{M}"),L("\u211b","\\mathscr{R}"),L("\u212d","\\mathfrak{C}"),L("\u210c","\\mathfrak{H}"),L("\u2128","\\mathfrak{Z}"),L("\\Bbbk","\\Bbb{k}"),L("\xb7","\\cdotp"),L("\\llap","\\mathllap{\\textrm{#1}}"),L("\\rlap","\\mathrlap{\\textrm{#1}}"),L("\\clap","\\mathclap{\\textrm{#1}}"),L("\\mathstrut","\\vphantom{(}"),L("\\underbar","\\underline{\\text{#1}}"),L("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),L("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}"),L("\\ne","\\neq"),L("\u2260","\\neq"),L("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}"),L("\u2209","\\notin"),L("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}"),L("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}"),L("\u225a","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225a}}"),L("\u225b","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225b}}"),L("\u225d","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225d}}"),L("\u225e","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225e}}"),L("\u225f","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225f}}"),L("\u27c2","\\perp"),L("\u203c","\\mathclose{!\\mkern-0.8mu!}"),L("\u220c","\\notni"),L("\u231c","\\ulcorner"),L("\u231d","\\urcorner"),L("\u231e","\\llcorner"),L("\u231f","\\lrcorner"),L("\xa9","\\copyright"),L("\xae","\\textregistered"),L("\ufe0f","\\textregistered"),L("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),L("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),L("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),L("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),L("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),L("\u22ee","\\vdots"),L("\\varGamma","\\mathit{\\Gamma}"),L("\\varDelta","\\mathit{\\Delta}"),L("\\varTheta","\\mathit{\\Theta}"),L("\\varLambda","\\mathit{\\Lambda}"),L("\\varXi","\\mathit{\\Xi}"),L("\\varPi","\\mathit{\\Pi}"),L("\\varSigma","\\mathit{\\Sigma}"),L("\\varUpsilon","\\mathit{\\Upsilon}"),L("\\varPhi","\\mathit{\\Phi}"),L("\\varPsi","\\mathit{\\Psi}"),L("\\varOmega","\\mathit{\\Omega}"),L("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),L("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),L("\\boxed","\\fbox{$\\displaystyle{#1}$}"),L("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),L("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),L("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");const be={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};L("\\dots",function(l){let o="\\dotso";const c=l.expandAfterFuture().text;return c in be?o=be[c]:("\\not"===c.slice(0,4)||c in Be.math&&Se.contains(["bin","rel"],Be.math[c].group))&&(o="\\dotsb"),o});const Oa={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};L("\\dotso",function(l){return l.future().text in Oa?"\\ldots\\,":"\\ldots"}),L("\\dotsc",function(l){const o=l.future().text;return o in Oa&&","!==o?"\\ldots\\,":"\\ldots"}),L("\\cdots",function(l){return l.future().text in Oa?"\\@cdots\\,":"\\@cdots"}),L("\\dotsb","\\cdots"),L("\\dotsm","\\cdots"),L("\\dotsi","\\!\\cdots"),L("\\dotsx","\\ldots\\,"),L("\\DOTSI","\\relax"),L("\\DOTSB","\\relax"),L("\\DOTSX","\\relax"),L("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),L("\\,","\\tmspace+{3mu}{.1667em}"),L("\\thinspace","\\,"),L("\\>","\\mskip{4mu}"),L("\\:","\\tmspace+{4mu}{.2222em}"),L("\\medspace","\\:"),L("\\;","\\tmspace+{5mu}{.2777em}"),L("\\thickspace","\\;"),L("\\!","\\tmspace-{3mu}{.1667em}"),L("\\negthinspace","\\!"),L("\\negmedspace","\\tmspace-{4mu}{.2222em}"),L("\\negthickspace","\\tmspace-{5mu}{.277em}"),L("\\enspace","\\kern.5em "),L("\\enskip","\\hskip.5em\\relax"),L("\\quad","\\hskip1em\\relax"),L("\\qquad","\\hskip2em\\relax"),L("\\tag","\\@ifstar\\tag@literal\\tag@paren"),L("\\tag@paren","\\tag@literal{({#1})}"),L("\\tag@literal",l=>{if(l.macros.get("\\df@tag"))throw new ae("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),L("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),L("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),L("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),L("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),L("\\newline","\\\\\\relax"),L("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const La=de(Ln["Main-Regular"][84][1]-.7*Ln["Main-Regular"][65][1]);L("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+La+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),L("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+La+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),L("\\hspace","\\@ifstar\\@hspacer\\@hspace"),L("\\@hspace","\\hskip #1\\relax"),L("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),L("\\ordinarycolon",":"),L("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),L("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),L("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),L("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),L("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),L("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),L("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),L("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),L("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),L("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),L("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),L("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),L("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),L("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),L("\u2237","\\dblcolon"),L("\u2239","\\eqcolon"),L("\u2254","\\coloneqq"),L("\u2255","\\eqqcolon"),L("\u2a74","\\Coloneqq"),L("\\ratio","\\vcentcolon"),L("\\coloncolon","\\dblcolon"),L("\\colonequals","\\coloneqq"),L("\\coloncolonequals","\\Coloneqq"),L("\\equalscolon","\\eqqcolon"),L("\\equalscoloncolon","\\Eqqcolon"),L("\\colonminus","\\coloneq"),L("\\coloncolonminus","\\Coloneq"),L("\\minuscolon","\\eqcolon"),L("\\minuscoloncolon","\\Eqcolon"),L("\\coloncolonapprox","\\Colonapprox"),L("\\coloncolonsim","\\Colonsim"),L("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),L("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),L("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),L("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),L("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220c}}"),L("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),L("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),L("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),L("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),L("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),L("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),L("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),L("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),L("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}"),L("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}"),L("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}"),L("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}"),L("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}"),L("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}"),L("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}"),L("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}"),L("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}"),L("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}"),L("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228a}"),L("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2acb}"),L("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228b}"),L("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2acc}"),L("\\imath","\\html@mathml{\\@imath}{\u0131}"),L("\\jmath","\\html@mathml{\\@jmath}{\u0237}"),L("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27e6}}"),L("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27e7}}"),L("\u27e6","\\llbracket"),L("\u27e7","\\rrbracket"),L("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}"),L("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}"),L("\u2983","\\lBrace"),L("\u2984","\\rBrace"),L("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29b5}}"),L("\u29b5","\\minuso"),L("\\darr","\\downarrow"),L("\\dArr","\\Downarrow"),L("\\Darr","\\Downarrow"),L("\\lang","\\langle"),L("\\rang","\\rangle"),L("\\uarr","\\uparrow"),L("\\uArr","\\Uparrow"),L("\\Uarr","\\Uparrow"),L("\\N","\\mathbb{N}"),L("\\R","\\mathbb{R}"),L("\\Z","\\mathbb{Z}"),L("\\alef","\\aleph"),L("\\alefsym","\\aleph"),L("\\Alpha","\\mathrm{A}"),L("\\Beta","\\mathrm{B}"),L("\\bull","\\bullet"),L("\\Chi","\\mathrm{X}"),L("\\clubs","\\clubsuit"),L("\\cnums","\\mathbb{C}"),L("\\Complex","\\mathbb{C}"),L("\\Dagger","\\ddagger"),L("\\diamonds","\\diamondsuit"),L("\\empty","\\emptyset"),L("\\Epsilon","\\mathrm{E}"),L("\\Eta","\\mathrm{H}"),L("\\exist","\\exists"),L("\\harr","\\leftrightarrow"),L("\\hArr","\\Leftrightarrow"),L("\\Harr","\\Leftrightarrow"),L("\\hearts","\\heartsuit"),L("\\image","\\Im"),L("\\infin","\\infty"),L("\\Iota","\\mathrm{I}"),L("\\isin","\\in"),L("\\Kappa","\\mathrm{K}"),L("\\larr","\\leftarrow"),L("\\lArr","\\Leftarrow"),L("\\Larr","\\Leftarrow"),L("\\lrarr","\\leftrightarrow"),L("\\lrArr","\\Leftrightarrow"),L("\\Lrarr","\\Leftrightarrow"),L("\\Mu","\\mathrm{M}"),L("\\natnums","\\mathbb{N}"),L("\\Nu","\\mathrm{N}"),L("\\Omicron","\\mathrm{O}"),L("\\plusmn","\\pm"),L("\\rarr","\\rightarrow"),L("\\rArr","\\Rightarrow"),L("\\Rarr","\\Rightarrow"),L("\\real","\\Re"),L("\\reals","\\mathbb{R}"),L("\\Reals","\\mathbb{R}"),L("\\Rho","\\mathrm{P}"),L("\\sdot","\\cdot"),L("\\sect","\\S"),L("\\spades","\\spadesuit"),L("\\sub","\\subset"),L("\\sube","\\subseteq"),L("\\supe","\\supseteq"),L("\\Tau","\\mathrm{T}"),L("\\thetasym","\\vartheta"),L("\\weierp","\\wp"),L("\\Zeta","\\mathrm{Z}"),L("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),L("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),L("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),L("\\bra","\\mathinner{\\langle{#1}|}"),L("\\ket","\\mathinner{|{#1}\\rangle}"),L("\\braket","\\mathinner{\\langle{#1}\\rangle}"),L("\\Bra","\\left\\langle#1\\right|"),L("\\Ket","\\left|#1\\right\\rangle");const Da=l=>o=>{const c=o.consumeArg().tokens,p=o.consumeArg().tokens,y=o.consumeArg().tokens,k=o.consumeArg().tokens,P=o.macros.get("|"),x=o.macros.get("\\|");o.macros.beginGroup();const N=G=>V=>{l&&(V.macros.set("|",P),y.length&&V.macros.set("\\|",x));let J=G;return!G&&y.length&&"|"===V.future().text&&(V.popToken(),J=!0),{tokens:J?y:p,numArgs:0}};o.macros.set("|",N(!1)),y.length&&o.macros.set("\\|",N(!0));const j=o.consumeArg().tokens,X=o.expandTokens([...k,...j,...c]);return o.macros.endGroup(),{tokens:X.reverse(),numArgs:0}};L("\\bra@ket",Da(!1)),L("\\bra@set",Da(!0)),L("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),L("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),L("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),L("\\angln","{\\angl n}"),L("\\blue","\\textcolor{##6495ed}{#1}"),L("\\orange","\\textcolor{##ffa500}{#1}"),L("\\pink","\\textcolor{##ff00af}{#1}"),L("\\red","\\textcolor{##df0030}{#1}"),L("\\green","\\textcolor{##28ae7b}{#1}"),L("\\gray","\\textcolor{gray}{#1}"),L("\\purple","\\textcolor{##9d38bd}{#1}"),L("\\blueA","\\textcolor{##ccfaff}{#1}"),L("\\blueB","\\textcolor{##80f6ff}{#1}"),L("\\blueC","\\textcolor{##63d9ea}{#1}"),L("\\blueD","\\textcolor{##11accd}{#1}"),L("\\blueE","\\textcolor{##0c7f99}{#1}"),L("\\tealA","\\textcolor{##94fff5}{#1}"),L("\\tealB","\\textcolor{##26edd5}{#1}"),L("\\tealC","\\textcolor{##01d1c1}{#1}"),L("\\tealD","\\textcolor{##01a995}{#1}"),L("\\tealE","\\textcolor{##208170}{#1}"),L("\\greenA","\\textcolor{##b6ffb0}{#1}"),L("\\greenB","\\textcolor{##8af281}{#1}"),L("\\greenC","\\textcolor{##74cf70}{#1}"),L("\\greenD","\\textcolor{##1fab54}{#1}"),L("\\greenE","\\textcolor{##0d923f}{#1}"),L("\\goldA","\\textcolor{##ffd0a9}{#1}"),L("\\goldB","\\textcolor{##ffbb71}{#1}"),L("\\goldC","\\textcolor{##ff9c39}{#1}"),L("\\goldD","\\textcolor{##e07d10}{#1}"),L("\\goldE","\\textcolor{##a75a05}{#1}"),L("\\redA","\\textcolor{##fca9a9}{#1}"),L("\\redB","\\textcolor{##ff8482}{#1}"),L("\\redC","\\textcolor{##f9685d}{#1}"),L("\\redD","\\textcolor{##e84d39}{#1}"),L("\\redE","\\textcolor{##bc2612}{#1}"),L("\\maroonA","\\textcolor{##ffbde0}{#1}"),L("\\maroonB","\\textcolor{##ff92c6}{#1}"),L("\\maroonC","\\textcolor{##ed5fa6}{#1}"),L("\\maroonD","\\textcolor{##ca337c}{#1}"),L("\\maroonE","\\textcolor{##9e034e}{#1}"),L("\\purpleA","\\textcolor{##ddd7ff}{#1}"),L("\\purpleB","\\textcolor{##c6b9fc}{#1}"),L("\\purpleC","\\textcolor{##aa87ff}{#1}"),L("\\purpleD","\\textcolor{##7854ab}{#1}"),L("\\purpleE","\\textcolor{##543b78}{#1}"),L("\\mintA","\\textcolor{##f5f9e8}{#1}"),L("\\mintB","\\textcolor{##edf2df}{#1}"),L("\\mintC","\\textcolor{##e0e5cc}{#1}"),L("\\grayA","\\textcolor{##f6f7f7}{#1}"),L("\\grayB","\\textcolor{##f0f1f2}{#1}"),L("\\grayC","\\textcolor{##e3e5e6}{#1}"),L("\\grayD","\\textcolor{##d6d8da}{#1}"),L("\\grayE","\\textcolor{##babec2}{#1}"),L("\\grayF","\\textcolor{##888d93}{#1}"),L("\\grayG","\\textcolor{##626569}{#1}"),L("\\grayH","\\textcolor{##3b3e40}{#1}"),L("\\grayI","\\textcolor{##21242c}{#1}"),L("\\kaBlue","\\textcolor{##314453}{#1}"),L("\\kaGreen","\\textcolor{##71B307}{#1}");const $r={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class yu{constructor(o,c,p){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=c,this.expansionCount=0,this.feed(o),this.macros=new xs(Pa,c.macros),this.mode=p,this.stack=[]}feed(o){this.lexer=new go(o,this.settings)}switchMode(o){this.mode=o}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(o){this.stack.push(o)}pushTokens(o){this.stack.push(...o)}scanArgument(o){let c,p,y;if(o){if(this.consumeSpaces(),"["!==this.future().text)return null;c=this.popToken(),({tokens:y,end:p}=this.consumeArg(["]"]))}else({tokens:y,start:c,end:p}=this.consumeArg());return this.pushToken(new di("EOF",p.loc)),this.pushTokens(y),c.range(p,"")}consumeSpaces(){for(;" "===this.future().text;)this.stack.pop()}consumeArg(o){const c=[],p=o&&o.length>0;p||this.consumeSpaces();const y=this.future();let k,P=0,x=0;do{if(k=this.popToken(),c.push(k),"{"===k.text)++P;else if("}"===k.text){if(--P,-1===P)throw new ae("Extra }",k)}else if("EOF"===k.text)throw new ae("Unexpected end of input in a macro argument, expected '"+(o&&p?o[x]:"}")+"'",k);if(o&&p)if((0===P||1===P&&"{"===o[x])&&k.text===o[x]){if(++x,x===o.length){c.splice(-x,x);break}}else x=0}while(0!==P||p);return"{"===y.text&&"}"===c[c.length-1].text&&(c.pop(),c.shift()),c.reverse(),{tokens:c,start:y,end:k}}consumeArgs(o,c){if(c){if(c.length!==o+1)throw new ae("The length of delimiters doesn't match the number of args!");const y=c[0];for(let k=0;k<y.length;k++){const P=this.popToken();if(y[k]!==P.text)throw new ae("Use of the macro doesn't match its definition",P)}}const p=[];for(let y=0;y<o;y++)p.push(this.consumeArg(c&&c[y+1]).tokens);return p}countExpansion(o){if(this.expansionCount+=o,this.expansionCount>this.settings.maxExpand)throw new ae("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(o){const c=this.popToken(),p=c.text,y=c.noexpand?null:this._getExpansion(p);if(null==y||o&&y.unexpandable){if(o&&null==y&&"\\"===p[0]&&!this.isDefined(p))throw new ae("Undefined control sequence: "+p);return this.pushToken(c),!1}this.countExpansion(1);let k=y.tokens;const P=this.consumeArgs(y.numArgs,y.delimiters);if(y.numArgs){k=k.slice();for(let x=k.length-1;x>=0;--x){let N=k[x];if("#"===N.text){if(0===x)throw new ae("Incomplete placeholder at end of macro body",N);if(N=k[--x],"#"===N.text)k.splice(x+1,1);else{if(!/^[1-9]$/.test(N.text))throw new ae("Not a valid argument number",N);k.splice(x,2,...P[+N.text-1])}}}}return this.pushTokens(k),k.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(!1===this.expandOnce()){const o=this.stack.pop();return o.treatAsRelax&&(o.text="\\relax"),o}throw new Error}expandMacro(o){return this.macros.has(o)?this.expandTokens([new di(o)]):void 0}expandTokens(o){const c=[],p=this.stack.length;for(this.pushTokens(o);this.stack.length>p;)if(!1===this.expandOnce(!0)){const y=this.stack.pop();y.treatAsRelax&&(y.noexpand=!1,y.treatAsRelax=!1),c.push(y)}return this.countExpansion(c.length),c}expandMacroAsText(o){const c=this.expandMacro(o);return c&&c.map(p=>p.text).join("")}_getExpansion(o){const c=this.macros.get(o);if(null==c)return c;if(1===o.length){const y=this.lexer.catcodes[o];if(null!=y&&13!==y)return}const p="function"==typeof c?c(this):c;if("string"==typeof p){let y=0;if(-1!==p.indexOf("#")){const N=p.replace(/##/g,"");for(;-1!==N.indexOf("#"+(y+1));)++y}const k=new go(p,this.settings),P=[];let x=k.lex();for(;"EOF"!==x.text;)P.push(x),x=k.lex();return P.reverse(),{tokens:P,numArgs:y}}return p}isDefined(o){return this.macros.has(o)||ni.hasOwnProperty(o)||Be.math.hasOwnProperty(o)||Be.text.hasOwnProperty(o)||$r.hasOwnProperty(o)}isExpandable(o){const c=this.macros.get(o);return null!=c?"string"==typeof c||"function"==typeof c||!c.unexpandable:ni.hasOwnProperty(o)&&!ni[o].primitive}}const fn=/^[\u208a\u208b\u208c\u208d\u208e\u2080\u2081\u2082\u2083\u2084\u2085\u2086\u2087\u2088\u2089\u2090\u2091\u2095\u1d62\u2c7c\u2096\u2097\u2098\u2099\u2092\u209a\u1d63\u209b\u209c\u1d64\u1d65\u2093\u1d66\u1d67\u1d68\u1d69\u1d6a]/,Br=Object.freeze({"\u208a":"+","\u208b":"-","\u208c":"=","\u208d":"(","\u208e":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9",\u2090:"a",\u2091:"e",\u2095:"h",\u1d62:"i",\u2c7c:"j",\u2096:"k",\u2097:"l",\u2098:"m",\u2099:"n",\u2092:"o",\u209a:"p",\u1d63:"r",\u209b:"s",\u209c:"t",\u1d64:"u",\u1d65:"v",\u2093:"x",\u1d66:"\u03b2",\u1d67:"\u03b3",\u1d68:"\u03c1",\u1d69:"\u03d5",\u1d6a:"\u03c7","\u207a":"+","\u207b":"-","\u207c":"=","\u207d":"(","\u207e":")","\u2070":"0","\xb9":"1","\xb2":"2","\xb3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9",\u1d2c:"A",\u1d2e:"B",\u1d30:"D",\u1d31:"E",\u1d33:"G",\u1d34:"H",\u1d35:"I",\u1d36:"J",\u1d37:"K",\u1d38:"L",\u1d39:"M",\u1d3a:"N",\u1d3c:"O",\u1d3e:"P",\u1d3f:"R",\u1d40:"T",\u1d41:"U",\u2c7d:"V",\u1d42:"W",\u1d43:"a",\u1d47:"b",\u1d9c:"c",\u1d48:"d",\u1d49:"e",\u1da0:"f",\u1d4d:"g",\u02b0:"h",\u2071:"i",\u02b2:"j",\u1d4f:"k",\u02e1:"l",\u1d50:"m",\u207f:"n",\u1d52:"o",\u1d56:"p",\u02b3:"r",\u02e2:"s",\u1d57:"t",\u1d58:"u",\u1d5b:"v",\u02b7:"w",\u02e3:"x",\u02b8:"y",\u1dbb:"z",\u1d5d:"\u03b2",\u1d5e:"\u03b3",\u1d5f:"\u03b4",\u1d60:"\u03d5",\u1d61:"\u03c7",\u1dbf:"\u03b8"}),Ur={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030c":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030a":{text:"\\r",math:"\\mathring"},"\u030b":{text:"\\H"},"\u0327":{text:"\\c"}},Qr={\u00e1:"a\u0301",\u00e0:"a\u0300",\u00e4:"a\u0308",\u01df:"a\u0308\u0304",\u00e3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1eaf:"a\u0306\u0301",\u1eb1:"a\u0306\u0300",\u1eb5:"a\u0306\u0303",\u01ce:"a\u030c",\u00e2:"a\u0302",\u1ea5:"a\u0302\u0301",\u1ea7:"a\u0302\u0300",\u1eab:"a\u0302\u0303",\u0227:"a\u0307",\u01e1:"a\u0307\u0304",\u00e5:"a\u030a",\u01fb:"a\u030a\u0301",\u1e03:"b\u0307",\u0107:"c\u0301",\u1e09:"c\u0327\u0301",\u010d:"c\u030c",\u0109:"c\u0302",\u010b:"c\u0307",\u00e7:"c\u0327",\u010f:"d\u030c",\u1e0b:"d\u0307",\u1e11:"d\u0327",\u00e9:"e\u0301",\u00e8:"e\u0300",\u00eb:"e\u0308",\u1ebd:"e\u0303",\u0113:"e\u0304",\u1e17:"e\u0304\u0301",\u1e15:"e\u0304\u0300",\u0115:"e\u0306",\u1e1d:"e\u0327\u0306",\u011b:"e\u030c",\u00ea:"e\u0302",\u1ebf:"e\u0302\u0301",\u1ec1:"e\u0302\u0300",\u1ec5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1e1f:"f\u0307",\u01f5:"g\u0301",\u1e21:"g\u0304",\u011f:"g\u0306",\u01e7:"g\u030c",\u011d:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1e27:"h\u0308",\u021f:"h\u030c",\u0125:"h\u0302",\u1e23:"h\u0307",\u1e29:"h\u0327",\u00ed:"i\u0301",\u00ec:"i\u0300",\u00ef:"i\u0308",\u1e2f:"i\u0308\u0301",\u0129:"i\u0303",\u012b:"i\u0304",\u012d:"i\u0306",\u01d0:"i\u030c",\u00ee:"i\u0302",\u01f0:"j\u030c",\u0135:"j\u0302",\u1e31:"k\u0301",\u01e9:"k\u030c",\u0137:"k\u0327",\u013a:"l\u0301",\u013e:"l\u030c",\u013c:"l\u0327",\u1e3f:"m\u0301",\u1e41:"m\u0307",\u0144:"n\u0301",\u01f9:"n\u0300",\u00f1:"n\u0303",\u0148:"n\u030c",\u1e45:"n\u0307",\u0146:"n\u0327",\u00f3:"o\u0301",\u00f2:"o\u0300",\u00f6:"o\u0308",\u022b:"o\u0308\u0304",\u00f5:"o\u0303",\u1e4d:"o\u0303\u0301",\u1e4f:"o\u0303\u0308",\u022d:"o\u0303\u0304",\u014d:"o\u0304",\u1e53:"o\u0304\u0301",\u1e51:"o\u0304\u0300",\u014f:"o\u0306",\u01d2:"o\u030c",\u00f4:"o\u0302",\u1ed1:"o\u0302\u0301",\u1ed3:"o\u0302\u0300",\u1ed7:"o\u0302\u0303",\u022f:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030b",\u1e55:"p\u0301",\u1e57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030c",\u1e59:"r\u0307",\u0157:"r\u0327",\u015b:"s\u0301",\u1e65:"s\u0301\u0307",\u0161:"s\u030c",\u1e67:"s\u030c\u0307",\u015d:"s\u0302",\u1e61:"s\u0307",\u015f:"s\u0327",\u1e97:"t\u0308",\u0165:"t\u030c",\u1e6b:"t\u0307",\u0163:"t\u0327",\u00fa:"u\u0301",\u00f9:"u\u0300",\u00fc:"u\u0308",\u01d8:"u\u0308\u0301",\u01dc:"u\u0308\u0300",\u01d6:"u\u0308\u0304",\u01da:"u\u0308\u030c",\u0169:"u\u0303",\u1e79:"u\u0303\u0301",\u016b:"u\u0304",\u1e7b:"u\u0304\u0308",\u016d:"u\u0306",\u01d4:"u\u030c",\u00fb:"u\u0302",\u016f:"u\u030a",\u0171:"u\u030b",\u1e7d:"v\u0303",\u1e83:"w\u0301",\u1e81:"w\u0300",\u1e85:"w\u0308",\u0175:"w\u0302",\u1e87:"w\u0307",\u1e98:"w\u030a",\u1e8d:"x\u0308",\u1e8b:"x\u0307",\u00fd:"y\u0301",\u1ef3:"y\u0300",\u00ff:"y\u0308",\u1ef9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1e8f:"y\u0307",\u1e99:"y\u030a",\u017a:"z\u0301",\u017e:"z\u030c",\u1e91:"z\u0302",\u017c:"z\u0307",\u00c1:"A\u0301",\u00c0:"A\u0300",\u00c4:"A\u0308",\u01de:"A\u0308\u0304",\u00c3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1eae:"A\u0306\u0301",\u1eb0:"A\u0306\u0300",\u1eb4:"A\u0306\u0303",\u01cd:"A\u030c",\u00c2:"A\u0302",\u1ea4:"A\u0302\u0301",\u1ea6:"A\u0302\u0300",\u1eaa:"A\u0302\u0303",\u0226:"A\u0307",\u01e0:"A\u0307\u0304",\u00c5:"A\u030a",\u01fa:"A\u030a\u0301",\u1e02:"B\u0307",\u0106:"C\u0301",\u1e08:"C\u0327\u0301",\u010c:"C\u030c",\u0108:"C\u0302",\u010a:"C\u0307",\u00c7:"C\u0327",\u010e:"D\u030c",\u1e0a:"D\u0307",\u1e10:"D\u0327",\u00c9:"E\u0301",\u00c8:"E\u0300",\u00cb:"E\u0308",\u1ebc:"E\u0303",\u0112:"E\u0304",\u1e16:"E\u0304\u0301",\u1e14:"E\u0304\u0300",\u0114:"E\u0306",\u1e1c:"E\u0327\u0306",\u011a:"E\u030c",\u00ca:"E\u0302",\u1ebe:"E\u0302\u0301",\u1ec0:"E\u0302\u0300",\u1ec4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1e1e:"F\u0307",\u01f4:"G\u0301",\u1e20:"G\u0304",\u011e:"G\u0306",\u01e6:"G\u030c",\u011c:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1e26:"H\u0308",\u021e:"H\u030c",\u0124:"H\u0302",\u1e22:"H\u0307",\u1e28:"H\u0327",\u00cd:"I\u0301",\u00cc:"I\u0300",\u00cf:"I\u0308",\u1e2e:"I\u0308\u0301",\u0128:"I\u0303",\u012a:"I\u0304",\u012c:"I\u0306",\u01cf:"I\u030c",\u00ce:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1e30:"K\u0301",\u01e8:"K\u030c",\u0136:"K\u0327",\u0139:"L\u0301",\u013d:"L\u030c",\u013b:"L\u0327",\u1e3e:"M\u0301",\u1e40:"M\u0307",\u0143:"N\u0301",\u01f8:"N\u0300",\u00d1:"N\u0303",\u0147:"N\u030c",\u1e44:"N\u0307",\u0145:"N\u0327",\u00d3:"O\u0301",\u00d2:"O\u0300",\u00d6:"O\u0308",\u022a:"O\u0308\u0304",\u00d5:"O\u0303",\u1e4c:"O\u0303\u0301",\u1e4e:"O\u0303\u0308",\u022c:"O\u0303\u0304",\u014c:"O\u0304",\u1e52:"O\u0304\u0301",\u1e50:"O\u0304\u0300",\u014e:"O\u0306",\u01d1:"O\u030c",\u00d4:"O\u0302",\u1ed0:"O\u0302\u0301",\u1ed2:"O\u0302\u0300",\u1ed6:"O\u0302\u0303",\u022e:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030b",\u1e54:"P\u0301",\u1e56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030c",\u1e58:"R\u0307",\u0156:"R\u0327",\u015a:"S\u0301",\u1e64:"S\u0301\u0307",\u0160:"S\u030c",\u1e66:"S\u030c\u0307",\u015c:"S\u0302",\u1e60:"S\u0307",\u015e:"S\u0327",\u0164:"T\u030c",\u1e6a:"T\u0307",\u0162:"T\u0327",\u00da:"U\u0301",\u00d9:"U\u0300",\u00dc:"U\u0308",\u01d7:"U\u0308\u0301",\u01db:"U\u0308\u0300",\u01d5:"U\u0308\u0304",\u01d9:"U\u0308\u030c",\u0168:"U\u0303",\u1e78:"U\u0303\u0301",\u016a:"U\u0304",\u1e7a:"U\u0304\u0308",\u016c:"U\u0306",\u01d3:"U\u030c",\u00db:"U\u0302",\u016e:"U\u030a",\u0170:"U\u030b",\u1e7c:"V\u0303",\u1e82:"W\u0301",\u1e80:"W\u0300",\u1e84:"W\u0308",\u0174:"W\u0302",\u1e86:"W\u0307",\u1e8c:"X\u0308",\u1e8a:"X\u0307",\u00dd:"Y\u0301",\u1ef2:"Y\u0300",\u0178:"Y\u0308",\u1ef8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1e8e:"Y\u0307",\u0179:"Z\u0301",\u017d:"Z\u030c",\u1e90:"Z\u0302",\u017b:"Z\u0307",\u03ac:"\u03b1\u0301",\u1f70:"\u03b1\u0300",\u1fb1:"\u03b1\u0304",\u1fb0:"\u03b1\u0306",\u03ad:"\u03b5\u0301",\u1f72:"\u03b5\u0300",\u03ae:"\u03b7\u0301",\u1f74:"\u03b7\u0300",\u03af:"\u03b9\u0301",\u1f76:"\u03b9\u0300",\u03ca:"\u03b9\u0308",\u0390:"\u03b9\u0308\u0301",\u1fd2:"\u03b9\u0308\u0300",\u1fd1:"\u03b9\u0304",\u1fd0:"\u03b9\u0306",\u03cc:"\u03bf\u0301",\u1f78:"\u03bf\u0300",\u03cd:"\u03c5\u0301",\u1f7a:"\u03c5\u0300",\u03cb:"\u03c5\u0308",\u03b0:"\u03c5\u0308\u0301",\u1fe2:"\u03c5\u0308\u0300",\u1fe1:"\u03c5\u0304",\u1fe0:"\u03c5\u0306",\u03ce:"\u03c9\u0301",\u1f7c:"\u03c9\u0300",\u038e:"\u03a5\u0301",\u1fea:"\u03a5\u0300",\u03ab:"\u03a5\u0308",\u1fe9:"\u03a5\u0304",\u1fe8:"\u03a5\u0306",\u038f:"\u03a9\u0301",\u1ffa:"\u03a9\u0300"};class dr{constructor(o,c){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new yu(o,c,this.mode),this.settings=c,this.leftrightDepth=0}expect(o,c){if(void 0===c&&(c=!0),this.fetch().text!==o)throw new ae("Expected '"+o+"', got '"+this.fetch().text+"'",this.fetch());c&&this.consume()}consume(){this.nextToken=null}fetch(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(o){this.mode=o,this.gullet.switchMode(o)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const o=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),o}finally{this.gullet.endGroups()}}subparse(o){const c=this.nextToken;this.consume(),this.gullet.pushToken(new di("}")),this.gullet.pushTokens(o);const p=this.parseExpression(!1);return this.expect("}"),this.nextToken=c,p}parseExpression(o,c){const p=[];for(;;){"math"===this.mode&&this.consumeSpaces();const y=this.fetch();if(-1!==dr.endOfExpression.indexOf(y.text)||c&&y.text===c||o&&ni[y.text]&&ni[y.text].infix)break;const k=this.parseAtom(c);if(!k)break;"internal"!==k.type&&p.push(k)}return"text"===this.mode&&this.formLigatures(p),this.handleInfixNodes(p)}handleInfixNodes(o){let c,p=-1;for(let y=0;y<o.length;y++)if("infix"===o[y].type){if(-1!==p)throw new ae("only one infix operator per group",o[y].token);p=y,c=o[y].replaceWith}if(-1!==p&&c){let y,k;const P=o.slice(0,p),x=o.slice(p+1);let N;return y=1===P.length&&"ordgroup"===P[0].type?P[0]:{type:"ordgroup",mode:this.mode,body:P},k=1===x.length&&"ordgroup"===x[0].type?x[0]:{type:"ordgroup",mode:this.mode,body:x},N=this.callFunction(c,"\\\\abovefrac"===c?[y,o[p],k]:[y,k],[]),[N]}return o}handleSupSubscript(o){const c=this.fetch(),p=c.text;this.consume(),this.consumeSpaces();const y=this.parseGroup(o);if(!y)throw new ae("Expected group after '"+p+"'",c);return y}formatUnsupportedCmd(o){const c=[];for(let y=0;y<o.length;y++)c.push({type:"textord",mode:"text",text:o[y]});return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[{type:"text",mode:this.mode,body:c}]}}parseAtom(o){const c=this.parseGroup("atom",o);if("text"===this.mode)return c;let p,y;for(;;){this.consumeSpaces();const k=this.fetch();if("\\limits"===k.text||"\\nolimits"===k.text){if(c&&"op"===c.type)c.limits="\\limits"===k.text,c.alwaysHandleSupSub=!0;else{if(!c||"operatorname"!==c.type)throw new ae("Limit controls must follow a math operator",k);c.alwaysHandleSupSub&&(c.limits="\\limits"===k.text)}this.consume()}else if("^"===k.text){if(p)throw new ae("Double superscript",k);p=this.handleSupSubscript("superscript")}else if("_"===k.text){if(y)throw new ae("Double subscript",k);y=this.handleSupSubscript("subscript")}else if("'"===k.text){if(p)throw new ae("Double superscript",k);const P={type:"textord",mode:this.mode,text:"\\prime"},x=[P];for(this.consume();"'"===this.fetch().text;)x.push(P),this.consume();"^"===this.fetch().text&&x.push(this.handleSupSubscript("superscript")),p={type:"ordgroup",mode:this.mode,body:x}}else{if(!Br[k.text])break;{const P=fn.test(k.text),x=[];for(x.push(new di(Br[k.text])),this.consume();;){const j=this.fetch().text;if(!Br[j]||fn.test(j)!==P)break;x.unshift(new di(Br[j])),this.consume()}const N=this.subparse(x);P?y={type:"ordgroup",mode:"math",body:N}:p={type:"ordgroup",mode:"math",body:N}}}}return p||y?{type:"supsub",mode:this.mode,base:c,sup:p,sub:y}:c}parseFunction(o,c){const p=this.fetch(),y=p.text,k=ni[y];if(!k)return null;if(this.consume(),c&&"atom"!==c&&!k.allowedInArgument)throw new ae("Got function '"+y+"' with no arguments"+(c?" as "+c:""),p);if("text"===this.mode&&!k.allowedInText)throw new ae("Can't use function '"+y+"' in text mode",p);if("math"===this.mode&&!1===k.allowedInMath)throw new ae("Can't use function '"+y+"' in math mode",p);const{args:P,optArgs:x}=this.parseArguments(y,k);return this.callFunction(y,P,x,p,o)}callFunction(o,c,p,y,k){const x=ni[o];if(x&&x.handler)return x.handler({funcName:o,parser:this,token:y,breakOnTokenText:k},c,p);throw new ae("No function handler for "+o)}parseArguments(o,c){const p=c.numArgs+c.numOptionalArgs;if(0===p)return{args:[],optArgs:[]};const y=[],k=[];for(let P=0;P<p;P++){let x=c.argTypes&&c.argTypes[P];const N=P<c.numOptionalArgs;(c.primitive&&null==x||"sqrt"===c.type&&1===P&&null==k[0])&&(x="primitive");const j=this.parseGroupOfType("argument to '"+o+"'",x,N);if(N)k.push(j);else{if(null==j)throw new ae("Null argument, please report this as a bug");y.push(j)}}return{args:y,optArgs:k}}parseGroupOfType(o,c,p){switch(c){case"color":return this.parseColorGroup(p);case"size":return this.parseSizeGroup(p);case"url":return this.parseUrlGroup(p);case"math":case"text":return this.parseArgumentGroup(p,c);case"hbox":{const y=this.parseArgumentGroup(p,"text");return null!=y?{type:"styling",mode:y.mode,body:[y],style:"text"}:null}case"raw":{const y=this.parseStringGroup("raw",p);return null!=y?{type:"raw",mode:"text",string:y.text}:null}case"primitive":{if(p)throw new ae("A primitive argument cannot be optional");const y=this.parseGroup(o);if(null==y)throw new ae("Expected group as "+o,this.fetch());return y}case"original":case null:case void 0:return this.parseArgumentGroup(p);default:throw new ae("Unknown group type as "+o,this.fetch())}}consumeSpaces(){for(;" "===this.fetch().text;)this.consume()}parseStringGroup(o,c){const p=this.gullet.scanArgument(c);if(null==p)return null;let y,k="";for(;"EOF"!==(y=this.fetch()).text;)k+=y.text,this.consume();return this.consume(),p.text=k,p}parseRegexGroup(o,c){const p=this.fetch();let y,k=p,P="";for(;"EOF"!==(y=this.fetch()).text&&o.test(P+y.text);)k=y,P+=k.text,this.consume();if(""===P)throw new ae("Invalid "+c+": '"+p.text+"'",p);return p.range(k,P)}parseColorGroup(o){const c=this.parseStringGroup("color",o);if(null==c)return null;const p=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(c.text);if(!p)throw new ae("Invalid color: '"+c.text+"'",c);let y=p[0];return/^[0-9a-f]{6}$/i.test(y)&&(y="#"+y),{type:"color-token",mode:this.mode,color:y}}parseSizeGroup(o){let c,p=!1;if(this.gullet.consumeSpaces(),c=o||"{"===this.gullet.future().text?this.parseStringGroup("size",o):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"),!c)return null;o||0!==c.text.length||(c.text="0pt",p=!0);const y=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(c.text);if(!y)throw new ae("Invalid size: '"+c.text+"'",c);const k={number:+(y[1]+y[2]),unit:y[3]};if(!Vi(k))throw new ae("Invalid unit: '"+k.unit+"'",c);return{type:"size",mode:this.mode,value:k,isBlank:p}}parseUrlGroup(o){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const c=this.parseStringGroup("url",o);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==c)return null;const p=c.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:p}}parseArgumentGroup(o,c){const p=this.gullet.scanArgument(o);if(null==p)return null;const y=this.mode;c&&this.switchMode(c),this.gullet.beginGroup();const k=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const P={type:"ordgroup",mode:this.mode,loc:p.loc,body:k};return c&&this.switchMode(y),P}parseGroup(o,c){const p=this.fetch(),y=p.text;let k;if("{"===y||"\\begingroup"===y){this.consume();const P="{"===y?"}":"\\endgroup";this.gullet.beginGroup();const x=this.parseExpression(!1,P),N=this.fetch();this.expect(P),this.gullet.endGroup(),k={type:"ordgroup",mode:this.mode,loc:ci.range(p,N),body:x,semisimple:"\\begingroup"===y||void 0}}else if(k=this.parseFunction(c,o)||this.parseSymbol(),null==k&&"\\"===y[0]&&!$r.hasOwnProperty(y)){if(this.settings.throwOnError)throw new ae("Undefined control sequence: "+y,p);k=this.formatUnsupportedCmd(y),this.consume()}return k}formLigatures(o){let c=o.length-1;for(let p=0;p<c;++p){const y=o[p],k=y.text;"-"===k&&"-"===o[p+1].text&&(p+1<c&&"-"===o[p+2].text?(o.splice(p,3,{type:"textord",mode:"text",loc:ci.range(y,o[p+2]),text:"---"}),c-=2):(o.splice(p,2,{type:"textord",mode:"text",loc:ci.range(y,o[p+1]),text:"--"}),c-=1)),"'"!==k&&"`"!==k||o[p+1].text!==k||(o.splice(p,2,{type:"textord",mode:"text",loc:ci.range(y,o[p+1]),text:k+k}),c-=1)}}parseSymbol(){const o=this.fetch();let c=o.text;if(/^\\verb[^a-zA-Z]/.test(c)){this.consume();let k=c.slice(5);const P="*"===k.charAt(0);if(P&&(k=k.slice(1)),k.length<2||k.charAt(0)!==k.slice(-1))throw new ae("\\verb assertion failed --\n                    please report what input caused this bug");return k=k.slice(1,-1),{type:"verb",mode:"text",body:k,star:P}}Qr.hasOwnProperty(c[0])&&!Be[this.mode][c[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+c[0]+'" used in math mode',o),c=Qr[c[0]]+c.slice(1));const p=fo.exec(c);let y;if(p&&(c=c.substring(0,p.index),"i"===c?c="\u0131":"j"===c&&(c="\u0237")),Be[this.mode][c]){this.settings.strict&&"math"===this.mode&&"\xd0\xde\xfe".indexOf(c)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+c[0]+'" used in math mode',o);const k=Be[this.mode][c].group,P=ci.range(o);let x;x=nn.hasOwnProperty(k)?{type:"atom",mode:this.mode,family:k,loc:P,text:c}:{type:k,mode:this.mode,loc:P,text:c},y=x}else{if(!(c.charCodeAt(0)>=128))return null;this.settings.strict&&(De(c.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+c[0]+'" used in math mode',o):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+c[0]+'" ('+c.charCodeAt(0)+")",o)),y={type:"textord",mode:"text",loc:ci.range(o),text:c}}if(this.consume(),p)for(let k=0;k<p[0].length;k++){const P=p[0][k];if(!Ur[P])throw new ae("Unknown accent ' "+P+"'",o);const x=Ur[P][this.mode]||Ur[P].text;if(!x)throw new ae("Accent "+P+" unsupported in "+this.mode+" mode",o);y={type:"accent",mode:this.mode,loc:ci.range(o),label:x,isStretchy:!1,isShifty:!0,base:y}}return y}}dr.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Es=function(l,o){if(!("string"==typeof l||l instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const c=new dr(l,o);delete c.gullet.macros.current["\\df@tag"];let p=c.parse();if(delete c.gullet.macros.current["\\current@color"],delete c.gullet.macros.current["\\color"],c.gullet.macros.get("\\df@tag")){if(!o.displayMode)throw new ae("\\tag works only in display equations");p=[{type:"tag",mode:"text",body:p,tag:c.subparse([new di("\\df@tag")])}]}return p};let Cs=function(l,o,c){o.textContent="";const p=Na(l,c).toNode();o.appendChild(p)};typeof document<"u"&&"CSS1Compat"!==document.compatMode&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Cs=function(){throw new ae("KaTeX doesn't work in quirks mode.")});const vo=function(l,o,c){if(c.throwOnError||!(l instanceof ae))throw l;const p=$.makeSpan(["katex-error"],[new Ae(o)]);return p.setAttribute("title",l.toString()),p.setAttribute("style","color:"+c.errorColor),p},Na=function(l,o){const c=new Ve(o);try{return function(l,o,c){const p=ir(c);let y;if("mathml"===c.output)return ls(l,o,p,c.displayMode,!0);if("html"===c.output){const k=la(l,p);y=$.makeSpan(["katex"],[k])}else{const k=ls(l,o,p,c.displayMode,!1),P=la(l,p);y=$.makeSpan(["katex"],[k,P])}return da(y,c)}(Es(l,c),l,c)}catch(p){return vo(p,l,c)}};var Ra={version:"0.16.11",render:Cs,renderToString:function(l,o){return Na(l,o).toMarkup()},ParseError:ae,SETTINGS_SCHEMA:Vt,__parse:function(l,o){const c=new Ve(o);return Es(l,c)},__renderToDomTree:Na,__renderToHTMLTree:function(l,o){const c=new Ve(o);try{return function(p,y,k){const P=la(p,ir(k)),x=$.makeSpan(["katex"],[P]);return da(x,k)}(Es(l,c),0,c)}catch(p){return vo(p,l,c)}},__setFontMetrics:function(l,o){Ln[l]=o},__defineSymbol:v,__defineFunction:me,__defineMacro:L,__domTree:{Span:ei,Anchor:Q,SymbolNode:Ae,SvgNode:Ce,PathNode:ze,LineNode:Rt}};return Dt.default}()}),function(le,Dt){"object"==typeof exports&&"object"==typeof module?module.exports=Dt(require("katex")):"function"==typeof define&&define.amd?define(["katex"],Dt):"object"==typeof exports?exports.renderMathInElement=Dt(require("katex")):le.renderMathInElement=Dt(le.katex)}(typeof self<"u"?self:this,function(le){return function(){"use strict";var Dt={771:function(xt){xt.exports=le}},Pt={};function ae(xt){var Et=Pt[xt];if(void 0!==Et)return Et.exports;var Qt=Pt[xt]={exports:{}};return Dt[xt](Qt,Qt.exports,ae),Qt.exports}ae.n=function(xt){var Et=xt&&xt.__esModule?function(){return xt.default}:function(){return xt};return ae.d(Et,{a:Et}),Et},ae.d=function(xt,Et){for(var Qt in Et)ae.o(Et,Qt)&&!ae.o(xt,Qt)&&Object.defineProperty(xt,Qt,{enumerable:!0,get:Et[Qt]})},ae.o=function(xt,Et){return Object.prototype.hasOwnProperty.call(xt,Et)};var Yn={};return function(){ae.d(Yn,{default:function(){return Re}});var xt=ae(771),Et=ae.n(xt);const Qt=function(We,it,xe){let ut=xe,Nt=0;const pt=We.length;for(;ut<it.length;){const rt=it[ut];if(Nt<=0&&it.slice(ut,ut+pt)===We)return ut;"\\"===rt?ut++:"{"===rt?Nt++:"}"===rt&&Nt--,ut++}return-1},Se=/^\\begin{/,dt=function(We,it){const xe=function(We,it){let xe;const ut=[],Nt=new RegExp("("+it.map(pt=>pt.left.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")).join("|")+")");for(;xe=We.search(Nt),-1!==xe;){xe>0&&(ut.push({type:"text",data:We.slice(0,xe)}),We=We.slice(xe));const pt=it.findIndex(Pe=>We.startsWith(Pe.left));if(xe=Qt(it[pt].right,We,it[pt].left.length),-1===xe)break;const rt=We.slice(0,xe+it[pt].right.length),ge=Se.test(rt)?rt:We.slice(it[pt].left.length,xe);ut.push({type:"math",data:ge,rawData:rt,display:it[pt].display}),We=We.slice(xe+it[pt].right.length)}return""!==We&&ut.push({type:"text",data:We}),ut}(We,it.delimiters);if(1===xe.length&&"text"===xe[0].type)return null;const ut=document.createDocumentFragment();for(let Nt=0;Nt<xe.length;Nt++)if("text"===xe[Nt].type)ut.appendChild(document.createTextNode(xe[Nt].data));else{const pt=document.createElement("span");let rt=xe[Nt].data;it.displayMode=xe[Nt].display;try{it.preProcess&&(rt=it.preProcess(rt)),Et().render(rt,pt,it)}catch(ge){if(!(ge instanceof Et().ParseError))throw ge;it.errorCallback("KaTeX auto-render: Failed to parse `"+xe[Nt].data+"` with ",ge),ut.appendChild(document.createTextNode(xe[Nt].rawData));continue}ut.appendChild(pt)}return ut},Ve=function(We,it){for(let xe=0;xe<We.childNodes.length;xe++){const ut=We.childNodes[xe];if(3===ut.nodeType){let Nt=ut.textContent,pt=ut.nextSibling,rt=0;for(;pt&&pt.nodeType===Node.TEXT_NODE;)Nt+=pt.textContent,pt=pt.nextSibling,rt++;const ge=dt(Nt,it);if(ge){for(let Pe=0;Pe<rt;Pe++)ut.nextSibling.remove();xe+=ge.childNodes.length-1,We.replaceChild(ge,ut)}else xe+=rt}else if(1===ut.nodeType){const Nt=" "+ut.className+" ";-1===it.ignoredTags.indexOf(ut.nodeName.toLowerCase())&&it.ignoredClasses.every(pt=>-1===Nt.indexOf(" "+pt+" "))&&Ve(ut,it)}}};var Re=function(We,it){if(!We)throw new Error("No element provided to render");const xe={};for(const ut in it)it.hasOwnProperty(ut)&&(xe[ut]=it[ut]);xe.delimiters=xe.delimiters||[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}],xe.ignoredTags=xe.ignoredTags||["script","noscript","style","textarea","pre","code","option"],xe.ignoredClasses=xe.ignoredClasses||[],xe.errorCallback=xe.errorCallback||console.error,xe.macros=xe.macros||{},Ve(We,xe)}}(),Yn.default}()}),function(le,Dt){"object"==typeof exports&&typeof module<"u"?module.exports=Dt():"function"==typeof define&&define.amd?define(Dt):(le=typeof globalThis<"u"?globalThis:le||self).videojs=Dt()}(this,function(){"use strict";for(var le,Pt={},ae=function(t,a){return Pt[t]=Pt[t]||[],a&&(Pt[t]=Pt[t].concat(a)),Pt[t]},Yn=function(t,a){return!((a=ae(t).indexOf(a))<=-1||(Pt[t]=Pt[t].slice(),Pt[t].splice(a,1),0))},xt={prefixed:!0},Et=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Qt=Et[0],Se=0;Se<Et.length;Se++)if(Et[Se][1]in document){le=Et[Se];break}if(le){for(var Vt=0;Vt<le.length;Vt++)xt[Qt[Vt]]=le[Vt];xt.prefixed=le[0]!==Qt[0]}var dt=[],Re=function t(a){function i(){for(var r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];n("log",e,s)}var e="info",n=function(t,a){return function(i,u,n){var r,s=a.levels[u];u=new RegExp("^("+s+")$"),"log"!==i&&n.unshift(i.toUpperCase()+":"),n.unshift(t+":"),dt&&(dt.push([].concat(n)),dt.splice(0,0<(r=dt.length-1e3)?r:0)),!window.console||(r=(r=window.console[i])||"debug"!==i?r:window.console.info||window.console.log)&&s&&u.test(i)&&r[Array.isArray(n)?"apply":"call"](window.console,n)}}(a,i);return i.createLogger=function(r){return t(a+": "+r)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},i.level=function(r){if("string"==typeof r){if(!i.levels.hasOwnProperty(r))throw new Error('"'+r+'" in not a valid log level');e=r}return e},(i.history=function(){return dt?[].concat(dt):[]}).filter=function(r){return(dt||[]).filter(function(s){return new RegExp(".*"+r+".*").test(s[0])})},i.history.clear=function(){dt&&(dt.length=0)},i.history.disable=function(){null!==dt&&(dt.length=0,dt=null)},i.history.enable=function(){null===dt&&(dt=[])},i.error=function(){for(var r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];return n("error",e,s)},i.warn=function(){for(var r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];return n("warn",e,s)},i.debug=function(){for(var r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];return n("debug",e,s)},i}("VIDEOJS"),We=Re.createLogger,en=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function it(t,a){return t(a={exports:{}},a.exports),a.exports}var xe=it(function(t){function a(){return t.exports=a=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},a.apply(this,arguments)}t.exports=a}),ut=Object.prototype.toString,Nt=function(t){return ge(t)?Object.keys(t):[]};function pt(t,a){Nt(t).forEach(function(i){return a(t[i],i)})}function rt(t){for(var a=arguments.length,i=new Array(1<a?a-1:0),e=1;e<a;e++)i[e-1]=arguments[e];return Object.assign?xe.apply(void 0,[t].concat(i)):(i.forEach(function(n){n&&pt(n,function(r,s){t[s]=r})}),t)}function ge(t){return!!t&&"object"==typeof t}function Pe(t){return ge(t)&&"[object Object]"===ut.call(t)&&t.constructor===Object}function Fe(t,a){if(!t||!a||"function"!=typeof window.getComputedStyle)return"";var i;try{i=window.getComputedStyle(t)}catch{return""}return i?i.getPropertyValue(a)||i[a]:""}var De=window.navigator&&window.navigator.userAgent||"",Rn=(Tt=/AppleWebKit\/([\d.]+)/i.exec(De))?parseFloat(Tt.pop()):null,vn=/iPod/i.test(De),mr=(pn=De.match(/OS (\d+)_/i))&&pn[1]?pn[1]:null,mt=/Android/i.test(De),Pn=function(){var t=De.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var a=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return a&&i?parseFloat(t[1]+"."+t[2]):a||null}(),On=mt&&Pn<5&&Rn<537,Ln=/Firefox/i.test(De),Mi=/Edg/i.test(De),mi=!Mi&&(/Chrome/i.test(De)||/CriOS/i.test(De)),wr=(ji=De.match(/(Chrome|CriOS)\/(\d+)/))&&ji[2]?parseFloat(ji[2]):null,gi=Zt=!(Zt=(Zt=/MSIE\s(\d+)\.\d/.exec(De))&&parseFloat(Zt[1]))&&/Trident\/7.0/i.test(De)&&/rv:11.0/.test(De)?11:Zt,Hi=/Safari/i.test(De)&&!mi&&!mt&&!Mi,Sr=/Windows/i.test(De),Pi=!(!Vi()||!("ontouchstart"in window||window.navigator.maxTouchPoints||window.DocumentTouch&&window.document instanceof window.DocumentTouch)),Ft=/iPad/i.test(De)||Hi&&Pi&&!/iPhone/i.test(De),xr=/iPhone/i.test(De)&&!Ft,Wt=xr||Ft||vn,kr=(Hi||Wt)&&!mi,An=Object.freeze({__proto__:null,IS_IPOD:vn,IOS_VERSION:mr,IS_ANDROID:mt,ANDROID_VERSION:Pn,IS_NATIVE_ANDROID:On,IS_FIREFOX:Ln,IS_EDGE:Mi,IS_CHROME:mi,CHROME_VERSION:wr,IE_VERSION:gi,IS_SAFARI:Hi,IS_WINDOWS:Sr,TOUCH_ENABLED:Pi,IS_IPAD:Ft,IS_IPHONE:xr,IS_IOS:Wt,IS_ANY_SAFARI:kr});function Oi(t){return"string"==typeof t&&!!t.trim()}function aa(t){if(0<=t.indexOf(" "))throw new Error("class has illegal whitespace characters")}function Vi(){return document===window.document}function Ct(t){return ge(t)&&1===t.nodeType}function de(){try{return window.parent!==window.self}catch{return!0}}function xi(t){return function(a,i){return Oi(a)?(i=Ct(i=Oi(i)?document.querySelector(i):i)?i:document)[t]&&i[t](a):document[t](null)}}function Ze(t,a,i,e){void 0===t&&(t="div"),void 0===a&&(a={}),void 0===i&&(i={});var n=document.createElement(t);return Object.getOwnPropertyNames(a).forEach(function(r){var s=a[r];-1!==r.indexOf("aria-")||"role"===r||"type"===r?(Re.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+r+" to "+s+"."),n.setAttribute(r,s)):"textContent"===r?ki(n,s):n[r]===s&&"tabIndex"!==r||(n[r]=s)}),Object.getOwnPropertyNames(i).forEach(function(r){n.setAttribute(r,i[r])}),e&&U(n,e),n}function ki(t,a){return typeof t.textContent>"u"?t.innerText=a:t.textContent=a,t}function Er(t,a){a.firstChild?a.insertBefore(t,a.firstChild):a.appendChild(t)}function ei(t,a){return aa(a),t.classList?t.classList.contains(a):new RegExp("(^|\\s)"+a+"($|\\s)").test(t.className)}function Q(t,a){return t.classList?t.classList.add(a):ei(t,a)||(t.className=(t.className+" "+a).trim()),t}function ve(t,a){return t?(t.classList?t.classList.remove(a):(aa(a),t.className=t.className.split(/\s+/).filter(function(i){return i!==a}).join(" ")),t):(Re.warn("removeClass was called with an element that doesn't exist"),null)}function we(t,a,i){var e=ei(t,a);if((i="boolean"!=typeof(i="function"==typeof i?i(t,a):i)?!e:i)!==e)return(i?Q:ve)(t,a),t}function Ae(t,a){Object.getOwnPropertyNames(a).forEach(function(i){var e=a[i];null===e||typeof e>"u"||!1===e?t.removeAttribute(i):t.setAttribute(i,!0===e?"":e)})}function Ce(t){var a={};if(t&&t.attributes&&0<t.attributes.length)for(var e=t.attributes,n=e.length-1;0<=n;n--){var r=e[n].name,s=e[n].value;"boolean"!=typeof t[r]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+r+",")||(s=null!==s),a[r]=s}return a}function ze(t,a){return t.getAttribute(a)}function Rt(t,a,i){t.setAttribute(a,i)}function fe(t,a){t.removeAttribute(a)}function nn(){document.body.focus(),document.onselectstart=function(){return!1}}function En(){document.onselectstart=function(){return!0}}function kt(t){if(t&&t.getBoundingClientRect&&t.parentNode){var a=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==a[e]&&(i[e]=a[e])}),i.height||(i.height=parseFloat(Fe(t,"height"))),i.width||(i.width=parseFloat(Fe(t,"width"))),i}}function Be(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};for(var a=t.offsetWidth,i=t.offsetHeight,e=0,n=0;t.offsetParent&&t!==document[xt.fullscreenElement];)e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{left:e,top:n,width:a,height:i}}function v(m,a){var i={x:0,y:0};if(Wt)for(var e=m;e&&"html"!==e.nodeName.toLowerCase();){var n,r=Fe(e,"transform");/^matrix/.test(r)?(n=r.slice(7,-1).split(/,\s/).map(Number),i.x+=n[4],i.y+=n[5]):/^matrix3d/.test(r)&&(r=r.slice(9,-1).split(/,\s/).map(Number),i.x+=r[12],i.y+=r[13]),e=e.parentNode}var s={},w=Be(a.target),u=Be(m),d=u.width;return m=a.offsetY-(u.top-w.top),w=a.offsetX-(u.left-w.left),a.changedTouches&&(w=a.changedTouches[0].pageX-u.left,m=a.changedTouches[0].pageY+u.top,Wt&&(w-=i.x,m-=i.y)),s.y=1-Math.max(0,Math.min(1,m/u.height)),s.x=Math.max(0,Math.min(1,w/d)),s}function S(t){return ge(t)&&3===t.nodeType}function ie(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function A(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(a){return Ct(a="function"==typeof a?a():a)||S(a)?a:"string"==typeof a&&/\S/.test(a)?document.createTextNode(a):void 0}).filter(function(a){return a})}function U(t,a){return A(a).forEach(function(i){return t.appendChild(i)}),t}function gt(t,a){return U(ie(t),a)}function re(t){return void 0===t.button&&void 0===t.buttons||0===t.button&&void 0===t.buttons||"mouseup"===t.type&&0===t.button&&0===t.buttons||0===t.button&&1===t.buttons}var Bt,At=xi("querySelector"),_e=xi("querySelectorAll"),at=Object.freeze({__proto__:null,isReal:Vi,isEl:Ct,isInFrame:de,createEl:Ze,textContent:ki,prependTo:Er,hasClass:ei,addClass:Q,removeClass:ve,toggleClass:we,setAttributes:Ae,getAttributes:Ce,getAttribute:ze,setAttribute:Rt,removeAttribute:fe,blockTextSelection:nn,unblockTextSelection:En,getBoundingClientRect:kt,findPosition:Be,getPointerPosition:v,isTextNode:S,emptyEl:ie,normalizeContent:A,appendContent:U,insertContent:gt,isSingleLeftClick:re,$:At,$$:_e}),wn=!1,Li=function(){if(!1!==Bt.options.autoSetup){var t=Array.prototype.slice.call(document.getElementsByTagName("video")),a=Array.prototype.slice.call(document.getElementsByTagName("audio")),i=Array.prototype.slice.call(document.getElementsByTagName("video-js")),e=t.concat(a,i);if(e&&0<e.length)for(var n=0,r=e.length;n<r;n++){var s=e[n];if(!s||!s.getAttribute){F(1);break}void 0===s.player&&null!==s.getAttribute("data-setup")&&Bt(s)}else wn||F(1)}};function F(t,a){Vi()&&(a&&(Bt=a),window.setTimeout(Li,t))}function Un(){wn=!0,window.removeEventListener("load",Un)}function H(t){var a=document.createElement("style");return a.className=t,a}function Ge(t,a){t.styleSheet?t.styleSheet.cssText=a:t.textContent=a}Vi()&&("complete"===document.readyState?Un():window.addEventListener("load",Un));var et=3;window.WeakMap||(Cn=function(){function t(){this.vdata="vdata"+Math.floor(window.performance&&window.performance.now()||Date.now()),this.data={}}var a=t.prototype;return a.set=function(i,e){var n=i[this.vdata]||et++;return i[this.vdata]||(i[this.vdata]=n),this.data[n]=e,this},a.get=function(i){var e=i[this.vdata];if(e)return this.data[e];Re("We have no data for this element",i)},a.has=function(i){return i[this.vdata]in this.data},a.delete=function(i){var e=i[this.vdata];e&&(delete this.data[e],delete i[this.vdata])},t}());var Jt,Gt=new(window.WeakMap?WeakMap:Cn);function Ue(t,a){var i;Gt.has(t)&&(0===(i=Gt.get(t)).handlers[a].length&&(delete i.handlers[a],t.removeEventListener?t.removeEventListener(a,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+a,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&Gt.delete(t))}function er(t,a,i,e){i.forEach(function(n){t(a,n,e)})}function tr(t){if(t.fixed_)return t;function a(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var e,n,r,s=t||window.event;for(e in t={},s)"layerX"!==e&&"layerY"!==e&&"keyLocation"!==e&&"webkitMovementX"!==e&&"webkitMovementY"!==e&&"path"!==e&&("returnValue"===e&&s.preventDefault||(t[e]=s[e]));t.target||(t.target=t.srcElement||document),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){s.preventDefault&&s.preventDefault(),t.returnValue=!1,s.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){s.stopPropagation&&s.stopPropagation(),t.cancelBubble=!0,s.cancelBubble=!0,t.isPropagationStopped=a},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){s.stopImmediatePropagation&&s.stopImmediatePropagation(),t.isImmediatePropagationStopped=a,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!=t.clientX&&(n=document.documentElement,r=document.body,t.pageX=t.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),t.pageY=t.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),t.which=t.charCode||t.keyCode,null!=t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t.fixed_=!0,t}var Qs=function(){if("boolean"!=typeof Jt){Jt=!1;try{var t=Object.defineProperty({},"passive",{get:function(){Jt=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}}return Jt},sa=["touchstart","touchmove"];function rn(t,a,i){if(Array.isArray(a))return er(rn,t,a,i);Gt.has(t)||Gt.set(t,{});var e=Gt.get(t);e.handlers||(e.handlers={}),e.handlers[a]||(e.handlers[a]=[]),i.guid||(i.guid=et++),e.handlers[a].push(i),e.dispatcher||(e.disabled=!1,e.dispatcher=function(n,r){if(!e.disabled){n=tr(n);var s=e.handlers[n.type];if(s)for(var u=s.slice(0),d=0,f=u.length;d<f&&!n.isImmediatePropagationStopped();d++)try{u[d].call(t,n,r)}catch(m){Re.error(m)}}}),1===e.handlers[a].length&&(t.addEventListener?(i=!1,Qs()&&-1<sa.indexOf(a)&&(i={passive:!0}),t.addEventListener(a,e.dispatcher,i)):t.attachEvent&&t.attachEvent("on"+a,e.dispatcher))}function Fn(t,a,i){if(Gt.has(t)){var e=Gt.get(t);if(e.handlers){if(Array.isArray(a))return er(Fn,t,a,i);var n=function(d,f){e.handlers[f]=[],Ue(d,f)};if(void 0!==a){var r=e.handlers[a];if(r)if(i){if(i.guid)for(var s=0;s<r.length;s++)r[s].guid===i.guid&&r.splice(s--,1);Ue(t,a)}else n(t,a)}else for(var u in e.handlers)Object.prototype.hasOwnProperty.call(e.handlers||{},u)&&n(t,u)}}}function Ki(t,a,i){var e=Gt.has(t)?Gt.get(t):{},n=t.parentNode||t.ownerDocument;return"string"==typeof a?a={type:a,target:t}:a.target||(a.target=t),a=tr(a),e.dispatcher&&e.dispatcher.call(t,a,i),n&&!a.isPropagationStopped()&&!0===a.bubbles?Ki.call(null,n,a,i):!n&&!a.defaultPrevented&&a.target&&a.target[a.type]&&(Gt.has(a.target)||Gt.set(a.target,{}),n=Gt.get(a.target),a.target[a.type]&&(n.disabled=!0,"function"==typeof a.target[a.type]&&a.target[a.type](),n.disabled=!1)),!a.defaultPrevented}function Dn(t,a,i){if(Array.isArray(a))return er(Dn,t,a,i);function e(){Fn(t,a,e),i.apply(this,arguments)}e.guid=i.guid=i.guid||et++,rn(t,a,e)}function ss(t,a,i){function e(){Fn(t,a,e),i.apply(this,arguments)}e.guid=i.guid=i.guid||et++,rn(t,a,e)}function Xt(t,a,i){return a.guid||(a.guid=et++),(t=a.bind(t)).guid=i?i+"_"+a.guid:a.guid,t}function yi(t,a){var i=window.performance.now();return function(){var e=window.performance.now();a<=e-i&&(t.apply(void 0,arguments),i=e)}}function zn(){}var $,an=Object.freeze({__proto__:null,fixEvent:tr,on:rn,off:Fn,trigger:Ki,one:Dn,any:ss});function Di(t){return"function"==typeof t.name?t.name():"string"==typeof t.name?t.name:t.name_||(t.constructor&&t.constructor.name?t.constructor.name:typeof t)}function Ei(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length}function oa(t,a,i){if(!t||!t.nodeName&&!me(t))throw new Error("Invalid target for "+Di(a)+"#"+i+"; must be a DOM node or evented object.")}function Zs(t,a,i){if(!Ei(t))throw new Error("Invalid event type for "+Di(a)+"#"+i+"; must be a non-empty string or array.")}function os(t,a,i){if("function"!=typeof t)throw new Error("Invalid listener for "+Di(a)+"#"+i+"; must be a function.")}function Cr(t,s,i){var e,n,r=s.length<3||s[0]===t||s[0]===t.eventBusEl_;return s=r?(e=t.eventBusEl_,3<=s.length&&s.shift(),n=s[0],s[1]):(e=s[0],n=s[1],s[2]),oa(e,t,i),Zs(n,t,i),os(s,t,i),{isTargetingSelf:r,target:e,type:n,listener:s=Xt(t,s)}}function Ni(t,a,i,e){oa(t,t,a),t.nodeName?an[a](t,i,e):t[a](i,e)}zn.prototype.allowedEvents_={},zn.prototype.addEventListener=zn.prototype.on=function(t,a){var i=this.addEventListener;this.addEventListener=function(){},rn(this,t,a),this.addEventListener=i},zn.prototype.removeEventListener=zn.prototype.off=function(t,a){Fn(this,t,a)},zn.prototype.one=function(t,a){var i=this.addEventListener;this.addEventListener=function(){},Dn(this,t,a),this.addEventListener=i},zn.prototype.any=function(t,a){var i=this.addEventListener;this.addEventListener=function(){},ss(this,t,a),this.addEventListener=i},zn.prototype.dispatchEvent=zn.prototype.trigger=function(t){var a=t.type||t;t=tr(t="string"==typeof t?{type:a}:t),this.allowedEvents_[a]&&this["on"+a]&&this["on"+a](t),Ki(this,t)},zn.prototype.queueTrigger=function(t){var a=this,i=t.type||t,e=($=$||new Map).get(this);e||$.set(this,e=new Map);var n=e.get(i);e.delete(i),window.clearTimeout(n),n=window.setTimeout(function(){e.delete(i),0===e.size&&(e=null,$.delete(a)),a.trigger(t)},0),e.set(i,n)};var me=function(t){return t instanceof zn||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(a){return"function"==typeof t[a]})},nr={on:function(){for(var t=this,a=arguments.length,i=new Array(a),e=0;e<a;e++)i[e]=arguments[e];var n,r=Cr(this,i,"on"),s=r.isTargetingSelf,u=r.target,d=r.type,f=r.listener;Ni(u,"on",d,f),s||((n=function(){return t.off(u,d,f)}).guid=f.guid,(s=function(){return t.off("dispose",n)}).guid=f.guid,Ni(this,"on","dispose",n),Ni(u,"on","dispose",s))},one:function(){for(var t=this,a=arguments.length,i=new Array(a),e=0;e<a;e++)i[e]=arguments[e];var n=Cr(this,i,"one"),r=n.isTargetingSelf,s=n.target,u=n.type,d=n.listener;r?Ni(s,"one",u,d):((r=function f(){t.off(s,u,f);for(var m=arguments.length,w=new Array(m),C=0;C<m;C++)w[C]=arguments[C];d.apply(null,w)}).guid=d.guid,Ni(s,"one",u,r))},any:function(){for(var t=this,a=arguments.length,i=new Array(a),e=0;e<a;e++)i[e]=arguments[e];var n=Cr(this,i,"any"),r=n.isTargetingSelf,s=n.target,u=n.type,d=n.listener;r?Ni(s,"any",u,d):((r=function f(){t.off(s,u,f);for(var m=arguments.length,w=new Array(m),C=0;C<m;C++)w[C]=arguments[C];d.apply(null,w)}).guid=d.guid,Ni(s,"any",u,r))},off:function(t,a,i){!t||Ei(t)?Fn(this.eventBusEl_,t,a):(oa(t,this,"off"),Zs(a,this,"off"),os(i,this,"off"),i=Xt(this,i),this.off("dispose",i),t.nodeName?(Fn(t,a,i),Fn(t,"dispose",i)):me(t)&&(t.off(a,i),t.off("dispose",i)))},trigger:function(t,a){oa(this.eventBusEl_,this,"trigger");var i=t&&"string"!=typeof t?t.type:t;if(!Ei(i)){if(i="Invalid event type for "+Di(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.",!t)throw new Error(i);(this.log||Re).error(i)}return Ki(this.eventBusEl_,t,a)}};function Ar(t,a){if(a=(a=void 0===a?{}:a).eventBusKey){if(!t[a].nodeName)throw new Error('The eventBusKey "'+a+'" does not refer to an element.');t.eventBusEl_=t[a]}else t.eventBusEl_=Ze("span",{className:"vjs-event-bus"});return rt(t,nr),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(i){i()}),t.on("dispose",function(){t.off(),[t,t.el_,t.eventBusEl_].forEach(function(i){i&&Gt.has(i)&&Gt.delete(i)}),window.setTimeout(function(){t.eventBusEl_=null},0)}),t}var ln={state:{},setState:function(t){var a,i=this;return pt(t="function"==typeof t?t():t,function(e,n){i.state[n]!==e&&((a=a||{})[n]={from:i.state[n],to:e}),i.state[n]=e}),a&&me(this)&&this.trigger({changes:a,type:"statechanged"}),a}};function Ri(t,a){return rt(t,ln),t.state=rt({},t.state,a),"function"==typeof t.handleStateChanged&&me(t)&&t.on("statechanged",t.handleStateChanged),t}function ua(t){return"string"!=typeof t?t:t.replace(/./,function(a){return a.toLowerCase()})}function cn(t){return"string"!=typeof t?t:t.replace(/./,function(a){return a.toUpperCase()})}function Yt(){for(var t={},a=arguments.length,i=new Array(a),e=0;e<a;e++)i[e]=arguments[e];return i.forEach(function(n){n&&pt(n,function(r,s){Pe(r)?(Pe(t[s])||(t[s]={}),t[s]=Yt(t[s],r)):t[s]=r})}),t}var uu=window.Map||function(){function t(){this.map_={}}var a=t.prototype;return a.has=function(i){return i in this.map_},a.delete=function(i){var e=this.has(i);return delete this.map_[i],e},a.set=function(i,e){return this.map_[i]=e,this},a.forEach=function(i,e){for(var n in this.map_)i.call(e,this.map_[n],n,this)},t}(),dn=window.Set||function(){function t(){this.set_={}}var a=t.prototype;return a.has=function(i){return i in this.set_},a.delete=function(i){var e=this.has(i);return delete this.set_[i],e},a.add=function(i){return this.set_[i]=1,this},a.forEach=function(i,e){for(var n in this.set_)i.call(e,n,n,this)},t}(),He=it(function(t,a){function i(m){if(!m||"object"!=typeof m||(f=m.which||m.keyCode||m.charCode)&&(m=f),"number"==typeof m)return u[m];var f=String(m);return(m=e[f.toLowerCase()])||((m=n[f.toLowerCase()])?m:1===f.length?f.charCodeAt(0):void 0)}i.isEventKey=function(d,f){if(d&&"object"==typeof d){var m=d.which||d.keyCode||d.charCode;if(null==m)return!1;if("string"==typeof f){if((d=e[f.toLowerCase()])||(d=n[f.toLowerCase()]))return d===m}else if("number"==typeof f)return f===m;return!1}};for(var e=(a=t.exports=i).code=a.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},n=a.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91},r=97;r<123;r++)e[String.fromCharCode(r)]=r-32;for(r=48;r<58;r++)e[r-48]=r;for(r=1;r<13;r++)e["f"+r]=r+111;for(r=0;r<10;r++)e["numpad "+r]=r+96;var s,u=a.names=a.title={};for(r in e)u[e[r]]=r;for(s in n)e[s]=n[s]}),se=function(){function t(i,e,n){var r=this;this.player_=!i&&this.play?i=this:i,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Yt({},this.options_),e=this.options_=Yt(this.options_,e),this.id_=e.id||e.el&&e.el.id,this.id_||(i=i&&i.id&&i.id()||"no_player",this.id_=i+"_component_"+et++),this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),e.className&&this.el_&&e.className.split(" ").forEach(function(s){return r.addClass(s)}),!1!==e.evented&&(Ar(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Ri(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new dn,this.setIntervalIds_=new dn,this.rafIds_=new dn,this.namedRafs_=new uu,(this.clearingTimersOnDispose_=!1)!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var a=t.prototype;return a.dispose=function(i){if(void 0===i&&(i={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var e=this.children_.length-1;0<=e;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(i.restoreEl?this.el_.parentNode.replaceChild(i.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},a.isDisposed=function(){return!!this.isDisposed_},a.player=function(){return this.player_},a.options=function(i){return i&&(this.options_=Yt(this.options_,i)),this.options_},a.el=function(){return this.el_},a.createEl=function(i,e,n){return Ze(i,e,n)},a.localize=function(i,e,d){void 0===d&&(d=i);var u=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),s=r&&r[u];return u=u&&u.split("-")[0],u=r&&r[u],s&&s[i]?d=s[i]:u&&u[i]&&(d=u[i]),e?d.replace(/\{(\d+)\}/g,function(f,m){return typeof(m=e[m-1])>"u"?f:m}):d},a.handleLanguagechange=function(){},a.contentEl=function(){return this.contentEl_||this.el_},a.id=function(){return this.id_},a.name=function(){return this.name_},a.children=function(){return this.children_},a.getChildById=function(i){return this.childIndex_[i]},a.getChild=function(i){if(i)return this.childNameIndex_[i]},a.getDescendant=function(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];e=e.reduce(function(d,f){return d.concat(f)},[]);for(var r=this,s=0;s<e.length;s++)if(!(r=r.getChild(e[s]))||!r.getChild)return;return r},a.addChild=function(i,e,n){if(void 0===e&&(e={}),void 0===n&&(n=this.children_.length),"string"==typeof i){var r=cn(i),s=e.componentClass||r;e.name=r;var u=t.getComponent(s);if(!u)throw new Error("Component "+s+" does not exist");if("function"!=typeof u)return null;u=new u(this.player_||this,e)}else u=i;return u.parentComponent_&&u.parentComponent_.removeChild(u),this.children_.splice(n,0,u),u.parentComponent_=this,"function"==typeof u.id&&(this.childIndex_[u.id()]=u),(r=r||u.name&&cn(u.name()))&&(this.childNameIndex_[r]=u,this.childNameIndex_[ua(r)]=u),"function"==typeof u.el&&u.el()&&(r=null,this.children_[n+1]&&(this.children_[n+1].el_?r=this.children_[n+1].el_:Ct(this.children_[n+1])&&(r=this.children_[n+1])),this.contentEl().insertBefore(u.el(),r)),u},a.removeChild=function(i){if((i="string"==typeof i?this.getChild(i):i)&&this.children_){for(var e,n=!1,r=this.children_.length-1;0<=r;r--)if(this.children_[r]===i){n=!0,this.children_.splice(r,1);break}n&&(i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[cn(i.name())]=null,this.childNameIndex_[ua(i.name())]=null,(e=i.el())&&e.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el()))}},a.initChildren=function(){var i,e,n,r=this,s=this.options_.children;s&&(i=this.options_,e=t.getComponent("Tech"),(n=Array.isArray(s)?s:Object.keys(s)).concat(Object.keys(this.options_).filter(function(u){return!n.some(function(d){return"string"==typeof d?u===d:u===d.name})})).map(function(f){var d;return f="string"==typeof f?s[d=f]||r.options_[d]||{}:(d=f.name,f),{name:d,opts:f}}).filter(function(u){return(u=t.getComponent(u.opts.componentClass||cn(u.name)))&&!e.isTech(u)}).forEach(function(f){var d=f.name;f=f.opts,!1!==(f=void 0!==i[d]?i[d]:f)&&((f=!0===f?{}:f).playerOptions=r.options_.playerOptions,(f=r.addChild(d,f))&&(r[d]=f))}))},a.buildCSSClass=function(){return""},a.ready=function(i,e){if(void 0===e&&(e=!1),i)return this.isReady_?void(e?i.call(this):this.setTimeout(i,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(i))},a.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&0<i.length&&i.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},a.$=function(i,e){return At(i,e||this.contentEl())},a.$$=function(i,e){return _e(i,e||this.contentEl())},a.hasClass=function(i){return ei(this.el_,i)},a.addClass=function(i){Q(this.el_,i)},a.removeClass=function(i){ve(this.el_,i)},a.toggleClass=function(i,e){we(this.el_,i,e)},a.show=function(){this.removeClass("vjs-hidden")},a.hide=function(){this.addClass("vjs-hidden")},a.lockShowing=function(){this.addClass("vjs-lock-showing")},a.unlockShowing=function(){this.removeClass("vjs-lock-showing")},a.getAttribute=function(i){return ze(this.el_,i)},a.setAttribute=function(i,e){Rt(this.el_,i,e)},a.removeAttribute=function(i){fe(this.el_,i)},a.width=function(i,e){return this.dimension("width",i,e)},a.height=function(i,e){return this.dimension("height",i,e)},a.dimensions=function(i,e){this.width(i,!0),this.height(e)},a.dimension=function(i,e,n){return void 0!==e?(this.el_.style[i]=-1!==(""+(e=null===e||e!=e?0:e)).indexOf("%")||-1!==(""+e).indexOf("px")?e:"auto"===e?"":e+"px",void(n||this.trigger("componentresize"))):this.el_?(n=(e=this.el_.style[i]).indexOf("px"),parseInt(-1!==n?e.slice(0,n):this.el_["offset"+cn(i)],10)):0},a.currentDimension=function(i){var e=0;if("width"!==i&&"height"!==i)throw new Error("currentDimension only accepts width or height value");return e=Fe(this.el_,i),0!==(e=parseFloat(e))&&!isNaN(e)||(i="offset"+cn(i),e=this.el_[i]),e},a.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},a.currentWidth=function(){return this.currentDimension("width")},a.currentHeight=function(){return this.currentDimension("height")},a.focus=function(){this.el_.focus()},a.blur=function(){this.el_.blur()},a.handleKeyDown=function(i){this.player_&&(He.isEventKey(i,"Tab")||i.stopPropagation(),this.player_.handleKeyDown(i))},a.handleKeyPress=function(i){this.handleKeyDown(i)},a.emitTapEvents=function(){var i,e=0,n=null;function r(){i=!1}this.on("touchstart",function(s){1===s.touches.length&&(n={pageX:s.touches[0].pageX,pageY:s.touches[0].pageY},e=window.performance.now(),i=!0)}),this.on("touchmove",function(s){var u;1<s.touches.length?i=!1:n&&(u=s.touches[0].pageX-n.pageX,s=s.touches[0].pageY-n.pageY,10<Math.sqrt(u*u+s*s)&&(i=!1))}),this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",function(s){!(n=null)===i&&window.performance.now()-e<200&&(s.preventDefault(),this.trigger("tap"))})},a.enableTouchActivity=function(){var i,e,n;this.player()&&this.player().reportUserActivity&&(i=Xt(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){i(),this.clearInterval(e),e=this.setInterval(i,250)}),n=function(r){i(),this.clearInterval(e)},this.on("touchmove",i),this.on("touchend",n),this.on("touchcancel",n))},a.setTimeout=function(i,e){var n,r=this;return i=Xt(this,i),this.clearTimersOnDispose_(),n=window.setTimeout(function(){r.setTimeoutIds_.has(n)&&r.setTimeoutIds_.delete(n),i()},e),this.setTimeoutIds_.add(n),n},a.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),window.clearTimeout(i)),i},a.setInterval=function(i,e){return i=Xt(this,i),this.clearTimersOnDispose_(),e=window.setInterval(i,e),this.setIntervalIds_.add(e),e},a.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),window.clearInterval(i)),i},a.requestAnimationFrame=function(i){var e,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),i=Xt(this,i),e=window.requestAnimationFrame(function(){n.rafIds_.has(e)&&n.rafIds_.delete(e),i()}),this.rafIds_.add(e),e):this.setTimeout(i,1e3/60)},a.requestNamedAnimationFrame=function(i,e){var n=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),e=Xt(this,e);var r=this.requestAnimationFrame(function(){e(),n.namedRafs_.has(i)&&n.namedRafs_.delete(i)});return this.namedRafs_.set(i,r),i}},a.cancelNamedAnimationFrame=function(i){this.namedRafs_.has(i)&&(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},a.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),window.cancelAnimationFrame(i)),i):this.clearTimeout(i)},a.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(e){var r=e[1];i[e[0]].forEach(function(s,u){return i[r](u)})}),i.clearingTimersOnDispose_=!1}))},t.registerComponent=function(i,e){if("string"!=typeof i||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var n=(r=t.getComponent("Tech"))&&r.isTech(e),r=t===e||t.prototype.isPrototypeOf(e.prototype);if(n||!r){var s=n?"techs must be registered using Tech.registerTech()":"must be a Component subclass";throw new Error('Illegal component, "'+i+'"; '+s+".")}if(i=cn(i),t.components_||(t.components_={}),s=t.getComponent("Player"),"Player"===i&&s&&s.players){var u=s.players;if(s=Object.keys(u),u&&0<s.length&&s.map(function(f){return u[f]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[i]=e,t.components_[ua(i)]=e},t.getComponent=function(i){if(i&&t.components_)return t.components_[i]},t}();se.prototype.supportsRaf_="function"==typeof window.requestAnimationFrame&&"function"==typeof window.cancelAnimationFrame,se.registerComponent("Component",se);var Ke=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},he=function(t,a){t.prototype=Object.create(a.prototype),(t.prototype.constructor=t).__proto__=a};function Ir(t,a,i,e){return function(n,r,s){if("number"!=typeof r||r<0||s<r)throw new Error("Failed to execute '"+n+"' on 'TimeRanges': The index provided ("+r+") is non-numeric or out of bounds (0-"+s+").")}(t,e,i.length-1),i[e][a]}function ft(t){var a=void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:Ir.bind(null,"start",0,t),end:Ir.bind(null,"end",1,t)};return window.Symbol&&window.Symbol.iterator&&(a[window.Symbol.iterator]=function(){return(t||[]).values()}),a}function Bi(t,a){return Array.isArray(t)?ft(t):void 0===t||void 0===a?ft():ft([[t,a]])}function la(t,a){var i,e,n=0;if(!a)return 0;t&&t.length||(t=Bi(0,0));for(var r=0;r<t.length;r++)i=t.start(r),n+=(e=a<(e=t.end(r))?a:e)-i;return n/a}function Hn(t){if(t instanceof Hn)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:ge(t)&&("number"==typeof t.code&&(this.code=t.code),rt(this,t)),this.message||(this.message=Hn.defaultMessages[this.code]||"")}Hn.prototype.code=0,Hn.prototype.message="",Hn.prototype.status=null,Hn.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Hn.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Nn=0;Nn<Hn.errorTypes.length;Nn++)Hn[Hn.errorTypes[Nn]]=Nn,Hn.prototype[Hn.errorTypes[Nn]]=Nn;function oe(t){return null!=t&&"function"==typeof t.then}function hn(t){oe(t)&&t.then(null,function(a){})}function ca(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(a,i,e){return t[i]&&(a[i]=t[i]),a},{cues:t.cues&&Array.prototype.map.call(t.cues,function(a){return{startTime:a.startTime,endTime:a.endTime,text:a.text,id:a.id}})})}var Ui="vjs-modal-dialog",_t=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.handleKeyDown_=function(s){return r.handleKeyDown(s)},r.close_=function(s){return r.close(s)},r.opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=Ze("div",{className:Ui+"-content"},{role:"document"}),r.descEl_=Ze("p",{className:Ui+"-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),ki(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}he(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return Ui+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},i.label=function(){return this.localize(this.options_.label||"Modal Window")},i.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},i.open=function(){var e;this.opened_||(e=this.player(),this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0)},i.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},i.close=function(){var e;this.opened_&&(e=this.player(),this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose())},i.closeable=function(e){var n,r;return"boolean"==typeof e&&(n=this.closeable_=!!e,r=this.getChild("closeButton"),n&&!r&&(e=this.contentEl_,this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=e,this.on(r,"close",this.close_)),!n&&r&&(this.off(r,"close",this.close_),this.removeChild(r),r.dispose())),this.closeable_},i.fill=function(){this.fillWith(this.content())},i.fillWith=function(e){var n=this.contentEl(),r=n.parentNode,s=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(n),this.empty(),gt(n,e),this.trigger("modalfill"),s?r.insertBefore(n,s):r.appendChild(n),(n=this.getChild("closeButton"))&&r.appendChild(n.el_)},i.empty=function(){this.trigger("beforemodalempty"),ie(this.contentEl()),this.trigger("modalempty")},i.content=function(e){return typeof e<"u"&&(this.content_=e),this.content_},i.conditionalFocus_=function(){var e=document.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,!n.contains(e)&&n!==e||(this.previouslyActiveEl_=e,this.focus())},i.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},i.handleKeyDown=function(e){if(e.stopPropagation(),He.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(He.isEventKey(e,"Tab")){for(var n,r=this.focusableEls_(),s=this.el_.querySelector(":focus"),u=0;u<r.length;u++)if(s===r[u]){n=u;break}document.activeElement===this.el_&&(n=0),e.shiftKey&&0===n?(r[r.length-1].focus(),e.preventDefault()):e.shiftKey||n!==r.length-1||(r[0].focus(),e.preventDefault())}},i.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(n){return(n instanceof window.HTMLAnchorElement||n instanceof window.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof window.HTMLInputElement||n instanceof window.HTMLSelectElement||n instanceof window.HTMLTextAreaElement||n instanceof window.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof window.HTMLIFrameElement||n instanceof window.HTMLObjectElement||n instanceof window.HTMLEmbedElement||n.hasAttribute("tabindex")&&-1!==n.getAttribute("tabindex")||n.hasAttribute("contenteditable")})},a}(se);_t.prototype.options_={pauseOnOpen:!0,temporary:!0},se.registerComponent("ModalDialog",_t);var ls,ir=function(t){function a(e){var n;void 0===e&&(e=[]),(n=t.call(this)||this).tracks_=[],Object.defineProperty(Ke(n),"length",{get:function(){return this.tracks_.length}});for(var r=0;r<e.length;r++)n.addTrack(e[r]);return n}he(a,t);var i=a.prototype;return i.addTrack=function(e){var n=this,r=this.tracks_.length;""+r in this||Object.defineProperty(this,r,{get:function(){return this.tracks_[r]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){n.trigger({track:e,type:"labelchange",target:n})},me(e)&&e.addEventListener("labelchange",e.labelchange_)},i.removeTrack=function(e){for(var n,r=0,s=this.length;r<s;r++)if(this[r]===e){(n=this[r]).off&&n.off(),this.tracks_.splice(r,1);break}n&&this.trigger({track:n,type:"removetrack",target:this})},i.getTrackById=function(e){for(var n=null,r=0,s=this.length;r<s;r++){var u=this[r];if(u.id===e){n=u;break}}return n},a}(zn);for(ls in ir.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},ir.prototype.allowedEvents_)ir.prototype["on"+ls]=null;function da(t,a){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&a.id!==t[i].id&&(t[i].enabled=!1)}function cs(t,a){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&a.id!==t[i].id&&(t[i].selected=!1)}function ds(t){var a=["protocol","hostname","port","pathname","search","hash","host"],i=document.createElement("a");i.href=t;for(var e={},n=0;n<a.length;n++)e[a[n]]=i[a[n]];return"http:"===e.protocol&&(e.host=e.host.replace(/:80$/,"")),"https:"===e.protocol&&(e.host=e.host.replace(/:443$/,"")),e.protocol||(e.protocol=window.location.protocol),e.host||(e.host=window.location.host),e}function eo(t){var a;return t.match(/^https?:\/\//)||((a=document.createElement("a")).href=t,t=a.href),t}function hs(t){return"string"==typeof t&&(t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t))?t.pop().toLowerCase():""}function rr(t,a){return void 0===a&&(a=window.location),(":"===(t=ds(t)).protocol?a:t).protocol+t.host!==a.protocol+a.host}var Wn=function(t){function a(e){for(var n,r=(e=void 0===e?[]:e).length-1;0<=r;r--)if(e[r].enabled){da(e,e[r]);break}return(n=t.call(this,e)||this).changing_=!1,n}he(a,t);var i=a.prototype;return i.addTrack=function(e){var n=this;e.enabled&&da(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){n.changing_||(n.changing_=!0,da(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},a}(ir),Vn=function(t){function a(e){for(var n,r=(e=void 0===e?[]:e).length-1;0<=r;r--)if(e[r].selected){cs(e,e[r]);break}return(n=t.call(this,e)||this).changing_=!1,Object.defineProperty(Ke(n),"selectedIndex",{get:function(){for(var s=0;s<this.length;s++)if(this[s].selected)return s;return-1},set:function(){}}),n}he(a,t);var i=a.prototype;return i.addTrack=function(e){var n=this;e.selected&&cs(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){n.changing_||(n.changing_=!0,cs(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},a}(ir),Tt=function(t){function a(){return t.apply(this,arguments)||this}he(a,t);var i=a.prototype;return i.addTrack=function(e){var n=this;t.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},a}(ir),pn=function(){function t(i){void 0===i&&(i=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,n=i.length;e<n;e++)this.addTrackElement_(i[e])}var a=t.prototype;return a.addTrackElement_=function(i){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(i)&&this.trackElements_.push(i)},a.getTrackElementByTrack_=function(i){for(var e,n=0,r=this.trackElements_.length;n<r;n++)if(i===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},a.removeTrackElement_=function(i){for(var e=0,n=this.trackElements_.length;e<n;e++)if(i===this.trackElements_[e]){this.trackElements_[e].track&&"function"==typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"==typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},t}(),Vr=function(){function t(i){t.prototype.setCues_.call(this,i),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var a=t.prototype;return a.setCues_=function(i){var e=this.length||0,n=0,r=i.length;function s(u){""+u in this||Object.defineProperty(this,""+u,{get:function(){return this.cues_[u]}})}if(this.cues_=i,this.length_=i.length,e<r)for(n=e;n<r;n++)s.call(this,n)},a.getCueById=function(i){for(var e=null,n=0,r=this.length;n<r;n++){var s=this[n];if(s.id===i){e=s;break}}return e},t}(),st={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},ps={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},ha={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},pa={disabled:"disabled",hidden:"hidden",showing:"showing"},ji=(Rn=function(t){function a(i){void 0===i&&(i={});var e,n=t.call(this)||this,r={id:i.id||"vjs_track_"+et++,kind:i.kind||"",language:i.language||""},s=i.label||"";for(e in r)!function(u){Object.defineProperty(Ke(n),u,{get:function(){return r[u]},set:function(){}})}(e);return Object.defineProperty(Ke(n),"label",{get:function(){return s},set:function(u){u!==s&&(s=u,this.trigger("labelchange"))}}),n}return he(a,t),a}(zn),Object.freeze({__proto__:null,parseUrl:ds,getAbsoluteURL:eo,getFileExtension:hs,isCrossOrigin:rr})),si=Zt=typeof window<"u"?window:typeof en<"u"?en:typeof self<"u"?self:{},lu=function(t){if(!t)return!1;var a=fa.call(t);return"[object Function]"===a||"function"==typeof t&&"[object RegExp]"!==a||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)},fa=Object.prototype.toString;oi.httpHandler=function(t,a){return void 0===a&&(a=!1),function(i,e,n){if(i)t(i);else if(400<=e.statusCode&&e.statusCode<=599){if(i=n,a)if(si.TextDecoder){void 0===(r=e.headers&&e.headers["content-type"])&&(r=""),e=r.toLowerCase().split(";").reduce(function(s,d){d=(f=d.split("="))[0];var f=f[1];return"charset"===d.trim()?f.trim():s},"utf-8");try{i=new TextDecoder(e).decode(n)}catch{}}else i=String.fromCharCode.apply(null,new Uint8Array(n));t({cause:i})}else t(null,n);var r}};var cu=function(t){var a={};return t&&t.trim().split("\n").forEach(function(i){var n=i.indexOf(":"),e=i.slice(0,n).trim().toLowerCase();n=i.slice(n+1).trim(),typeof a[e]>"u"?a[e]=n:Array.isArray(a[e])?a[e].push(n):a[e]=[a[e],n]}),a},ma=oi;function fs(t,a,i){var e=t;return lu(a)?(i=a,"string"==typeof t&&(e={uri:t})):e=xe({},a,{uri:t}),e.callback=i,e}function oi(t,a,i){return to(a=fs(t,a,i))}function to(t){if(typeof t.callback>"u")throw new Error("callback argument missing");var a=!1,i=function(O,W,K){a||(a=!0,t.callback(O,W,K))};function e(){var O=void 0;if(O=f.response||f.responseText||function(W){try{if("document"===W.responseType)return W.responseXML;if(""===W.responseType&&(!W.responseXML||"parsererror"!==W.responseXML.documentElement.nodeName))return W.responseXML}catch{}return null}(f),D)try{O=JSON.parse(O)}catch{}return O}function n(O){return clearTimeout(d),(O=O instanceof Error?O:new Error(""+(O||"Unknown XMLHttpRequest Error"))).statusCode=0,i(O,z)}function r(){if(!u){clearTimeout(d);var O=t.useXDR&&void 0===f.status?200:1223===f.status?204:f.status,W=z,K=null;return 0!==O?(W={body:e(),statusCode:O,method:w,headers:{},url:m,rawRequest:f},f.getAllResponseHeaders&&(W.headers=cu(f.getAllResponseHeaders()))):K=new Error("Internal XMLHttpRequest Error"),i(K,W,W.body)}}var s,u,d,f=t.xhr||null,m=(f=f||new(t.cors||t.useXDR?oi.XDomainRequest:oi.XMLHttpRequest)).url=t.uri||t.url,w=f.method=t.method||"GET",C=t.body||t.data,M=f.headers=t.headers||{},E=!!t.sync,D=!1,z={body:void 0,headers:{},statusCode:0,method:w,url:m,rawRequest:f};if("json"in t&&!1!==t.json&&(D=!0,M.accept||M.Accept||(M.Accept="application/json"),"GET"!==w&&"HEAD"!==w&&(M["content-type"]||M["Content-Type"]||(M["Content-Type"]="application/json"),C=JSON.stringify(!0===t.json?C:t.json))),f.onreadystatechange=function(){4===f.readyState&&setTimeout(r,0)},f.onload=r,f.onerror=n,f.onprogress=function(){},f.onabort=function(){u=!0},f.ontimeout=n,f.open(w,m,!E,t.username,t.password),E||(f.withCredentials=!!t.withCredentials),!E&&0<t.timeout&&(d=setTimeout(function(){var O;u||(u=!0,f.abort("timeout"),(O=new Error("XMLHttpRequest timeout")).code="ETIMEDOUT",n(O))},t.timeout)),f.setRequestHeader)for(s in M)M.hasOwnProperty(s)&&f.setRequestHeader(s,M[s]);else if(t.headers&&!function(O){for(var W in O)if(O.hasOwnProperty(W))return;return 1}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(f.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(f),f.send(C||null),f}function ms(t,a){var i=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()),e=[];i.oncue=function(n){a.addCue(n)},i.onparsingerror=function(n){e.push(n)},i.onflush=function(){a.trigger({type:"loadeddata",target:a})},i.parse(t),0<e.length&&(window.console&&window.console.groupCollapsed&&window.console.groupCollapsed("Text Track parsing errors for "+a.src),e.forEach(function(n){return Re.error(n)}),window.console&&window.console.groupEnd&&window.console.groupEnd()),i.flush()}function no(t,a){var i={uri:t};(t=rr(t))&&(i.cors=t),(t="use-credentials"===a.tech_.crossOrigin())&&(i.withCredentials=t),ma(i,Xt(this,function(e,n,r){return e?Re.error(e,n):(a.loaded_=!0,void("function"!=typeof window.WebVTT?a.tech_&&a.tech_.any(["vttjsloaded","vttjserror"],function(s){return"vttjserror"!==s.type?ms(r,a):void Re.error("vttjs failed to load, stopping trying to process "+a.src)}):ms(r,a)))}))}vn=oi,oi.XMLHttpRequest=si.XMLHttpRequest||function(){},oi.XDomainRequest="withCredentials"in new oi.XMLHttpRequest?oi.XMLHttpRequest:si.XDomainRequest,function(t,a){for(var i=0;i<t.length;i++)a(t[i])}(["get","put","post","patch","head","delete"],function(t){oi["delete"===t?"del":t]=function(a,i,e){return(i=fs(a,i,e)).method=t.toUpperCase(),to(i)}}),ma.default=vn;var Mr=function(t){function a(r){var n;if(!(r=void 0===r?{}:r).tech)throw new Error("A tech was not provided.");r=Yt(r,{kind:ha[r.kind]||"subtitles",language:r.language||r.srclang||""});var s=pa[r.mode]||"disabled",u=r.default;"metadata"!==r.kind&&"chapters"!==r.kind||(s="hidden"),(n=t.call(this,r)||this).tech_=r.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var d=new Vr(n.cues_),f=new Vr(n.activeCues_),m=!1;return n.timeupdateHandler=Xt(Ke(n),function(w){void 0===w&&(w={}),this.tech_.isDisposed()||(this.tech_.isReady_&&(this.activeCues=this.activeCues,m&&(this.trigger("cuechange"),m=!1)),"timeupdate"!==w.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))}),n.tech_.one("dispose",function(){n.stopTracking()}),"disabled"!==s&&n.startTracking(),Object.defineProperties(Ke(n),{default:{get:function(){return u},set:function(){}},mode:{get:function(){return s},set:function(w){pa[w]&&s!==w&&(s=w,this.preload_||"disabled"===s||0!==this.cues.length||no(this.src,this),this.stopTracking(),"disabled"!==s&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?d:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return f;for(var w=this.tech_.currentTime(),C=[],M=0,E=this.cues.length;M<E;M++){var D=this.cues[M];(D.startTime<=w&&D.endTime>=w||D.startTime===D.endTime&&D.startTime<=w&&D.startTime+.5>=w)&&C.push(D)}if(m=!1,C.length!==this.activeCues_.length)m=!0;else for(var z=0;z<C.length;z++)-1===this.activeCues_.indexOf(C[z])&&(m=!0);return this.activeCues_=C,f.setCues_(this.activeCues_),f},set:function(){}}}),r.src?(n.src=r.src,n.preload_||(n.loaded_=!0),(n.preload_||"subtitles"!==r.kind&&"captions"!==r.kind)&&no(n.src,Ke(n))):n.loaded_=!0,n}he(a,t);var i=a.prototype;return i.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},i.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},i.addCue=function(e){var n=e;if(n.constructor&&"VTTCue"!==n.constructor.name){for(var r in n=new window.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)r in n||(n[r]=e[r]);n.id=e.id,n.originalCue_=e}for(var s=this.tech_.textTracks(),u=0;u<s.length;u++)s[u]!==this&&s[u].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)},i.removeCue=function(e){for(var n=this.cues_.length;n--;){var r=this.cues_[n];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}},a}(Rn);Mr.prototype.allowedEvents_={cuechange:"cuechange"},mr=function(t){function a(n){var e=Yt(n=void 0===n?{}:n,{kind:ps[n.kind]||""}),r=(n=t.call(this,e)||this,!1);return Object.defineProperty(Ke(n),"enabled",{get:function(){return r},set:function(s){"boolean"==typeof s&&s!==r&&(r=s,this.trigger("enabledchange"))}}),e.enabled&&(n.enabled=e.enabled),n.loaded_=!0,n}return he(a,t),a}(Rn),Hi=function(t){function a(n){var e=Yt(n=void 0===n?{}:n,{kind:st[n.kind]||""}),r=(n=t.call(this,e)||this,!1);return Object.defineProperty(Ke(n),"selected",{get:function(){return r},set:function(s){"boolean"==typeof s&&s!==r&&(r=s,this.trigger("selectedchange"))}}),e.selected&&(n.selected=e.selected),n}return he(a,t),a}(Rn),(Ft=function(t){function a(i){var e;void 0===i&&(i={});var n=t.call(this)||this,r=new Mr(i);return n.kind=r.kind,n.src=r.src,n.srclang=r.language,n.label=r.label,n.default=r.default,Object.defineProperties(Ke(n),{readyState:{get:function(){return e}},track:{get:function(){return r}}}),e=0,r.addEventListener("loadeddata",function(){e=2,n.trigger({type:"load",target:Ke(n)})}),n}return he(a,t),a}(zn)).prototype.allowedEvents_={load:"load"},Ft.NONE=0,Ft.LOADING=1,Ft.LOADED=2,Ft.ERROR=3;var ui={audio:{ListClass:Wn,TrackClass:mr,capitalName:"Audio"},video:{ListClass:Vn,TrackClass:Hi,capitalName:"Video"},text:{ListClass:Tt,TrackClass:Mr,capitalName:"Text"}};Object.keys(ui).forEach(function(t){ui[t].getterName=t+"Tracks",ui[t].privateName=t+"Tracks_"});var Yi={remoteText:{ListClass:Tt,TrackClass:Mr,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:pn,TrackClass:Ft,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},qn=xe({},ui,Yi);Yi.names=Object.keys(Yi),ui.names=Object.keys(ui),qn.names=[].concat(Yi.names).concat(ui.names);var Cn=typeof en<"u"?en:typeof window<"u"?window:{},Zt=bn=typeof document<"u"?document:(bn=Cn["__GLOBAL_DOCUMENT_CACHE@4"])||(Cn["__GLOBAL_DOCUMENT_CACHE@4"]={}),ga=Object.create||function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return Pr.prototype=t,new Pr};function Pr(){}function li(t,a){this.name="ParsingError",this.code=t.code,this.message=a||t.message}function ya(t){function a(i,e,n,r){return 3600*(0|i)+60*(0|e)+(0|n)+(0|r)/1e3}return(t=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/))?t[3]?a(t[1],t[2],t[3].replace(":",""),t[4]):59<t[1]?a(t[1],t[2],0,t[4]):a(0,t[1],t[2],t[4]):null}function Or(){this.values=ga(null)}function ar(t,a,i,e){var n,r,s=e?t.split(e):[t];for(n in s)"string"==typeof s[n]&&2===(r=s[n].split(i)).length&&a(r[0].trim(),r[1].trim())}function gs(t,a,i){var e=t;function n(){var s=ya(t);if(null===s)throw new li(li.Errors.BadTimeStamp,"Malformed timestamp: "+e);return t=t.replace(/^[^\sa-zA-Z-]+/,""),s}function r(){t=t.replace(/^\s+/,"")}if(r(),a.startTime=n(),r(),"--\x3e"!==t.substr(0,3))throw new li(li.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+e);t=t.substr(3),r(),a.endTime=n(),r(),function(s,u){var d=new Or;ar(s,function(f,m){switch(f){case"region":for(var w=i.length-1;0<=w;w--)if(i[w].id===m){d.set(f,i[w].region);break}break;case"vertical":d.alt(f,m,["rl","lr"]);break;case"line":var C=m.split(","),M=C[0];d.integer(f,M),d.percent(f,M)&&d.set("snapToLines",!1),d.alt(f,M,["auto"]),2===C.length&&d.alt("lineAlign",C[1],["start","center","end"]);break;case"position":C=m.split(","),d.percent(f,C[0]),2===C.length&&d.alt("positionAlign",C[1],["start","center","end"]);break;case"size":d.percent(f,m);break;case"align":d.alt(f,m,["start","center","end","left","right"])}},/:/,/\s/),u.region=d.get("region",null),u.vertical=d.get("vertical","");try{u.line=d.get("line","auto")}catch{}u.lineAlign=d.get("lineAlign","start"),u.snapToLines=d.get("snapToLines",!0),u.size=d.get("size",100);try{u.align=d.get("align","center")}catch{u.align=d.get("align","middle")}try{u.position=d.get("position","auto")}catch{u.position=d.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},u.align)}u.positionAlign=d.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},u.align)}(t,a)}((li.prototype=ga(Error.prototype)).constructor=li).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Or.prototype={set:function(t,a){this.get(t)||""===a||(this.values[t]=a)},get:function(t,a,i){return i?this.has(t)?this.values[t]:a[i]:this.has(t)?this.values[t]:a},has:function(t){return t in this.values},alt:function(t,a,i){for(var e=0;e<i.length;++e)if(a===i[e]){this.set(t,a);break}},integer:function(t,a){/^-?\d+$/.test(a)&&this.set(t,parseInt(a,10))},percent:function(t,a){return!!(a.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(a=parseFloat(a))&&a<=100)&&(this.set(t,a),!0)}};var Lr=Zt.createElement&&Zt.createElement("textarea"),du={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},io={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},ro={v:"title",lang:"lang"},va={rt:"ruby"};function ba(t,a){for(var i,e,n,r,s,d,f,m,w,C=t.document.createElement("div"),M=C,E=[];null!==(i=function(){if(!a)return null;var D=a.match(/^([^<]*)(<[^>]*>?)?/);return a=a.substr((D=D[1]||D[2]).length),D}());)"<"!==i[0]?M.appendChild(t.document.createTextNode((Lr.innerHTML=i,s=Lr.textContent,Lr.textContent="",s))):"/"!==i[1]?(r=ya(i.substr(1,i.length-2)))?(e=t.document.createProcessingInstruction("timestamp",r),M.appendChild(e)):(n=i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/))&&(m=n[3],w=void 0,(e=(w=du[f=n[1]])?(w=t.document.createElement(w),(f=ro[f])&&m&&(w[f]=m.trim()),w):null)&&(va[(d=e).localName]&&va[d.localName]!==M.localName||(n[2]&&((r=n[2].split(".")).forEach(function(O){var z=/^bg_/.test(O);O=z?O.slice(3):O,io.hasOwnProperty(O)&&(e.style[z?"background-color":"color"]=O=io[O])}),e.className=r.join(" ")),E.push(n[1]),M.appendChild(e),M=e))):E.length&&E[E.length-1]===i.substr(2).replace(">","")&&(E.pop(),M=M.parentNode);return C}var ys=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function hu(t){var a=[],i="";if(!t||!t.childNodes)return"ltr";function e(r,s){for(var u=s.childNodes.length-1;0<=u;u--)r.push(s.childNodes[u])}for(e(a,t);i=function r(s){if(!s||!s.length)return null;var u=s.pop(),d=u.textContent||u.innerText;if(d){var f=d.match(/^.*(\n|\r)/);return f?f[s.length=0]:d}return"ruby"===u.tagName?r(s):u.childNodes?(e(s,u),r(s)):void 0}(a);)for(var n=0;n<i.length;n++)if(function(r){for(var s=0;s<ys.length;s++){var u=ys[s];if(r>=u[0]&&r<=u[1])return 1}}(i.charCodeAt(n)))return"rtl";return"ltr"}function Wr(){}function sr(t,a,i){Wr.call(this),this.cue=a,this.cueDiv=ba(t,a.text);var e={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===a.vertical?"horizontal-tb":"lr"===a.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(e,this.cueDiv),this.div=t.document.createElement("div"),e={direction:hu(this.cueDiv),writingMode:""===a.vertical?"horizontal-tb":"lr"===a.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===a.align?"center":a.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(e),this.div.appendChild(this.cueDiv);var n=0;switch(a.positionAlign){case"start":case"line-left":n=a.position;break;case"center":n=a.position-a.size/2;break;case"end":case"line-right":n=a.position-a.size}this.applyStyles(""===a.vertical?{left:this.formatStyle(n,"%"),width:this.formatStyle(a.size,"%")}:{top:this.formatStyle(n,"%"),height:this.formatStyle(a.size,"%")}),this.move=function(r){this.applyStyles({top:this.formatStyle(r.top,"px"),bottom:this.formatStyle(r.bottom,"px"),left:this.formatStyle(r.left,"px"),right:this.formatStyle(r.right,"px"),height:this.formatStyle(r.height,"px"),width:this.formatStyle(r.width,"px")})}}function $n(t){var a,i,e,n;t.div&&(a=t.div.offsetHeight,i=t.div.offsetWidth,e=t.div.offsetTop,n=(n=t.div.childNodes)&&(n=n[0])&&n.getClientRects&&n.getClientRects(),t=t.div.getBoundingClientRect(),n=n?Math.max(n[0]&&n[0].height||0,t.height/n.length):0),this.left=t.left,this.right=t.right,this.top=t.top||e,this.height=t.height||a,this.bottom=t.bottom||e+(t.height||a),this.width=t.width||i,this.lineHeight=void 0!==n?n:t.lineHeight}function pu(t,a,i,e){var n,r=new $n(a),s=a.cue,u=function(E){if("number"==typeof E.line&&(E.snapToLines||0<=E.line&&E.line<=100))return E.line;if(!E.track||!E.track.textTrackList||!E.track.textTrackList.mediaElement)return-1;for(var D=E.track,z=D.textTrackList,O=0,W=0;W<z.length&&z[W]!==D;W++)"showing"===z[W].mode&&O++;return-1*++O}(s),d=[];if(s.snapToLines){switch(s.vertical){case"":d=["+y","-y"],n="height";break;case"rl":d=["+x","-x"],n="width";break;case"lr":d=["-x","+x"],n="width"}var f=r.lineHeight,m=f*Math.round(u),w=i[n]+f,C=d[0];Math.abs(m)>w&&(m=m<0?-1:1,m*=Math.ceil(w/f)*f),u<0&&(m+=""===s.vertical?i.height:i.width,d=d.reverse()),r.move(C,m)}else{var M=r.lineHeight/i.height*100;switch(s.lineAlign){case"center":u-=M/2;break;case"end":u-=M}switch(s.vertical){case"":a.applyStyles({top:a.formatStyle(u,"%")});break;case"rl":a.applyStyles({left:a.formatStyle(u,"%")});break;case"lr":a.applyStyles({right:a.formatStyle(u,"%")})}d=["+y","-x","+x","-y"],r=new $n(a)}r=function(E,D){for(var z,O=new $n(E),W=1,K=0;K<D.length;K++){for(;E.overlapsOppositeAxis(i,D[K])||E.within(i)&&E.overlapsAny(e);)E.move(D[K]);if(E.within(i))return E;var Y=E.intersectPercentage(i);Y<W&&(z=new $n(E),W=Y),E=new $n(O)}return z||O}(r,d),a.move(r.toCSSCompatValues(i))}function Dr(){}Wr.prototype.applyStyles=function(t,a){for(var i in a=a||this.div,t)t.hasOwnProperty(i)&&(a.style[i]=t[i])},Wr.prototype.formatStyle=function(t,a){return 0===t?0:t+a},(sr.prototype=ga(Wr.prototype)).constructor=sr,$n.prototype.move=function(t,a){switch(a=void 0!==a?a:this.lineHeight,t){case"+x":this.left+=a,this.right+=a;break;case"-x":this.left-=a,this.right-=a;break;case"+y":this.top+=a,this.bottom+=a;break;case"-y":this.top-=a,this.bottom-=a}},$n.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},$n.prototype.overlapsAny=function(t){for(var a=0;a<t.length;a++)if(this.overlaps(t[a]))return!0;return!1},$n.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},$n.prototype.overlapsOppositeAxis=function(t,a){switch(a){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},$n.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},$n.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},$n.getSimpleBoxPosition=function(t){var a=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,e=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||e,height:t.height||a,bottom:t.bottom||e+(t.height||a),width:t.width||i}},Dr.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},Dr.convertCueToDOMTree=function(t,a){return t&&a?ba(t,a):null},Dr.processCues=function(t,a,i){if(!t||!a||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var e=t.document.createElement("div");if(e.style.position="absolute",e.style.left="0",e.style.right="0",e.style.top="0",e.style.bottom="0",e.style.margin="1.5%",i.appendChild(e),function(d){for(var f=0;f<d.length;f++)if(d[f].hasBeenReset||!d[f].displayState)return 1}(a)){var n=[],r=$n.getSimpleBoxPosition(e),s={font:Math.round(.05*r.height*100)/100+"px sans-serif"};!function(){for(var d,f,m=0;m<a.length;m++)d=new sr(t,f=a[m],s),e.appendChild(d.div),pu(0,d,r,n),f.displayState=d.div,n.push($n.getSimpleBoxPosition(d))}()}else for(var u=0;u<a.length;u++)e.appendChild(a[u].displayState)},(Dr.Parser=function(t,a,i){i||(i=a,a={}),a=a||{},this.window=t,this.vttjs=a,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(t){if(!(t instanceof li))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var d,a=this;function i(){for(var d=a.buffer,f=0;f<d.length&&"\r"!==d[f]&&"\n"!==d[f];)++f;var m=d.substr(0,f);return"\r"===d[f]&&++f,"\n"===d[f]&&++f,a.buffer=d.substr(f),m}t&&(a.buffer+=a.decoder.decode(t,{stream:!0}));try{if("INITIAL"===a.state){if(!/\r\n|\n/.test(a.buffer))return this;var n,r=(n=i()).match(/^WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new li(li.Errors.BadSignature);a.state="HEADER"}for(var s=!1;a.buffer;){if(!/\r\n|\n/.test(a.buffer))return this;switch(s?s=!1:n=i(),a.state){case"HEADER":/:/.test(n)?(d=n).match(/X-TIMESTAMP-MAP/)?ar(d,function(f,m){var w;"X-TIMESTAMP-MAP"===f&&(w=new Or,ar(m,function(C,M){switch(C){case"MPEGT":w.integer(C+"S",M);break;case"LOCA":w.set(C+"L",ya(M))}},/[^\d]:/,/,/),a.ontimestampmap&&a.ontimestampmap({MPEGTS:w.get("MPEGTS"),LOCAL:w.get("LOCAL")}))},/=/):ar(d,function(f,m){var w;"Region"===f&&(w=new Or,ar(m,function(C,M){switch(C){case"id":w.set(C,M);break;case"width":w.percent(C,M);break;case"lines":w.integer(C,M);break;case"regionanchor":case"viewportanchor":var E=M.split(",");if(2!==E.length)break;var D=new Or;if(D.percent("x",E[0]),D.percent("y",E[1]),!D.has("x")||!D.has("y"))break;w.set(C+"X",D.get("x")),w.set(C+"Y",D.get("y"));break;case"scroll":w.alt(C,M,["up"])}},/=/,/\s/),w.has("id")&&((m=new(a.vttjs.VTTRegion||a.window.VTTRegion)).width=w.get("width",100),m.lines=w.get("lines",3),m.regionAnchorX=w.get("regionanchorX",0),m.regionAnchorY=w.get("regionanchorY",100),m.viewportAnchorX=w.get("viewportanchorX",0),m.viewportAnchorY=w.get("viewportanchorY",100),m.scroll=w.get("scroll",""),a.onregion&&a.onregion(m),a.regionList.push({id:w.get("id"),region:m})))},/:/):n||(a.state="ID");continue;case"NOTE":n||(a.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){a.state="NOTE";break}if(!n)continue;a.cue=new(a.vttjs.VTTCue||a.window.VTTCue)(0,0,"");try{a.cue.align="center"}catch{a.cue.align="middle"}if(a.state="CUE",-1===n.indexOf("--\x3e")){a.cue.id=n;continue}case"CUE":try{gs(n,a.cue,a.regionList)}catch(d){a.reportOrThrowError(d),a.cue=null,a.state="BADCUE";continue}a.state="CUETEXT";continue;case"CUETEXT":var u=-1!==n.indexOf("--\x3e");if(!n||u&&(s=!0)){a.oncue&&a.oncue(a.cue),a.cue=null,a.state="ID";continue}a.cue.text&&(a.cue.text+="\n"),a.cue.text+=n.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":n||(a.state="ID");continue}}}catch(d){a.reportOrThrowError(d),"CUETEXT"===a.state&&a.cue&&a.oncue&&a.oncue(a.cue),a.cue=null,a.state="INITIAL"===a.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),!t.cue&&"HEADER"!==t.state||(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new li(li.Errors.BadSignature)}catch(a){t.reportOrThrowError(a)}return t.onflush&&t.onflush(),this}};var fu=Dr,ao={"":1,lr:1,rl:1},so={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function Ci(t){return"string"==typeof t&&!!so[t.toLowerCase()]&&t.toLowerCase()}function vs(t,a,i){this.hasBeenReset=!1;var e="",n=!1,r=t,s=a,u=i,d=null,f="",m=!0,w="auto",C="start",M="auto",E="auto",D=100,z="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return e},set:function(O){e=""+O}},pauseOnExit:{enumerable:!0,get:function(){return n},set:function(O){n=!!O}},startTime:{enumerable:!0,get:function(){return r},set:function(O){if("number"!=typeof O)throw new TypeError("Start time must be set to a number.");r=O,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(O){if("number"!=typeof O)throw new TypeError("End time must be set to a number.");s=O,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return u},set:function(O){u=""+O,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return d},set:function(O){d=O,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return f},set:function(O){if(!1===(O="string"==typeof O&&!!ao[O.toLowerCase()]&&O.toLowerCase()))throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");f=O,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return m},set:function(O){m=!!O,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return w},set:function(O){if("number"!=typeof O&&"auto"!==O)throw new SyntaxError("Line: an invalid number or illegal string was specified.");w=O,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return C},set:function(O){(O=Ci(O))&&(C=O,this.hasBeenReset=!0)}},position:{enumerable:!0,get:function(){return M},set:function(O){if(O<0||100<O)throw new Error("Position must be between 0 and 100.");M=O,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return E},set:function(O){(O=Ci(O))&&(E=O,this.hasBeenReset=!0)}},size:{enumerable:!0,get:function(){return D},set:function(O){if(O<0||100<O)throw new Error("Size must be between 0 and 100.");D=O,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return z},set:function(O){if(!(O=Ci(O)))throw new SyntaxError("align: an invalid or illegal alignment string was specified.");z=O,this.hasBeenReset=!0}}}),this.displayState=void 0}vs.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var mu=vs,_a={"":!0,up:!0};function Nr(t){return"number"==typeof t&&0<=t&&t<=100}function bs(){var t=100,a=3,i=0,e=100,n=0,r=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(u){if(!Nr(u))throw new Error("Width must be between 0 and 100.");t=u}},lines:{enumerable:!0,get:function(){return a},set:function(u){if("number"!=typeof u)throw new TypeError("Lines must be set to a number.");a=u}},regionAnchorY:{enumerable:!0,get:function(){return e},set:function(u){if(!Nr(u))throw new Error("RegionAnchorX must be between 0 and 100.");e=u}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(u){if(!Nr(u))throw new Error("RegionAnchorY must be between 0 and 100.");i=u}},viewportAnchorY:{enumerable:!0,get:function(){return r},set:function(u){if(!Nr(u))throw new Error("ViewportAnchorY must be between 0 and 100.");r=u}},viewportAnchorX:{enumerable:!0,get:function(){return n},set:function(u){if(!Nr(u))throw new Error("ViewportAnchorX must be between 0 and 100.");n=u}},scroll:{enumerable:!0,get:function(){return s},set:function(u){!1===(u="string"==typeof u&&!!_a[u.toLowerCase()]&&u.toLowerCase())||(s=u)}}})}var or=it(function(t){t=t.exports={WebVTT:fu,VTTCue:mu,VTTRegion:bs},si.vttjs=t,si.WebVTT=t.WebVTT;var a=t.VTTCue,i=t.VTTRegion,e=si.VTTCue,n=si.VTTRegion;t.shim=function(){si.VTTCue=a,si.VTTRegion=i},t.restore=function(){si.VTTCue=e,si.VTTRegion=n},si.VTTCue||t.shim()}),Ut=function(t){function a(e,n){var r;return void 0===n&&(n=function(){}),(e=void 0===e?{}:e).reportTouchActivity=!1,(r=t.call(this,null,e,n)||this).onDurationChange_=function(s){return r.onDurationChange(s)},r.trackProgress_=function(s){return r.trackProgress(s)},r.trackCurrentTime_=function(s){return r.trackCurrentTime(s)},r.stopTrackingCurrentTime_=function(s){return r.stopTrackingCurrentTime(s)},r.disposeSourceHandler_=function(s){return r.disposeSourceHandler(s)},r.queuedHanders_=new Set,r.hasStarted_=!1,r.on("playing",function(){this.hasStarted_=!0}),r.on("loadstart",function(){this.hasStarted_=!1}),qn.names.forEach(function(s){s=qn[s],e&&e[s.getterName]&&(r[s.privateName]=e[s.getterName])}),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(s){!1===e["native"+s+"Tracks"]&&(r["featuresNative"+s+"Tracks"]=!1)}),!1===e.nativeCaptions||!1===e.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.preloadTextTracks=!1!==e.preloadTextTracks,r.autoRemoteTextTracks_=new qn.text.ListClass,r.initTrackListeners(),e.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}he(a,t);var i=a.prototype;return i.triggerSourceset=function(e){var n=this;this.isReady_||this.one("ready",function(){return n.setTimeout(function(){return n.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},i.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},i.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},i.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Xt(this,function(){var n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),1===(this.bufferedPercent_=n)&&this.stopTrackingProgress()}),500)},i.onDurationChange=function(e){this.duration_=this.duration()},i.buffered=function(){return Bi(0,0)},i.bufferedPercent=function(){return la(this.buffered(),this.duration_)},i.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},i.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},i.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},i.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.dispose=function(){this.clearTracks(ui.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},i.clearTracks=function(e){var n=this;(e=[].concat(e)).forEach(function(r){for(var s=n[r+"Tracks"]()||[],u=s.length;u--;){var d=s[u];"text"===r&&n.removeRemoteTextTrack(d),s.removeTrack(d)}})},i.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],n=e.length;n--;)this.removeRemoteTextTrack(e[n])},i.reset=function(){},i.crossOrigin=function(){},i.setCrossOrigin=function(){},i.error=function(e){return void 0!==e&&(this.error_=new Hn(e),this.trigger("error")),this.error_},i.played=function(){return this.hasStarted_?Bi(0,0):Bi()},i.play=function(){},i.setScrubbing=function(){},i.scrubbing=function(){},i.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.initTrackListeners=function(){var e=this;ui.names.forEach(function(n){function r(){e.trigger(n+"trackchange")}var u=e[ui[n].getterName]();u.addEventListener("removetrack",r),u.addEventListener("addtrack",r),e.on("dispose",function(){u.removeEventListener("removetrack",r),u.removeEventListener("addtrack",r)})})},i.addWebVttScript_=function(){var e,n=this;window.WebVTT||(document.body.contains(this.el())?!this.options_["vtt.js"]&&Pe(or)&&0<Object.keys(or).length?this.trigger("vttjsloaded"):((e=document.createElement("script")).src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=function(){n.trigger("vttjsloaded")},e.onerror=function(){n.trigger("vttjserror")},this.on("dispose",function(){e.onload=null,e.onerror=null}),window.WebVTT=!0,this.el().parentNode.appendChild(e)):this.ready(this.addWebVttScript_))},i.emulateTextTracks=function(){function e(m){return s.addTrack(m.track)}function n(m){return s.removeTrack(m.track)}var r=this,s=this.textTracks(),u=this.remoteTextTracks();function d(){return r.trigger("texttrackchange")}function f(){d();for(var m=0;m<s.length;m++){var w=s[m];w.removeEventListener("cuechange",d),"showing"===w.mode&&w.addEventListener("cuechange",d)}}u.on("addtrack",e),u.on("removetrack",n),this.addWebVttScript_(),f(),s.addEventListener("change",f),s.addEventListener("addtrack",f),s.addEventListener("removetrack",f),this.on("dispose",function(){u.off("addtrack",e),u.off("removetrack",n),s.removeEventListener("change",f),s.removeEventListener("addtrack",f),s.removeEventListener("removetrack",f);for(var m=0;m<s.length;m++)s[m].removeEventListener("cuechange",d)})},i.addTextTrack=function(e,n,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(s,u,d,f,m){void 0===m&&(m={});var w=s.textTracks();return m.kind=u,d&&(m.label=d),f&&(m.language=f),m.tech=s,m=new qn.text.TrackClass(m),w.addTrack(m),m}(this,e,n,r)},i.createRemoteTextTrack=function(e){return e=Yt(e,{tech:this}),new Yi.remoteTextEl.TrackClass(e)},i.addRemoteTextTrack=function(e,n){var r=this,s=this.createRemoteTextTrack(e=void 0===e?{}:e);return!0!==n&&!1!==n&&(Re.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(s),this.remoteTextTracks().addTrack(s.track),!0!==n&&this.ready(function(){return r.autoRemoteTextTracks_.addTrack(s.track)}),s},i.removeRemoteTextTrack=function(e){var n=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},i.getVideoPlaybackQuality=function(){return{}},i.requestPictureInPicture=function(){var e=this.options_.Promise||window.Promise;if(e)return e.reject()},i.disablePictureInPicture=function(){return!0},i.setDisablePictureInPicture=function(){},i.requestVideoFrameCallback=function(e){var n=this,r=et++;return!this.isReady_||this.paused()?(this.queuedHanders_.add(r),this.one("playing",function(){n.queuedHanders_.has(r)&&(n.queuedHanders_.delete(r),e())})):this.requestNamedAnimationFrame(r,e),r},i.cancelVideoFrameCallback=function(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.overrideNativeAudioTracks=function(){},i.overrideNativeVideoTracks=function(){},i.canPlayType=function(){return""},a.canPlayType=function(){return""},a.canPlaySource=function(e,n){return a.canPlayType(e.type)},a.isTech=function(e){return e.prototype instanceof a||e instanceof a||e===a},a.registerTech=function(e,n){if(a.techs_||(a.techs_={}),!a.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!a.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!a.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=cn(e),a.techs_[e]=n,a.techs_[ua(e)]=n,"Tech"!==e&&a.defaultTechOrder_.push(e),n},a.getTech=function(e){if(e)return a.techs_&&a.techs_[e]?a.techs_[e]:(e=cn(e),window&&window.videojs&&window.videojs[e]?(Re.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),window.videojs[e]):void 0)},a}(se);qn.names.forEach(function(t){var a=qn[t];Ut.prototype[a.getterName]=function(){return this[a.privateName]=this[a.privateName]||new a.ListClass,this[a.privateName]}}),Ut.prototype.featuresVolumeControl=!0,Ut.prototype.featuresMuteControl=!0,Ut.prototype.featuresFullscreenResize=!1,Ut.prototype.featuresPlaybackRate=!1,Ut.prototype.featuresProgressEvents=!1,Ut.prototype.featuresSourceset=!1,Ut.prototype.featuresTimeupdateEvents=!1,Ut.prototype.featuresNativeTextTracks=!1,Ut.prototype.featuresVideoFrameCallback=!1,Ut.withSourceHandlers=function(t){t.registerSourceHandler=function(a,i){var e=(e=t.sourceHandlers)||(t.sourceHandlers=[]);void 0===i&&(i=e.length),e.splice(i,0,a)},t.canPlayType=function(a){for(var i,e=t.sourceHandlers||[],n=0;n<e.length;n++)if(i=e[n].canPlayType(a))return i;return""},t.selectSourceHandler=function(a,i){for(var e=t.sourceHandlers||[],n=0;n<e.length;n++)if(e[n].canHandleSource(a,i))return e[n];return null},t.canPlaySource=function(a,i){var e=t.selectSourceHandler(a,i);return e?e.canHandleSource(a,i):""},["seekable","seeking","duration"].forEach(function(a){var i=this[a];"function"==typeof i&&(this[a]=function(){return this.sourceHandler_&&this.sourceHandler_[a]?this.sourceHandler_[a].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(a){var i=t.selectSourceHandler(a,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:Re.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==t.nativeSourceHandler&&(this.currentSource_=a),this.sourceHandler_=i.handleSource(a,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},se.registerComponent("Tech",Ut),Ut.registerTech("Tech",Ut),Ut.defaultTechOrder_=[];var jn={},Ta={},L={};function di(t,a,i,n){void 0===n&&(n=null);var r="call"+cn(i);return r=t.reduce(Fi(r),n),function(s,u,d,f){for(var m=s.length-1;0<=m;m--){var w=s[m];w[u]&&w[u](f,d)}}(t,i,r=(n=r===L)?null:a[i](r),n),r}var oo={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},wa={setCurrentTime:1,setMuted:1,setVolume:1},Sa={play:1,pause:1};function Fi(t){return function(a,i){return a===L?L:i[t]?i[t](a):a}}function hi(t){return t=hs(t=void 0===t?"":t),zi[t.toLowerCase()]||""}function uo(t){var a;return Array.isArray(t)?(a=[],t.forEach(function(i){i=uo(i),Array.isArray(i)?a=a.concat(i):ge(i)&&a.push(i)}),a):"string"==typeof t&&t.trim()?[Ts({src:t})]:ge(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[Ts(t)]:[]}var zi={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"};function Ts(t){var a;return t.type||(a=hi(t.src))&&(t.type=a),t}vn=function(t){function a(i,e,s){var r=Yt({createEl:!1},e);if(s=t.call(this,i,r,s)||this,e.playerOptions.sources&&0!==e.playerOptions.sources.length)i.src(e.playerOptions.sources);else for(var u=0,d=e.playerOptions.techOrder;u<d.length;u++){var f=cn(d[u]),m=Ut.getTech(f);if((m=f?m:se.getComponent(f))&&m.isSupported()){i.loadTech_(f);break}}return s}return he(a,t),a}(se),se.registerComponent("MediaLoader",vn),Rn=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.options_.controlText&&r.controlText(r.options_.controlText),r.handleMouseOver_=function(s){return r.handleMouseOver(s)},r.handleMouseOut_=function(s){return r.handleMouseOut(s)},r.handleClick_=function(s){return r.handleClick(s)},r.handleKeyDown_=function(s){return r.handleKeyDown(s)},r.emitTapEvents(),r.enable(),r}he(a,t);var i=a.prototype;return i.createEl=function(e,n,r){return void 0===e&&(e="div"),void 0===n&&(n={}),void 0===r&&(r={}),n=rt({className:this.buildCSSClass(),tabIndex:0},n),"button"===e&&Re.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),r=rt({role:"button"},r),this.tabIndex_=n.tabIndex,(r=Ze(e,n,r)).appendChild(Ze("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r},i.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},i.createControlTextEl=function(e){return this.controlTextEl_=Ze("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},i.controlText=function(e,n){if(void 0===n&&(n=this.el()),void 0===e)return this.controlText_||"Need Text";var r=this.localize(e);this.controlText_=e,ki(this.controlTextEl_,r),this.nonIconControl||this.player_.options_.noUITitleAttributes||n.setAttribute("title",r)},i.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},i.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},i.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},i.handleLanguagechange=function(){this.controlText(this.controlText_)},i.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},i.handleKeyDown=function(e){He.isEventKey(e,"Space")||He.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},a}(se),se.registerComponent("ClickableComponent",Rn),se.registerComponent("PosterImage",function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.update(),r.update_=function(s){return r.update(s)},e.on("posterchange",r.update_),r}he(a,t);var i=a.prototype;return i.dispose=function(){this.player().off("posterchange",this.update_),t.prototype.dispose.call(this)},i.createEl=function(){return Ze("div",{className:"vjs-poster",tabIndex:-1})},i.update=function(e){var n=this.player().poster();this.setSrc(n),n?this.show():this.hide()},i.setSrc=function(e){this.el_.style.backgroundImage=e?'url("'+e+'")':""},i.handleClick=function(e){var n;this.player_.controls()&&(n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&0<this.player_.eme.sessions.length,!this.player_.tech(!0)||(gi||Mi)&&n||this.player_.tech(!0).focus(),this.player_.paused()?hn(this.player_.play()):this.player_.pause())},a}(Rn));var Gr="#222",lo={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function xa(t,a){var i;if(4===t.length)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");i=t.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+a+")"}function ka(t,a,i){try{t.style[a]=i}catch{return}}se.registerComponent("TextTrackDisplay",function(t){function a(e,n,r){function s(d){return u.updateDisplay(d)}var u=t.call(this,e,n,r)||this;return e.on("loadstart",function(d){return u.toggleDisplay(d)}),e.on("texttrackchange",s),e.on("loadedmetadata",function(d){return u.preselectTrack(d)}),e.ready(Xt(Ke(u),function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)this.hide();else{e.on("fullscreenchange",s),e.on("playerresize",s),window.addEventListener("orientationchange",s),e.on("dispose",function(){return window.removeEventListener("orientationchange",s)});for(var d=this.options_.playerOptions.tracks||[],f=0;f<d.length;f++)this.player_.addRemoteTextTrack(d[f],!0);this.preselectTrack()}})),u}he(a,t);var i=a.prototype;return i.preselectTrack=function(){for(var e,n,r,s={captions:1,subtitles:1},u=this.player_.textTracks(),d=this.player_.cache_.selectedLanguage,f=0;f<u.length;f++){var m=u[f];d&&d.enabled&&d.language&&d.language===m.language&&m.kind in s?r=m.kind!==d.kind&&r||m:d&&!d.enabled?n=e=r=null:m.default&&("descriptions"!==m.kind||e?m.kind in s&&!n&&(n=m):e=m)}r?r.mode="showing":n?n.mode="showing":e&&(e.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){"function"==typeof window.WebVTT&&window.WebVTT.processCues(window,[],this.el_)},i.updateDisplay=function(){var e=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){for(var r=[],s=0;s<e.length;++s){var u=e[s];"showing"===u.mode&&r.push(u)}this.updateForTrack(r)}else{for(var d=null,f=null,m=e.length;m--;){var w=e[m];"showing"===w.mode&&("descriptions"===w.kind?d=w:f=w)}f?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(f)):d&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(d))}},i.updateDisplayState=function(e){for(var n=this.player_.textTrackSettings.getValues(),r=e.activeCues,s=r.length;s--;){var u,d=r[s];d&&(u=d.displayState,n.color&&(u.firstChild.style.color=n.color),n.textOpacity&&ka(u.firstChild,"color",xa(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(u.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&ka(u.firstChild,"backgroundColor",xa(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?ka(u,"backgroundColor",xa(n.windowColor,n.windowOpacity)):u.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?u.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+Gr:"raised"===n.edgeStyle?u.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+Gr:"depressed"===n.edgeStyle?u.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+Gr:"uniform"===n.edgeStyle&&(u.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+Gr)),n.fontPercent&&1!==n.fontPercent&&(d=window.parseFloat(u.style.fontSize),u.style.fontSize=d*n.fontPercent+"px",u.style.height="auto",u.style.top="auto"),n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=lo[n.fontFamily]))}},i.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof window.WebVTT&&!e.every(function(C){return!C.activeCues})){for(var n=[],r=0;r<e.length;++r)for(var s=e[r],u=0;u<s.activeCues.length;++u)n.push(s.activeCues[u]);window.WebVTT.processCues(window,n,this.el_);for(var d=0;d<e.length;++d){for(var f=e[d],m=0;m<f.activeCues.length;++m){var w=f.activeCues[m].displayState;Q(w,"vjs-text-track-cue"),Q(w,"vjs-text-track-cue-"+(f.language||d)),f.language&&Rt(w,"lang",f.language)}this.player_.textTrackSettings&&this.updateDisplayState(f)}}},a}(se)),se.registerComponent("LoadingSpinner",function(t){function a(){return t.apply(this,arguments)||this}return he(a,t),a.prototype.createEl=function(){var i=this.player_.isAudio(),e=this.localize(i?"Audio Player":"Video Player");return i=Ze("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[e])}),(e=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})).appendChild(i),e},a}(se));var vi=function(t){function a(){return t.apply(this,arguments)||this}he(a,t);var i=a.prototype;return i.createEl=function(e,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),(r=Ze("button",n=rt({className:this.buildCSSClass()},n),r=rt({type:"button"},r))).appendChild(Ze("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r},i.addChild=function(e,n){return void 0===n&&(n={}),Re.warn("Adding an actionable (user controllable) child to a Button ("+this.constructor.name+") is not supported; use a ClickableComponent instead."),se.prototype.addChild.call(this,e,n)},i.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(e){He.isEventKey(e,"Space")||He.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},a}(Rn);function Ea(t,s){t=t<0?0:t;var i=Math.floor(t%60),e=Math.floor(t/60%60),n=Math.floor(t/3600),r=Math.floor(s/60%60);return s=Math.floor(s/3600),(n=0<(n=isNaN(t)||t===1/0?e=i="-":n)||0<s?n+":":"")+(e=((n||10<=r)&&e<10?"0"+e:e)+":")+(i<10?"0"+i:i)}se.registerComponent("Button",vi),(Wn=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.mouseused_=!1,r.on("mousedown",function(s){return r.handleMouseDown(s)}),r}he(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(e){var n=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var r=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&0<this.player_.eme.sessions.length;return hn(n),void(!this.player_.tech(!0)||(gi||Mi)&&r||this.player_.tech(!0).focus())}var s=(r=this.player_.getChild("controlBar"))&&r.getChild("playToggle");s?(r=function(){return s.focus()},oe(n)?n.then(r,function(){}):this.setTimeout(r,1)):this.player_.tech(!0).focus()},i.handleKeyDown=function(e){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,e)},i.handleMouseDown=function(e){this.mouseused_=!0},a}(vi)).prototype.controlText_="Play Video",se.registerComponent("BigPlayButton",Wn),se.registerComponent("CloseButton",function(t){function a(e,n){return(e=t.call(this,e,n)||this).controlText(n&&n.controlText||e.localize("Close")),e}he(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},i.handleKeyDown=function(e){He.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},a}(vi)),(Vn=function(t){function a(e,n){var r=t.call(this,e,n=void 0===n?{}:n)||this;return n.replay=void 0===n.replay||n.replay,r.on(e,"play",function(s){return r.handlePlay(s)}),r.on(e,"pause",function(s){return r.handlePause(s)}),n.replay&&r.on(e,"ended",function(s){return r.handleEnded(s)}),r}he(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(e){this.player_.paused()?hn(this.player_.play()):this.player_.pause()},i.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},i.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},i.handleEnded=function(e){var n=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(r){return n.handleSeeked(r)})},a}(vi)).prototype.controlText_="Play",se.registerComponent("PlayToggle",Vn);var Xr=Ea;function ur(t,a){return Xr(t,a=void 0===a?t:a)}function Kr(t,a,i){return t=Number(t),Math.min(i,Math.max(a,isNaN(t)?a:t))}function Ca(t,a){return Kr(t/a*100,0,100).toFixed(2)+"%"}(Tt=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.on(e,["timeupdate","ended"],function(s){return r.updateContent(s)}),r.updateTextNode_(),r}he(a,t);var i=a.prototype;return i.createEl=function(){var e=this.buildCSSClass(),n=t.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control"}),r=Ze("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xa0"},{role:"presentation"});return n.appendChild(r),this.contentEl_=Ze("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},i.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},i.updateTextNode_=function(e){var n=this;e=ur(e=void 0===e?0:e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){var r;n.contentEl_&&((r=n.textNode_)&&n.contentEl_.firstChild!==r&&(r=null,Re.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),n.textNode_=document.createTextNode(n.formattedTime_),n.textNode_&&(r?n.contentEl_.replaceChild(n.textNode_,r):n.contentEl_.appendChild(n.textNode_)))}))},i.updateContent=function(e){},a}(se)).prototype.labelText_="Time",Tt.prototype.controlText_="Time",se.registerComponent("TimeDisplay",Tt),pn=function(t){function a(){return t.apply(this,arguments)||this}he(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(e){var n=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateTextNode_(n)},a}(Tt),pn.prototype.labelText_="Current Time",pn.prototype.controlText_="Current Time",se.registerComponent("CurrentTimeDisplay",pn),(Ft=function(t){function a(e,s){var r=t.call(this,e,s)||this;return s=function(u){return r.updateContent(u)},r.on(e,"durationchange",s),r.on(e,"loadstart",s),r.on(e,"loadedmetadata",s),r}he(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(e){var n=this.player_.duration();this.updateTextNode_(n)},a}(Tt)).prototype.labelText_="Duration",Ft.prototype.controlText_="Duration",se.registerComponent("DurationDisplay",Ft),se.registerComponent("TimeDivider",function(t){function a(){return t.apply(this,arguments)||this}return he(a,t),a.prototype.createEl=function(){var i=t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),e=t.prototype.createEl.call(this,"div"),n=t.prototype.createEl.call(this,"span",{textContent:"/"});return e.appendChild(n),i.appendChild(e),i},a}(se)),(en=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.on(e,"durationchange",function(s){return r.updateContent(s)}),r}he(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.createEl=function(){var e=t.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&e.insertBefore(Ze("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},i.updateContent=function(e){var n;"number"==typeof this.player_.duration()&&(n=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(n))},a}(Tt)).prototype.labelText_="Remaining Time",en.prototype.controlText_="Remaining Time",se.registerComponent("RemainingTimeDisplay",en),se.registerComponent("LiveDisplay",function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.updateShowing(),r.on(r.player(),"durationchange",function(s){return r.updateShowing(s)}),r}he(a,t);var i=a.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Ze("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Ze("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xa0"})),this.contentEl_.appendChild(document.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e},i.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},i.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},a}(se)),(Cn=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.updateLiveEdgeStatus(),r.player_.liveTracker&&(r.updateLiveEdgeStatusHandler_=function(s){return r.updateLiveEdgeStatus(s)},r.on(r.player_.liveTracker,"liveedgechange",r.updateLiveEdgeStatusHandler_)),r}he(a,t);var i=a.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Ze("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},i.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},i.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},i.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,t.prototype.dispose.call(this)},a}(vi)).prototype.controlText_="Seek to live, currently playing live",se.registerComponent("SeekToLive",Cn),bn=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.handleMouseDown_=function(s){return r.handleMouseDown(s)},r.handleMouseUp_=function(s){return r.handleMouseUp(s)},r.handleKeyDown_=function(s){return r.handleKeyDown(s)},r.handleClick_=function(s){return r.handleClick(s)},r.handleMouseMove_=function(s){return r.handleMouseMove(s)},r.update_=function(s){return r.update(s)},r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}he(a,t);var i=a.prototype;return i.enabled=function(){return this.enabled_},i.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},i.disable=function(){var e;this.enabled()&&(e=this.bar.el_.ownerDocument,this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1)},i.createEl=function(e,n,r){return void 0===r&&(r={}),(n=void 0===n?{}:n).className=n.className+" vjs-slider",n=rt({tabIndex:0},n),r=rt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),t.prototype.createEl.call(this,e,n,r)},i.handleMouseDown=function(e){var n=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||mi||e.preventDefault(),nn(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)},i.handleMouseMove=function(e){},i.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;En(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()},i.update=function(){var e=this;if(this.el_&&this.bar){var n=this.getProgress();return n===this.progress_||(this.progress_=n,this.requestNamedAnimationFrame("Slider#update",function(){var r=e.vertical()?"height":"width";e.bar.el().style[r]=(100*n).toFixed(2)+"%"})),n}},i.getProgress=function(){return Number(Kr(this.getPercent(),0,1).toFixed(4))},i.calculateDistance=function(e){return e=v(this.el_,e),this.vertical()?e.y:e.x},i.handleKeyDown=function(e){He.isEventKey(e,"Left")||He.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):He.isEventKey(e,"Right")||He.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,e)},i.handleClick=function(e){e.stopPropagation(),e.preventDefault()},i.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal")},a}(se),se.registerComponent("Slider",bn),se.registerComponent("LoadProgressBar",function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.partEls_=[],r.on(e,"progress",function(s){return r.update(s)}),r}he(a,t);var i=a.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),n=Ze("span",{className:"vjs-control-text"}),r=Ze("span",{textContent:this.localize("Loaded")}),s=document.createTextNode(": ");return this.percentageEl_=Ze("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(r),n.appendChild(s),n.appendChild(this.percentageEl_),e},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},i.update=function(e){var n=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var d=n.player_.liveTracker,r=n.player_.buffered(),s=(d=d&&d.isLive()?d.seekableEnd():n.player_.duration(),n.player_.bufferedEnd()),u=n.partEls_;d=Ca(s,d),n.percent_!==d&&(n.el_.style.width=d,ki(n.percentageEl_,d),n.percent_=d);for(var f=0;f<r.length;f++){var m=r.start(f),w=r.end(f),C=u[f];C||(C=n.el_.appendChild(Ze()),u[f]=C),C.dataset.start===m&&C.dataset.end===w||(C.dataset.start=m,C.dataset.end=w,C.style.left=Ca(m,s),C.style.width=Ca(w-m,s))}for(var M=u.length;M>r.length;M--)n.el_.removeChild(u[M-1]);u.length=r.length})},a}(se)),se.registerComponent("TimeTooltip",function(t){function a(e,n){return(n=t.call(this,e,n)||this).update=yi(Xt(Ke(n),n.update),30),n}he(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},i.update=function(e,n,r){var s=Be(this.el_),u=kt(this.player_.el()),d=e.width*n;u&&s&&(n=e.left-u.left+d,u=e.width-d+(u.right-e.right),n<(e=s.width/2)?e+=e-n:u<e&&(e=u),e<0?e=0:e>s.width&&(e=s.width),e=Math.round(e),this.el_.style.right="-"+e+"px",this.write(r))},i.write=function(e){ki(this.el_,e)},i.updateTime=function(e,n,r,s){var u=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var d,f,m=u.player_.duration();m=u.player_.liveTracker&&u.player_.liveTracker.isLive()?((f=(d=u.player_.liveTracker.liveWindow())-n*d)<1?"":"-")+ur(f,d):ur(r,m),u.update(e,n,m),s&&s()})},a}(se)),(Zt=function(t){function a(e,n){return(n=t.call(this,e,n)||this).update=yi(Xt(Ke(n),n.update),30),n}he(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=function(e,n){var r,s=this.getChild("timeTooltip");s&&(r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),s.updateTime(e,n,r))},a}(se)).prototype.options_={children:[]},Wt||mt||Zt.prototype.options_.children.push("timeTooltip"),se.registerComponent("PlayProgressBar",Zt),(vn=function(t){function a(e,n){return(n=t.call(this,e,n)||this).update=yi(Xt(Ke(n),n.update),30),n}he(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(e,n){var r=this,s=n*this.player_.duration();this.getChild("timeTooltip").updateTime(e,n,s,function(){r.el_.style.left=e.width*n+"px"})},a}(se)).prototype.options_={children:["timeTooltip"]},se.registerComponent("MouseTimeDisplay",vn),(Wn=function(t){function a(e,n){return(n=t.call(this,e,n)||this).setEventHandlers_(),n}he(a,t);var i=a.prototype;return i.setEventHandlers_=function(){var e=this;this.update_=Xt(this,this.update),this.update=yi(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(n){return e.enableInterval_(n)},this.disableIntervalHandler_=function(n){return e.disableInterval_(n)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document&&"visibilityState"in document&&this.on(document,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(e){"hidden"===document.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},i.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(e){var n=this;if("hidden"!==document.visibilityState){var r=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var s=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),u=n.player_.liveTracker,d=n.player_.duration();u&&u.isLive()&&(d=n.player_.liveTracker.liveCurrentTime()),n.percent_!==r&&(n.el_.setAttribute("aria-valuenow",(100*r).toFixed(2)),n.percent_=r),n.currentTime_===s&&n.duration_===d||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[ur(s,d),ur(d,d)],"{1} of {2}")),n.currentTime_=s,n.duration_=d),n.bar&&n.bar.update(kt(n.el()),n.getProgress())}),r}},i.userSeek_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var e,n=this.getCurrentTime_(),r=this.player_.liveTracker;return r&&r.isLive()?(e=(n-r.seekableStart())/r.liveWindow(),r.atLiveEdge()&&(e=1)):e=n/this.player_.duration(),e},i.handleMouseDown=function(e){re(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},i.handleMouseMove=function(e,n){if(void 0===n&&(n=!1),re(e)){n||this.player_.scrubbing()||this.player_.scrubbing(!0);var r=this.calculateDistance(e),s=this.player_.liveTracker;if(s&&s.isLive()){if(.99<=r)return void s.seekToLiveEdge();var u;if(n=s.seekableStart(),(u=(u=(e=s.liveCurrentTime())<=(u=n+r*s.liveWindow())?e:u)<=n?n+.1:u)===1/0)return}else(u=r*this.player_.duration())===this.player_.duration()&&(u-=.1);this.userSeek_(u)}},i.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},i.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},i.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?hn(this.player_.play()):this.update_()},i.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},i.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},i.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(e){var n,r=this.player_.liveTracker;He.isEventKey(e,"Space")||He.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.handleAction(e)):He.isEventKey(e,"Home")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(0)):He.isEventKey(e,"End")?(e.preventDefault(),e.stopPropagation(),r&&r.isLive()?this.userSeek_(r.liveCurrentTime()):this.userSeek_(this.player_.duration())):/^[0-9]$/.test(He(e))?(e.preventDefault(),e.stopPropagation(),n=10*(He.codes[He(e)]-He.codes[0])/100,r&&r.isLive()?this.userSeek_(r.seekableStart()+r.liveWindow()*n):this.userSeek_(this.player_.duration()*n)):He.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):He.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):t.prototype.handleKeyDown.call(this,e)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document&&"visibilityState"in document&&this.off(document,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},a}(bn)).prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Wt||mt||Wn.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),se.registerComponent("SeekBar",Wn),(Vn=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.handleMouseMove=yi(Xt(Ke(r),r.handleMouseMove),30),r.throttledHandleMouseSeek=yi(Xt(Ke(r),r.handleMouseSeek),30),r.handleMouseUpHandler_=function(s){return r.handleMouseUp(s)},r.handleMouseDownHandler_=function(s){return r.handleMouseDown(s)},r.enable(),r}he(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(e){var n,r,s,u,d=this.getChild("seekBar");d&&(n=d.getChild("playProgressBar"),r=d.getChild("mouseTimeDisplay"),(n||r)&&(u=Be(s=d.el()),e=Kr(e=v(s,e).x,0,1),r&&r.update(u,e),n&&n.update(u,d.getProgress())))},i.handleMouseSeek=function(e){var n=this.getChild("seekBar");n&&n.handleMouseMove(e)},i.enabled=function(){return this.enabled_},i.disable=function(){var e;this.children().forEach(function(n){return n.disable&&n.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing()&&(e=this.getChild("seekBar"),this.player_.scrubbing(!1),e.videoWasPlaying&&hn(this.player_.play())))},i.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},i.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},i.handleMouseDown=function(e){var n=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(e){var n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},a}(se)).prototype.options_={children:["seekBar"]},se.registerComponent("ProgressControl",Vn),(pn=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.on(e,["enterpictureinpicture","leavepictureinpicture"],function(s){return r.handlePictureInPictureChange(s)}),r.on(e,["disablepictureinpicturechanged","loadedmetadata"],function(s){return r.handlePictureInPictureEnabledChange(s)}),r.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){"audio"===e.currentType().substring(0,5)||e.audioPosterMode()||e.audioOnlyMode()?(e.isInPictureInPicture()&&e.exitPictureInPicture(),r.hide()):r.show()}),r.disable(),r}he(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChange=function(){document.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},i.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},i.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},a}(vi)).prototype.controlText_="Picture-in-Picture",se.registerComponent("PictureInPictureToggle",pn),(Ft=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.on(e,"fullscreenchange",function(s){return r.handleFullscreenChange(s)}),!1===document[e.fsApi_.fullscreenEnabled]&&r.disable(),r}he(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},a}(vi)).prototype.controlText_="Fullscreen",se.registerComponent("FullscreenToggle",Ft),se.registerComponent("VolumeLevel",function(t){function a(){return t.apply(this,arguments)||this}return he(a,t),a.prototype.createEl=function(){var i=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return i.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),i},a}(se)),se.registerComponent("VolumeLevelTooltip",function(t){function a(e,n){return(n=t.call(this,e,n)||this).update=yi(Xt(Ke(n),n.update),30),n}he(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},i.update=function(e,n,r,s){if(!r){var u=kt(this.el_),d=kt(this.player_.el());if(!d||!u)return;n=e.left-d.left+(r=e.width*n),d=e.width-r+(d.right-e.right),n<(e=u.width/2)?e+=e-n:d<e&&(e=d),e<0?e=0:e>u.width&&(e=u.width),this.el_.style.right="-"+e+"px"}this.write(s+"%")},i.write=function(e){ki(this.el_,e)},i.updateVolume=function(e,n,r,s,u){var d=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){d.update(e,n,r,s.toFixed(0)),u&&u()})},a}(se)),(Tt=function(t){function a(e,n){return(n=t.call(this,e,n)||this).update=yi(Xt(Ke(n),n.update),30),n}he(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(e,n,r){var s=this,u=100*n;this.getChild("volumeLevelTooltip").updateVolume(e,n,r,u,function(){r?s.el_.style.bottom=e.height*n+"px":s.el_.style.left=e.width*n+"px"})},a}(se)).prototype.options_={children:["volumeLevelTooltip"]},se.registerComponent("MouseVolumeLevelDisplay",Tt),(en=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.on("slideractive",function(s){return r.updateLastVolume_(s)}),r.on(e,"volumechange",function(s){return r.updateARIAAttributes(s)}),e.ready(function(){return r.updateARIAAttributes()}),r}he(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},i.handleMouseDown=function(e){re(e)&&t.prototype.handleMouseDown.call(this,e)},i.handleMouseMove=function(e){var n,r,s,u=this.getChild("mouseVolumeLevelDisplay");u&&(n=kt(s=this.el()),r=this.vertical(),s=v(s,e),s=Kr(s=r?s.y:s.x,0,1),u.update(n,s,r)),re(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},i.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},i.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},i.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},i.updateARIAAttributes=function(e){var n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")},i.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},i.updateLastVolume_=function(){var e=this,n=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(n)})},a}(bn)).prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Wt||mt||en.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),en.prototype.playerEvent="volumechange",se.registerComponent("VolumeBar",en),(Cn=function(t){function a(e,n){var r,s,u;return(n=void 0===n?{}:n).vertical=n.vertical||!1,typeof n.volumeBar<"u"&&!Pe(n.volumeBar)||(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),r=t.call(this,e,n)||this,s=Ke(r),(u=e).tech_&&!u.tech_.featuresVolumeControl&&s.addClass("vjs-hidden"),s.on(u,"loadstart",function(){u.tech_.featuresVolumeControl?s.removeClass("vjs-hidden"):s.addClass("vjs-hidden")}),r.throttledHandleMouseMove=yi(Xt(Ke(r),r.handleMouseMove),30),r.handleMouseUpHandler_=function(d){return r.handleMouseUp(d)},r.on("mousedown",function(d){return r.handleMouseDown(d)}),r.on("touchstart",function(d){return r.handleMouseDown(d)}),r.on("mousemove",function(d){return r.handleMouseMove(d)}),r.on(r.volumeBar,["focus","slideractive"],function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")}),r.on(r.volumeBar,["blur","sliderinactive"],function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")}),r}he(a,t);var i=a.prototype;return i.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},i.handleMouseDown=function(e){var n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(e){var n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)},i.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},a}(se)).prototype.options_={children:["volumeBar"]},se.registerComponent("VolumeControl",Cn),(Zt=function(t){function a(e,n){var r,s,u=t.call(this,e,n)||this;return r=Ke(u),(s=e).tech_&&!s.tech_.featuresMuteControl&&r.addClass("vjs-hidden"),r.on(s,"loadstart",function(){s.tech_.featuresMuteControl?r.removeClass("vjs-hidden"):r.addClass("vjs-hidden")}),u.on(e,["loadstart","volumechange"],function(d){return u.update(d)}),u}he(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(e){var n=this.player_.volume(),r=this.player_.lastVolume_();0===n?(this.player_.volume(r<.1?.1:r),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},i.update=function(e){this.updateIcon_(),this.updateControlText_()},i.updateIcon_=function(){var e=this.player_.volume(),n=3;Wt&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?n=0:e<.33?n=1:e<.67&&(n=2);for(var r=0;r<4;r++)ve(this.el_,"vjs-vol-"+r);Q(this.el_,"vjs-vol-"+n)},i.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},a}(vi)).prototype.controlText_="Mute",se.registerComponent("MuteToggle",Zt),(vn=function(t){function a(e,n){var r;return n.inline=!(typeof(n=void 0===n?{}:n).inline<"u")||n.inline,typeof n.volumeControl<"u"&&!Pe(n.volumeControl)||(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(r=t.call(this,e,n)||this).handleKeyPressHandler_=function(s){return r.handleKeyPress(s)},r.on(e,["loadstart"],function(s){return r.volumePanelState_(s)}),r.on(r.muteToggle,"keyup",function(s){return r.handleKeyPress(s)}),r.on(r.volumeControl,"keyup",function(s){return r.handleVolumeControlKeyUp(s)}),r.on("keydown",function(s){return r.handleKeyPress(s)}),r.on("mouseover",function(s){return r.handleMouseOver(s)}),r.on("mouseout",function(s){return r.handleMouseOut(s)}),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}he(a,t);var i=a.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},i.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(e){He.isEventKey(e,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(e){this.addClass("vjs-hover"),rn(document,"keyup",this.handleKeyPressHandler_)},i.handleMouseOut=function(e){this.removeClass("vjs-hover"),Fn(document,"keyup",this.handleKeyPressHandler_)},i.handleKeyPress=function(e){He.isEventKey(e,"Esc")&&this.handleMouseOut()},a}(se)).prototype.options_={children:["muteToggle","volumeControl"]},se.registerComponent("VolumePanel",vn);var Aa=function(t){function a(e,n){var r=t.call(this,e,n)||this;return n&&(r.menuButton_=n.menuButton),r.focusedChild_=-1,r.on("keydown",function(s){return r.handleKeyDown(s)}),r.boundHandleBlur_=function(s){return r.handleBlur(s)},r.boundHandleTapClick_=function(s){return r.handleTapClick(s)},r}he(a,t);var i=a.prototype;return i.addEventListenerForItem=function(e){e instanceof se&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(e){e instanceof se&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),t.prototype.removeChild.call(this,e)},i.addItem=function(e){(e=this.addChild(e))&&this.addEventListenerForItem(e)},i.createEl=function(){var e=this.options_.contentElType||"ul";return this.contentEl_=Ze(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu"),(e=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"})).appendChild(this.contentEl_),rn(e,"click",function(n){n.preventDefault(),n.stopImmediatePropagation()}),e},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},i.handleBlur=function(e){var n=e.relatedTarget||document.activeElement;this.children().some(function(r){return r.el()===n})||(e=this.menuButton_)&&e.buttonPressed_&&n!==e.el().firstChild&&e.unpressButton()},i.handleTapClick=function(e){var n;this.menuButton_&&(this.menuButton_.unpressButton(),n=this.children(),!Array.isArray(n)||(n=n.filter(function(r){return r.el()===e.target})[0])&&"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus())},i.handleKeyDown=function(e){He.isEventKey(e,"Left")||He.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(He.isEventKey(e,"Right")||He.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},i.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},i.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},i.focus=function(e){void 0===e&&(e=0);var n=this.children().slice();n.length&&n[0].hasClass("vjs-menu-title")&&n.shift(),0<n.length&&(e<0?e=0:e>=n.length&&(e=n.length-1),n[this.focusedChild_=e].el_.focus())},a}(se);se.registerComponent("Menu",Aa),Wn=function(t){function a(e,n){var r;return(r=t.call(this,e,n=void 0===n?{}:n)||this).menuButton_=new vi(e,n),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true"),n=vi.prototype.buildCSSClass(),r.menuButton_.el_.className=r.buildCSSClass()+" "+n,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,n=function(s){return r.handleClick(s)},r.handleMenuKeyUp_=function(s){return r.handleMenuKeyUp(s)},r.on(r.menuButton_,"tap",n),r.on(r.menuButton_,"click",n),r.on(r.menuButton_,"keydown",function(s){return r.handleKeyDown(s)}),r.on(r.menuButton_,"mouseenter",function(){r.addClass("vjs-hover"),r.menu.show(),rn(document,"keyup",r.handleMenuKeyUp_)}),r.on("mouseleave",function(s){return r.handleMouseLeave(s)}),r.on("keydown",function(s){return r.handleSubmenuKeyDown(s)}),r}he(a,t);var i=a.prototype;return i.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},i.createMenu=function(){var e,n=new Aa(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title&&(e=Ze("li",{className:"vjs-menu-title",textContent:cn(this.options_.title),tabIndex:-1}),e=new se(this.player_,{el:e}),n.addItem(e)),this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)n.addItem(this.items[r]);return n},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var e="vjs-menu-button";return"vjs-menu-button "+(e+=!0===this.options_.inline?"-inline":"-popup")+" "+vi.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var e="vjs-menu-button";return"vjs-menu-button "+(e+=!0===this.options_.inline?"-inline":"-popup")+" "+t.prototype.buildCSSClass.call(this)},i.controlText=function(e,n){return void 0===n&&(n=this.menuButton_.el()),this.menuButton_.controlText(e,n)},i.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},i.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(e){this.removeClass("vjs-hover"),Fn(document,"keyup",this.handleMenuKeyUp_)},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(e){He.isEventKey(e,"Esc")||He.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),He.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(He.isEventKey(e,"Up")||He.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(e){(He.isEventKey(e,"Esc")||He.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},i.handleSubmenuKeyDown=function(e){(He.isEventKey(e,"Esc")||He.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),He.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Wt&&de()||this.menu.focus())},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},a}(se),se.registerComponent("MenuButton",Wn),Vn=function(t){function a(i,r){var n=r.tracks;if((r=t.call(this,i,r)||this).items.length<=1&&r.hide(),!n)return Ke(r);var s=Xt(Ke(r),r.update);return n.addEventListener("removetrack",s),n.addEventListener("addtrack",s),n.addEventListener("labelchange",s),r.player_.on("ready",s),r.player_.on("dispose",function(){n.removeEventListener("removetrack",s),n.removeEventListener("addtrack",s),n.removeEventListener("labelchange",s)}),r}return he(a,t),a}(Wn),se.registerComponent("TrackButton",Vn);var co=["Tab","Esc","Up","Down","Right","Left"];pn=function(t){function a(e,n){return(e=t.call(this,e,n)||this).selectable=n.selectable,e.isSelected_=n.selected||!1,e.multiSelectable=n.multiSelectable,e.selected(e.isSelected_),e.el_.setAttribute("role",e.selectable?e.multiSelectable?"menuitemcheckbox":"menuitemradio":"menuitem"),e}he(a,t);var i=a.prototype;return i.createEl=function(e,n,r){return this.nonIconControl=!0,(r=t.prototype.createEl.call(this,"li",rt({className:"vjs-menu-item",tabIndex:-1},n),r)).replaceChild(Ze("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),r.querySelector(".vjs-icon-placeholder")),r},i.handleKeyDown=function(e){co.some(function(n){return He.isEventKey(e,n)})||t.prototype.handleKeyDown.call(this,e)},i.handleClick=function(e){this.selected(!0)},i.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},a}(Rn),se.registerComponent("MenuItem",pn);var Rr=function(t){function a(e,n){var r,m,s=n.track,u=e.textTracks();function d(){for(var w=arguments.length,C=new Array(w),M=0;M<w;M++)C[M]=arguments[M];r.handleTracksChange.apply(Ke(r),C)}function f(){for(var w=arguments.length,C=new Array(w),M=0;M<w;M++)C[M]=arguments[M];r.handleSelectedLanguageChange.apply(Ke(r),C)}return n.label=s.label||s.language||"Unknown",n.selected="showing"===s.mode,(r=t.call(this,e,n)||this).track=s,r.kinds=(n.kinds||[n.kind||r.track.kind]).filter(Boolean),e.on(["loadstart","texttrackchange"],d),u.addEventListener("change",d),u.addEventListener("selectedlanguagechange",f),r.on("dispose",function(){e.off(["loadstart","texttrackchange"],d),u.removeEventListener("change",d),u.removeEventListener("selectedlanguagechange",f)}),void 0===u.onchange&&r.on(["tap","click"],function(){if("object"!=typeof window.Event)try{m=new window.Event("change")}catch{}m||(m=document.createEvent("Event")).initEvent("change",!0,!0),u.dispatchEvent(m)}),r.handleTracksChange(),r}he(a,t);var i=a.prototype;return i.handleClick=function(e){var n=this.track,r=this.player_.textTracks();if(t.prototype.handleClick.call(this,e),r)for(var s=0;s<r.length;s++){var u=r[s];-1!==this.kinds.indexOf(u.kind)&&(u===n?"showing"!==u.mode&&(u.mode="showing"):"disabled"!==u.mode&&(u.mode="disabled"))}},i.handleTracksChange=function(e){var n="showing"===this.track.mode;n!==this.isSelected_&&this.selected(n)},i.handleSelectedLanguageChange=function(e){var n;"showing"===this.track.mode&&((n=this.player_.cache_.selectedLanguage)&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind||(this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}))},i.dispose=function(){this.track=null,t.prototype.dispose.call(this)},a}(pn);se.registerComponent("TextTrackMenuItem",Rr);var ws=function(t){function a(e,n){return n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.track.label=n.label?n.label:n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,t.call(this,e,n)||this}he(a,t);var i=a.prototype;return i.handleTracksChange=function(e){for(var n=this.player().textTracks(),r=!0,s=0,u=n.length;s<u;s++){var d=n[s];if(-1<this.options_.kinds.indexOf(d.kind)&&"showing"===d.mode){r=!1;break}}r!==this.isSelected_&&this.selected(r)},i.handleSelectedLanguageChange=function(e){for(var n=this.player().textTracks(),r=!0,s=0,u=n.length;s<u;s++){var d=n[s];if(-1<["captions","descriptions","subtitles"].indexOf(d.kind)&&"showing"===d.mode){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})},a}(Rr);se.registerComponent("OffTextTrackMenuItem",ws),Ft=function(t){function a(i,e){return(e=void 0===e?{}:e).tracks=i.textTracks(),t.call(this,i,e)||this}return he(a,t),a.prototype.createItems=function(i,e){var n;void 0===e&&(e=Rr),this.label_&&(n=this.label_+" off"),(i=void 0===i?[]:i).push(new ws(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var s=0;s<r.length;s++){var u,d=r[s];-1<this.kinds_.indexOf(d.kind)&&((u=new e(this.player_,{track:d,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1})).addClass("vjs-"+d.kind+"-menu-item"),i.push(u))}return i},a}(Vn),se.registerComponent("TextTrackButton",Ft);var lr=function(t){function a(i,e){var n=e.track,r=e.cue,s=i.currentTime();return e.selectable=!0,e.multiSelectable=!1,e.label=r.text,e.selected=r.startTime<=s&&s<r.endTime,(e=t.call(this,i,e)||this).track=n,e.cue=r,e}return he(a,t),a.prototype.handleClick=function(i){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},a}(pn);se.registerComponent("ChaptersTrackMenuItem",lr),(Tt=function(t){function a(e,n,r){var s=t.call(this,e,n,r)||this;return s.selectCurrentItem_=function(){s.items.forEach(function(u){u.selected(s.track_.activeCues[0]===u.cue)})},s}he(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},i.update=function(e){e&&e.track&&"chapters"!==e.track.kind||((e=this.findChaptersTrack())!==this.track_?(this.setTrack(e),t.prototype.update.call(this)):(!this.items||e&&e.cues&&e.cues.length!==this.items.length)&&t.prototype.update.call(this))},i.setTrack=function(e){var n;this.track_!==e&&(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_&&((n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&n.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null),this.track_=e,this.track_&&(this.track_.mode="hidden",(e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&e.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)))},i.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],n=e.length-1;0<=n;n--){var r=e[n];if(r.kind===this.kind_)return r}},i.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(cn(this.kind_))},i.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},i.createItems=function(){var e=[];if(!this.track_)return e;var n=this.track_.cues;if(!n)return e;for(var r=0,s=n.length;r<s;r++){var u=new lr(this.player_,{track:this.track_,cue:u=n[r]});e.push(u)}return e},a}(Ft)).prototype.kind_="chapters",Tt.prototype.controlText_="Chapters",se.registerComponent("ChaptersButton",Tt),(bn=function(t){function a(e,n,s){s=t.call(this,e,n,s)||this;var u=e.textTracks(),d=Xt(Ke(s),s.handleTracksChange);return u.addEventListener("change",d),s.on("dispose",function(){u.removeEventListener("change",d)}),s}he(a,t);var i=a.prototype;return i.handleTracksChange=function(e){for(var n=this.player().textTracks(),r=!1,s=0,u=n.length;s<u;s++){var d=n[s];if(d.kind!==this.kind_&&"showing"===d.mode){r=!0;break}}r?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},a}(Ft)).prototype.kind_="descriptions",bn.prototype.controlText_="Descriptions",se.registerComponent("DescriptionsButton",bn),(en=function(t){function a(e,n,r){return t.call(this,e,n,r)||this}he(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},a}(Ft)).prototype.kind_="subtitles",en.prototype.controlText_="Subtitles",se.registerComponent("SubtitlesButton",en);var cr=function(t){function a(i,e){return e.track={player:i,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1,e.name="CaptionSettingsMenuItem",(i=t.call(this,i,e)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+e.kind+" settings dialog"),i}return he(a,t),a.prototype.handleClick=function(i){this.player().getChild("textTrackSettings").open()},a}(Rr);se.registerComponent("CaptionSettingsMenuItem",cr),(Cn=function(t){function a(e,n,r){return t.call(this,e,n,r)||this}he(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new cr(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},a}(Ft)).prototype.kind_="captions",Cn.prototype.controlText_="Captions",se.registerComponent("CaptionsButton",Cn);var ho=function(t){function a(){return t.apply(this,arguments)||this}return he(a,t),a.prototype.createEl=function(i,e,n){return n=(e=t.prototype.createEl.call(this,i,e,n)).querySelector(".vjs-menu-item-text"),"captions"===this.options_.track.kind&&(n.appendChild(Ze("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),n.appendChild(Ze("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),e},a}(Rr);se.registerComponent("SubsCapsMenuItem",ho),(Zt=function(t){function a(e,n){return(n=t.call(this,e,n=void 0===n?{}:n)||this).label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)&&(n.label_="captions"),n.menuButton_.controlText(cn(n.label_)),n}he(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new cr(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e,ho)},a}(Ft)).prototype.kinds_=["captions","subtitles"],Zt.prototype.controlText_="Subtitles",se.registerComponent("SubsCapsButton",Zt);var po=function(t){function a(e,n){var r,s=n.track,u=e.audioTracks();function d(){for(var f=arguments.length,m=new Array(f),w=0;w<f;w++)m[w]=arguments[w];r.handleTracksChange.apply(Ke(r),m)}return n.label=s.label||s.language||"Unknown",n.selected=s.enabled,(r=t.call(this,e,n)||this).track=s,r.addClass("vjs-"+s.kind+"-menu-item"),u.addEventListener("change",d),r.on("dispose",function(){u.removeEventListener("change",d)}),r}he(a,t);var i=a.prototype;return i.createEl=function(e,n,r){return r=(n=t.prototype.createEl.call(this,e,n,r)).querySelector(".vjs-menu-item-text"),"main-desc"===this.options_.track.kind&&(r.appendChild(Ze("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(Ze("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),n},i.handleClick=function(e){if(t.prototype.handleClick.call(this,e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var n=this.player_.audioTracks(),r=0;r<n.length;r++){var s=n[r];s!==this.track&&(s.enabled=s===this.track)}},i.handleTracksChange=function(e){this.selected(this.track.enabled)},a}(pn);se.registerComponent("AudioTrackMenuItem",po),(vn=function(t){function a(e,n){return(n=void 0===n?{}:n).tracks=e.audioTracks(),t.call(this,e,n)||this}he(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var n=this.player_.audioTracks(),r=0;r<n.length;r++)e.push(new po(this.player_,{track:n[r],selectable:!0,multiSelectable:!1}));return e},a}(Vn)).prototype.controlText_="Audio Track",se.registerComponent("AudioTrackButton",vn);var Ia=function(t){function a(e,n){var r,s=n.rate,u=parseFloat(s,10);return n.label=s,n.selected=u===e.playbackRate(),n.selectable=!0,n.multiSelectable=!1,(r=t.call(this,e,n)||this).label=s,r.rate=u,r.on(e,"ratechange",function(d){return r.update(d)}),r}he(a,t);var i=a.prototype;return i.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(e){this.selected(this.player().playbackRate()===this.rate)},a}(pn);Ia.prototype.contentElType="button",se.registerComponent("PlaybackRateMenuItem",Ia),(Rn=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.menuButton_.el_.setAttribute("aria-describedby",r.labelElId_),r.updateVisibility(),r.updateLabel(),r.on(e,"loadstart",function(s){return r.updateVisibility(s)}),r.on(e,"ratechange",function(s){return r.updateLabel(s)}),r.on(e,"playbackrateschange",function(s){return r.handlePlaybackRateschange(s)}),r}he(a,t);var i=a.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Ze("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e},i.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){for(var e=this.playbackRates(),n=[],r=e.length-1;0<=r;r--)n.push(new Ia(this.player(),{rate:e[r]+"x"}));return n},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(e){var r=this.player().playbackRate(),n=this.playbackRates();r=(n.indexOf(r)+1)%n.length,this.player().playbackRate(n[r])},i.handlePlaybackRateschange=function(e){this.update()},i.playbackRates=function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},i.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},i.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},a}(Wn)).prototype.controlText_="Playback Rate",se.registerComponent("PlaybackRateMenuButton",Rn),Tt=function(t){function a(){return t.apply(this,arguments)||this}he(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(e,n,r){return void 0===e&&(e="div"),void 0===r&&(r={}),(n=void 0===n?{}:n).className||(n.className=this.buildCSSClass()),t.prototype.createEl.call(this,e,n,r)},a}(se),se.registerComponent("Spacer",Tt),se.registerComponent("CustomControlSpacer",function(t){function a(){return t.apply(this,arguments)||this}he(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xa0"})},a}(Tt)),bn=function(t){function a(){return t.apply(this,arguments)||this}return he(a,t),a.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},a}(se),bn.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in document&&bn.prototype.options_.children.splice(bn.prototype.options_.children.length-1,0,"pictureInPictureToggle"),se.registerComponent("ControlBar",bn),(en=function(t){function a(e,n){var r=t.call(this,e,n)||this;return r.on(e,"error",function(s){return r.open(s)}),r}he(a,t);var i=a.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},i.content=function(){var e=this.player().error();return e?this.localize(e.message):""},a}(_t)).prototype.options_=xe({},_t.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),se.registerComponent("ErrorDisplay",en);var bn,Ma="vjs-text-track-settings",ni={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Cn=["#000","Black"],Wn=["#FFF","White"],pn=["#F00","Red"],Vn=["#0F0","Green"],Ft=["#00F","Blue"],Rn=["#FF0","Yellow"],vn=["#F0F","Magenta"],Zt=["#0FF","Cyan"]]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Tt=["1","Opaque"],bn=["0.5","Semi-Transparent"],en=["0","Transparent"]]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Wn,Cn,pn,Vn,Ft,Rn,vn,Zt]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Tt,bn]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[en,bn,Tt]}};function Ss(t,a){if((t=a?a(t):t)&&"none"!==t)return t}ni.windowColor.options=ni.backgroundColor.options,se.registerComponent("TextTrackSettings",function(t){function a(e,n){var r;return n.temporary=!1,(r=t.call(this,e,n)||this).updateDisplay=r.updateDisplay.bind(Ke(r)),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=Ze("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===n.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings(),r.close()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults(),r.updateDisplay()}),pt(ni,function(s){r.on(r.$(s.selector),"change",r.updateDisplay)}),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}he(a,t);var i=a.prototype;return i.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},i.createElSelect_=function(u,n,r){var s=this;void 0===n&&(n=""),void 0===r&&(r="label");var d=(u=ni[u]).id.replace("%s",this.id_),f=[n,d].join(" ").trim();return["<"+r+' id="'+d+'" class="'+("label"===r?"vjs-label":"")+'">',this.localize(u.label),"</"+r+">",'<select aria-labelledby="'+f+'">'].concat(u.options.map(function(m){var w=d+"-"+m[1].replace(/\W+/g,"");return['<option id="'+w+'" value="'+m[0]+'" ','aria-labelledby="'+f+" "+w+'">',s.localize(m[1]),"</option>"].join("")})).concat("</select>").join("")},i.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return Ze("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return Ze("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var e=this.localize("restore all settings to the default values");return Ze("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var e,n,r,s=this;return n=function(u,w,f){var m;return void 0!==(w=Ss((m=s.$(w.selector)).options[m.options.selectedIndex].value,w=w.parser))&&(u[f]=w),u},void 0===(r={})&&(r=0),Nt(e=ni).reduce(function(u,d){return n(u,e[d],d)},r)},i.setValues=function(e){var n=this;pt(ni,function(r,s){!function(u,d,f){if(d)for(var m=0;m<u.options.length;m++)if(Ss(u.options[m].value,f)===d){u.selectedIndex=m;break}}(n.$(r.selector),e[s],r.parser)})},i.setDefaults=function(){var e=this;pt(ni,function(n){var r=n.hasOwnProperty("default")?n.default:0;e.$(n.selector).selectedIndex=r})},i.restoreSettings=function(){var e;try{e=JSON.parse(window.localStorage.getItem(Ma))}catch(n){Re.warn(n)}e&&this.setValues(e)},i.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?window.localStorage.setItem(Ma,JSON.stringify(e)):window.localStorage.removeItem(Ma)}catch(n){Re.warn(n)}}},i.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=(n=this.player_.controlBar)&&n.subsCapsButton,n=n&&n.captionsButton;e?e.focus():n&&n.focus()},a}(_t)),se.registerComponent("ResizeManager",function(t){function a(e,n){var r,s=n.ResizeObserver||window.ResizeObserver,u=Yt({createEl:!(s=null!==n.ResizeObserver&&s),reportTouchActivity:!1},n);return(r=t.call(this,e,u)||this).ResizeObserver=n.ResizeObserver||window.ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=function Js(t,a,i,e){var n;function r(){var s=this,u=arguments,d=function(){d=n=null,i||t.apply(s,u)};!n&&i&&t.apply(s,u),e.clearTimeout(n),n=e.setTimeout(d,a)}return void 0===e&&(e=window),r.cancel=function(){e.clearTimeout(n),n=null},r}(function(){r.resizeHandler()},100,!1,Ke(r)),s?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(e.el())):(r.loadListener_=function(){var d,f;r.el_&&r.el_.contentWindow&&(d=r.debouncedHandler_,f=r.unloadListener_=function(){Fn(this,"resize",d),Fn(this,"unload",f),f=null},rn(r.el_.contentWindow,"unload",f),rn(r.el_.contentWindow,"resize",d))},r.one("load",r.loadListener_)),r}he(a,t);var i=a.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},i.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},a}(se));var gu={trackingThreshold:20,liveTolerance:15};function Yr(t){if((e=t.el()).hasAttribute("src"))return t.triggerSourceset(e.src),1;var a=t.$$("source"),i=[],e="";if(a.length){for(var n=0;n<a.length;n++){var r=a[n].src;r&&-1===i.indexOf(r)&&i.push(r)}return!!i.length&&(1===i.length&&(e=i[0]),t.triggerSourceset(e),!0)}}function fo(t,a){for(var i={},e=0;e<t.length&&!((i=Object.getOwnPropertyDescriptor(t[e],a))&&i.set&&i.get);e++);return i.enumerable=!0,i.configurable=!0,i}function mo(t){var a,i,e,n=t.el();n.resetSourceWatch_||(a={},i=fo([t.el(),window.HTMLMediaElement.prototype,window.Element.prototype,yo],"innerHTML"),e=function(r){return function(){for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];var f=r.apply(n,u);return Yr(t),f}},["append","appendChild","insertAdjacentHTML"].forEach(function(r){n[r]&&(a[r]=n[r],n[r]=e(a[r]))}),Object.defineProperty(n,"innerHTML",Yt(i,{set:e(i.set)})),n.resetSourceWatch_=function(){n.resetSourceWatch_=null,Object.keys(a).forEach(function(r){n[r]=a[r]}),Object.defineProperty(n,"innerHTML",i)},t.one("sourceset",n.resetSourceWatch_))}function xs(t,a,i,e){function n(s){return Object.defineProperty(t,a,{value:s,enumerable:!0,writable:!0})}var r={configurable:!0,enumerable:!0,get:function(){var s=i();return n(s),s}};return(e=void 0===e||e)&&(r.set=n),Object.defineProperty(t,a,r)}se.registerComponent("LiveTracker",function(t){function a(e,r){r=Yt(gu,r,{createEl:!1});var s=t.call(this,e,r)||this;return s.handleVisibilityChange_=function(u){return s.handleVisibilityChange(u)},s.trackLiveHandler_=function(){return s.trackLive_()},s.handlePlay_=function(u){return s.handlePlay(u)},s.handleFirstTimeupdate_=function(u){return s.handleFirstTimeupdate(u)},s.handleSeeked_=function(u){return s.handleSeeked(u)},s.seekToLiveEdge_=function(u){return s.seekToLiveEdge(u)},s.reset_(),s.on(s.player_,"durationchange",function(u){return s.handleDurationchange(u)}),s.on(s.player_,"canplay",function(){return s.toggleTracking()}),gi&&"hidden"in document&&"visibilityState"in document&&s.on(document,"visibilitychange",s.handleVisibilityChange_),s}he(a,t);var i=a.prototype;return i.handleVisibilityChange=function(){this.player_.duration()===1/0&&(document.hidden?this.stopTracking():this.startTracking())},i.trackLive_=function(){var e,n=this.player_.seekable();n&&n.length&&(e=Number(window.performance.now().toFixed(4)),n=-1===this.lastTime_?0:(e-this.lastTime_)/1e3,this.lastTime_=e,this.pastSeekEnd_=this.pastSeekEnd()+n,e=this.liveCurrentTime(),n=this.player_.currentTime(),n=this.player_.paused()||this.seekedBehindLive_||Math.abs(e-n)>this.options_.liveTolerance,(n=!(!this.timeupdateSeen_||e===1/0)&&n)!==this.behindLiveEdge_&&(this.behindLiveEdge_=n,this.trigger("liveedgechange")))},i.handleDurationchange=function(){this.toggleTracking()},i.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},i.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},i.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},i.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&2<e,this.nextSeekedFromUser_=!1,this.trackLive_()},i.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},i.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},i.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},i.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},i.seekableEnd=function(){for(var e=this.player_.seekable(),n=[],r=e?e.length:0;r--;)n.push(e.end(r));return n.length?n.sort()[n.length-1]:1/0},i.seekableStart=function(){for(var e=this.player_.seekable(),n=[],r=e?e.length:0;r--;)n.push(e.start(r));return n.length?n.sort()[0]:0},i.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},i.isLive=function(){return this.isTracking()},i.atLiveEdge=function(){return!this.behindLiveEdge()},i.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},i.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=function(){return"number"==typeof this.trackingInterval_},i.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},i.dispose=function(){this.off(document,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),t.prototype.dispose.call(this)},a}(se));var Pa,yo=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var a=document.createElement(this.nodeName.toLowerCase());a.innerHTML=t;for(var i=document.createDocumentFragment();a.childNodes.length;)i.appendChild(a.childNodes[0]);return this.innerText="",window.Element.prototype.appendChild.call(this,i),this.innerHTML}}),ks=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?eo(window.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return window.Element.prototype.setAttribute.call(this,"src",t),t}}),be=function(t){function a(e,s){var r=t.call(this,e,s)||this,u=(s=e.source,!1);if(r.featuresVideoFrameCallback=r.featuresVideoFrameCallback&&"VIDEO"===r.el_.tagName,s&&(r.el_.currentSrc!==s.src||e.tag&&3===e.tag.initNetworkState_)?r.setSource(s):r.handleLateInit_(r.el_),e.enableSourceset&&r.setupSourcesetHandling_(),r.isScrubbing_=!1,r.el_.hasChildNodes()){for(var d=r.el_.childNodes,f=d.length,m=[];f--;){var w=d[f];"track"===w.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(w),r.remoteTextTracks().addTrack(w.track),r.textTracks().addTrack(w.track),u||r.el_.hasAttribute("crossorigin")||!rr(w.src)||(u=!0)):m.push(w))}for(var C=0;C<m.length;C++)r.el_.removeChild(m[C])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&u&&Re.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),r.restoreMetadataTracksInIOSNativePlayer_(),(Pi||xr||On)&&!0===e.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}he(a,t);var i=a.prototype;return i.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),a.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},i.setupSourcesetHandling_=function(){!function go(t){var a,i,e,n;t.featuresSourceset&&((a=t.el()).resetSourceset_||(i=fo([t.el(),window.HTMLMediaElement.prototype,ks],"src"),e=a.setAttribute,n=a.load,Object.defineProperty(a,"src",Yt(i,{set:function(r){return r=i.set.call(a,r),t.triggerSourceset(a.src),r}})),a.setAttribute=function(r,s){return s=e.call(a,r,s),/src/i.test(r)&&t.triggerSourceset(a.src),s},a.load=function(){var r=n.call(a);return Yr(t)||(t.triggerSourceset(""),mo(t)),r},a.currentSrc?t.triggerSourceset(a.currentSrc):Yr(t)||mo(t),a.resetSourceset_=function(){a.resetSourceset_=null,a.load=n,a.setAttribute=e,Object.defineProperty(a,"src",i),a.resetSourceWatch_&&a.resetSourceWatch_()}))}(this)},i.restoreMetadataTracksInIOSNativePlayer_=function(){function e(){n=[];for(var u=0;u<r.length;u++){var d=r[u];"metadata"===d.kind&&n.push({track:d,storedMode:d.mode})}}var n,r=this.textTracks();function s(){for(var u=0;u<n.length;u++){var d=n[u];"disabled"===d.track.mode&&d.track.mode!==d.storedMode&&(d.track.mode=d.storedMode)}r.removeEventListener("change",s)}e(),r.addEventListener("change",e),this.on("dispose",function(){return r.removeEventListener("change",e)}),this.on("webkitbeginfullscreen",function(){r.removeEventListener("change",e),r.removeEventListener("change",s),r.addEventListener("change",s)}),this.on("webkitendfullscreen",function(){r.removeEventListener("change",e),r.addEventListener("change",e),r.removeEventListener("change",s)})},i.overrideNative_=function(e,n){var r,s=this;n===this["featuresNative"+e+"Tracks"]&&(this[(r=e.toLowerCase())+"TracksListeners_"]&&Object.keys(this[r+"TracksListeners_"]).forEach(function(u){s.el()[r+"Tracks"].removeEventListener(u,s[r+"TracksListeners_"][u])}),this["featuresNative"+e+"Tracks"]=!n,this[r+"TracksListeners_"]=null,this.proxyNativeTracksForType_(r))},i.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},i.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},i.proxyNativeTracksForType_=function(e){var n,r,s=this,u=ui[e],d=this.el()[u.getterName],f=this[u.getterName]();this["featuresNative"+u.capitalName+"Tracks"]&&d&&d.addEventListener&&(r=function(){for(var m=[],w=0;w<f.length;w++){for(var C=!1,M=0;M<d.length;M++)if(d[M]===f[w]){C=!0;break}C||m.push(f[w])}for(;m.length;)f.removeTrack(m.shift())},this[u.getterName+"Listeners_"]=n={change:function(m){var w={type:"change",target:f,currentTarget:f,srcElement:f};f.trigger(w),"text"===e&&s[Yi.remoteText.getterName]().trigger(w)},addtrack:function(m){f.addTrack(m.track)},removetrack:function(m){f.removeTrack(m.track)}},Object.keys(n).forEach(function(m){var w=n[m];d.addEventListener(m,w),s.on("dispose",function(C){return d.removeEventListener(m,w)})}),this.on("loadstart",r),this.on("dispose",function(m){return s.off("loadstart",r)}))},i.proxyNativeTracks_=function(){var e=this;ui.names.forEach(function(n){e.proxyNativeTracksForType_(n)})},i.createEl=function(){var e,n=this.options_.tag;n&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(n?(e=n.cloneNode(!0),n.parentNode&&n.parentNode.insertBefore(e,n),a.disposeMediaElement(n),n=e):(n=document.createElement("video"),e=Yt({},this.options_.tag&&Ce(this.options_.tag)),Pi&&!0===this.options_.nativeControlsForTouch||delete e.controls,Ae(n,rt(e,{id:this.options_.techId,class:"vjs-tech"}))),n.playerId=this.options_.playerId),typeof this.options_.preload<"u"&&Rt(n,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(n.disablePictureInPicture=this.options_.disablePictureInPicture);for(var r=["loop","muted","playsinline","autoplay"],s=0;s<r.length;s++){var u=r[s],d=this.options_[u];typeof d<"u"&&(d?Rt(n,u,u):fe(n,u),n[u]=d)}return n},i.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var n=!1,r=function(){n=!0};this.on("loadstart",r);var s=function(){n||this.trigger("loadstart")};return this.on("loadedmetadata",s),void this.ready(function(){this.off("loadstart",r),this.off("loadedmetadata",s),n||this.trigger("loadstart")})}var u=["loadstart"];u.push("loadedmetadata"),2<=e.readyState&&u.push("loadeddata"),3<=e.readyState&&u.push("canplay"),4<=e.readyState&&u.push("canplaythrough"),this.ready(function(){u.forEach(function(d){this.trigger(d)},this)})}},i.setScrubbing=function(e){this.isScrubbing_=e},i.scrubbing=function(){return this.isScrubbing_},i.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&kr?this.el_.fastSeek(e):this.el_.currentTime=e}catch(n){Re(n,"Video is not ready. (Video.js)")}},i.duration=function(){var e=this;return this.el_.duration===1/0&&mt&&mi&&0===this.el_.currentTime?(this.on("timeupdate",function n(){0<e.el_.currentTime&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",n))}),NaN):this.el_.duration||NaN},i.width=function(){return this.el_.offsetWidth},i.height=function(){return this.el_.offsetHeight},i.proxyWebkitFullscreen_=function(){var e,n,r=this;"webkitDisplayingFullscreen"in this.el_&&(e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},this.on("webkitbeginfullscreen",n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))}),this.on("dispose",function(){r.off("webkitbeginfullscreen",n),r.off("webkitendfullscreen",e)}))},i.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=window.navigator&&window.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},i.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)hn(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},i.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},i.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},i.requestVideoFrameCallback=function(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):t.prototype.requestVideoFrameCallback.call(this,e)},i.cancelVideoFrameCallback=function(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):t.prototype.cancelVideoFrameCallback.call(this,e)},i.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},i.reset=function(){a.resetMediaElement(this.el_)},i.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},i.setControls=function(e){this.el_.controls=!!e},i.addTextTrack=function(e,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,r):t.prototype.addTextTrack.call(this,e,n,r)},i.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var n=document.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n},i.addRemoteTextTrack=function(e,n){return n=t.prototype.addRemoteTextTrack.call(this,e,n),this.featuresNativeTextTracks&&this.el().appendChild(n),n},i.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)e!==n[r]&&e!==n[r].track||this.el().removeChild(n[r])},i.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),window.performance&&"function"==typeof window.performance.now?e.creationTime=window.performance.now():window.performance&&window.performance.timing&&"number"==typeof window.performance.timing.navigationStart&&(e.creationTime=window.Date.now()-window.performance.timing.navigationStart),e},a}(Ut);xs(be,"TEST_VID",function(){if(Vi()){var t=document.createElement("video"),a=document.createElement("track");return a.kind="captions",a.srclang="en",a.label="English",t.appendChild(a),t}}),be.isSupported=function(){try{be.TEST_VID.volume=.5}catch{return!1}return!(!be.TEST_VID||!be.TEST_VID.canPlayType)},be.canPlayType=function(t){return be.TEST_VID.canPlayType(t)},be.canPlaySource=function(t,a){return be.canPlayType(t.type)},be.canControlVolume=function(){try{var t=be.TEST_VID.volume;be.TEST_VID.volume=t/2+.1;var a=t!==be.TEST_VID.volume;return a&&Wt?(window.setTimeout(function(){be&&be.prototype&&(be.prototype.featuresVolumeControl=t!==be.TEST_VID.volume)}),!1):a}catch{return!1}},be.canMuteVolume=function(){try{var t=be.TEST_VID.muted;return be.TEST_VID.muted=!t,be.TEST_VID.muted?Rt(be.TEST_VID,"muted","muted"):fe(be.TEST_VID,"muted"),t!==be.TEST_VID.muted}catch{return!1}},be.canControlPlaybackRate=function(){if(mt&&mi&&wr<58)return!1;try{var t=be.TEST_VID.playbackRate;return be.TEST_VID.playbackRate=t/2+.1,t!==be.TEST_VID.playbackRate}catch{return!1}},be.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(document.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(document.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(document.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(document.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0},be.supportsNativeTextTracks=function(){return kr||Wt&&mi},be.supportsNativeVideoTracks=function(){return!(!be.TEST_VID||!be.TEST_VID.videoTracks)},be.supportsNativeAudioTracks=function(){return!(!be.TEST_VID||!be.TEST_VID.audioTracks)},be.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(t){var i=t[1];xs(be.prototype,t[0],function(){return be[i]()},!0)}),be.prototype.featuresVolumeControl=be.canControlVolume(),be.prototype.movingMediaElementInDOM=!Wt,be.prototype.featuresFullscreenResize=!0,be.prototype.featuresProgressEvents=!0,be.prototype.featuresTimeupdateEvents=!0,be.prototype.featuresVideoFrameCallback=!(!be.TEST_VID||!be.TEST_VID.requestVideoFrameCallback),be.patchCanPlayType=function(){4<=Pn&&!Ln&&!mi&&(Pa=be.TEST_VID&&be.TEST_VID.constructor.prototype.canPlayType,be.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(t)?"maybe":Pa.call(this,t)})},be.unpatchCanPlayType=function(){var t=be.TEST_VID.constructor.prototype.canPlayType;return Pa&&(be.TEST_VID.constructor.prototype.canPlayType=Pa),t},be.patchCanPlayType(),be.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch{}}()}},be.resetMediaElement=function(t){if(t){for(var a=t.querySelectorAll("source"),i=a.length;i--;)t.removeChild(a[i]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch{}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){be.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){be.prototype["set"+cn(t)]=function(a){(this.el_[t]=a)?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){be.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){be.prototype["set"+cn(t)]=function(a){this.el_[t]=a}}),["pause","load","play"].forEach(function(t){be.prototype[t]=function(){return this.el_[t]()}}),Ut.withSourceHandlers(be),be.nativeSourceHandler={},be.nativeSourceHandler.canPlayType=function(t){try{return be.TEST_VID.canPlayType(t)}catch{return""}},be.nativeSourceHandler.canHandleSource=function(t,a){return t.type?be.nativeSourceHandler.canPlayType(t.type):t.src?(t=hs(t.src),be.nativeSourceHandler.canPlayType("video/"+t)):""},be.nativeSourceHandler.handleSource=function(t,a,i){a.setSrc(t.src)},be.nativeSourceHandler.dispose=function(){},be.registerSourceHandler(be.nativeSourceHandler),Ut.registerTech("Html5",be);var Oa=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],La={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Da=["tiny","xsmall","small","medium","large","xlarge","huge"],$r={};Da.forEach(function(t){var a="x"===t.charAt(0)?"x-"+t.substring(1):t;$r[t]="vjs-layout-"+a});var yu={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},fn=function(t){function a(e,n,r){var s,u;if(e.id=e.id||n.id||"vjs_video_"+et++,(n=rt(a.getTagSettings(e),n)).initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if("function"==typeof e.closest){var d=e.closest("[lang]");d&&d.getAttribute&&(n.language=d.getAttribute("lang"))}else for(var f=e;f&&1===f.nodeType;){if(Ce(f).hasOwnProperty("lang")){n.language=f.getAttribute("lang");break}f=f.parentNode}if((s=t.call(this,null,n,r)||this).boundDocumentFullscreenChange_=function(m){return s.documentFullscreenChange_(m)},s.boundFullWindowOnEscKey_=function(m){return s.fullWindowOnEscKey(m)},s.boundUpdateStyleEl_=function(m){return s.updateStyleEl_(m)},s.boundApplyInitTime_=function(m){return s.applyInitTime_(m)},s.boundUpdateCurrentBreakpoint_=function(m){return s.updateCurrentBreakpoint_(m)},s.boundHandleTechClick_=function(m){return s.handleTechClick_(m)},s.boundHandleTechDoubleClick_=function(m){return s.handleTechDoubleClick_(m)},s.boundHandleTechTouchStart_=function(m){return s.handleTechTouchStart_(m)},s.boundHandleTechTouchMove_=function(m){return s.handleTechTouchMove_(m)},s.boundHandleTechTouchEnd_=function(m){return s.handleTechTouchEnd_(m)},s.boundHandleTechTap_=function(m){return s.handleTechTap_(m)},s.isFullscreen_=!1,s.log=We(s.id_),s.fsApi_=xt,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,s.audioOnlyMode_=!1,s.audioPosterMode_=!1,s.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");return s.tag=e,s.tagAttributes=e&&Ce(e),s.language(s.options_.language),n.languages?(u={},Object.getOwnPropertyNames(n.languages).forEach(function(m){u[m.toLowerCase()]=n.languages[m]}),s.languages_=u):s.languages_=a.prototype.options_.languages,s.resetCache_(),s.poster_=n.poster||"",s.controls_=!!n.controls,e.controls=!1,e.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],e.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(function(m){if("function"!=typeof s[m])throw new Error('plugin "'+m+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),Ar(Ke(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(rn(document,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_),r=Yt(s.options_),n.plugins&&Object.keys(n.plugins).forEach(function(m){s[m](n.plugins[m])}),n.debug&&s.debug(!0),s.options_.playerOptions=r,s.middleware_=[],s.playbackRates(n.playbackRates),s.initChildren(),s.isAudio("audio"===e.nodeName.toLowerCase()),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),Pi&&s.addClass("vjs-touch-enabled"),Wt||s.addClass("vjs-workinghover"),a.players[s.id_]=Ke(s),e="7.21.6".split(".")[0],s.addClass("vjs-v"+e),s.userActive(!0),s.reportUserActivity(),s.one("play",function(m){return s.listenForUserActivity_(m)}),s.on("stageclick",function(m){return s.handleStageClick_(m)}),s.on("keydown",function(m){return s.handleKeyDown(m)}),s.on("languagechange",function(m){return s.handleLanguagechange(m)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s.on("ready",function(){s.audioPosterMode(s.options_.audioPosterMode),s.audioOnlyMode(s.options_.audioOnlyMode)}),s}he(a,t);var i=a.prototype;return i.dispose=function(){var e=this;this.trigger("dispose"),this.off("dispose"),Fn(document,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Fn(document,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),a.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Ta[this.id()]=null,qn.names.forEach(function(n){(n=e[(n=qn[n]).getterName]())&&n.off&&n.off()}),t.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},i.createEl=function(){var e,n=this.tag,r=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),s="video-js"===this.tag.tagName.toLowerCase();r?e=this.el_=n.parentNode:s||(e=this.el_=t.prototype.createEl.call(this,"div"));var u,d,f=Ce(n);if(s){for(e=this.el_=n,n=this.tag=document.createElement("video");e.children.length;)n.appendChild(e.firstChild);ei(e,"video-js")||Q(e,"video-js"),e.appendChild(n),r=this.playerElIngest_=e,Object.keys(e).forEach(function(M){try{n[M]=e[M]}catch{}})}n.setAttribute("tabindex","-1"),f.tabindex="-1",(gi||mi&&Sr)&&(n.setAttribute("role","application"),f.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in f&&delete f.width,"height"in f&&delete f.height,Object.getOwnPropertyNames(f).forEach(function(M){s&&"class"===M||e.setAttribute(M,f[M]),s&&n.setAttribute(M,f[M])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",(n.player=e.player=this).addClass("vjs-paused"),!0!==window.VIDEOJS_NO_DYNAMIC_STYLE&&(this.styleEl_=H("vjs-styles-dimensions"),u=At(".vjs-styles-defaults"),(d=At("head")).insertBefore(this.styleEl_,u?u.nextSibling:d.firstChild)),this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var m=n.getElementsByTagName("a"),w=0;w<m.length;w++){var C=m.item(w);Q(C,"vjs-hidden"),C.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!r&&n.parentNode.insertBefore(e,n),Er(n,e),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=e},i.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):Re.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},i.width=function(e){return this.dimension("width",e)},i.height=function(e){return this.dimension("height",e)},i.dimension=function(e,n){var r=e+"_";if(void 0===n)return this[r]||0;if(""===n||"auto"===n)return this[r]=void 0,void this.updateStyleEl_();var s=parseFloat(n);isNaN(s)?Re.error('Improper value "'+n+'" supplied for for '+e):(this[r]=s,this.updateStyleEl_())},i.fluid=function(e){var n,r=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,me(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),n=function(){r.on(["playerreset","resize"],r.boundUpdateStyleEl_)},me(e=this)?n():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},i.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},i.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},i.updateStyleEl_=function(){var e,n,r,s;!0!==window.VIDEOJS_NO_DYNAMIC_STYLE?(s=(r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"))[1]/r[0],e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/s:this.videoWidth()||300,n=void 0!==this.height_?this.height_:e*s,r=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(r),Ge(this.styleEl_,"\n      ."+r+" {\n        width: "+e+"px;\n        height: "+n+"px;\n      }\n\n      ."+r+".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: "+100*s+"%;\n      }\n    ")):(n="number"==typeof this.width_?this.width_:this.options_.width,r="number"==typeof this.height_?this.height_:this.options_.height,(s=this.tech_&&this.tech_.el())&&(0<=n&&(s.width=n),0<=r&&(s.height=r)))},i.loadTech_=function(e,n){var r=this;this.tech_&&this.unloadTech_();var s=cn(e),u=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==s&&this.tag&&(Ut.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=s,this.isReady_=!1;var d=this.autoplay(),f={source:n,autoplay:d=!("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&d,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+u+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};if(qn.names.forEach(function(m){f[(m=qn[m]).getterName]=r[m.privateName]}),rt(f,this.options_[s]),rt(f,this.options_[u]),rt(f,this.options_[e.toLowerCase()]),this.tag&&(f.tag=this.tag),n&&n.src===this.cache_.src&&0<this.cache_.currentTime&&(f.startTime=this.cache_.currentTime),!(e=Ut.getTech(e)))throw new Error("No Tech named '"+s+"' exists! '"+s+"' should be registered using videojs.registerTech()'");this.tech_=new e(f),this.tech_.ready(Xt(this,this.handleTechReady_),!0),function(t,a){t.forEach(function(i){var e=a.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(n){return e.addCue(n)})}),a.textTracks()}(this.textTracksJson_||[],this.tech_),Oa.forEach(function(m){r.on(r.tech_,m,function(w){return r["handleTech"+cn(m)+"_"](w)})}),Object.keys(La).forEach(function(m){r.on(r.tech_,m,function(w){0===r.tech_.playbackRate()&&r.tech_.seeking()?r.queuedCallbacks_.push({callback:r["handleTech"+La[m]+"_"].bind(r),event:w}):r["handleTech"+La[m]+"_"](w)})}),this.on(this.tech_,"loadstart",function(m){return r.handleTechLoadStart_(m)}),this.on(this.tech_,"sourceset",function(m){return r.handleTechSourceset_(m)}),this.on(this.tech_,"waiting",function(m){return r.handleTechWaiting_(m)}),this.on(this.tech_,"ended",function(m){return r.handleTechEnded_(m)}),this.on(this.tech_,"seeking",function(m){return r.handleTechSeeking_(m)}),this.on(this.tech_,"play",function(m){return r.handleTechPlay_(m)}),this.on(this.tech_,"firstplay",function(m){return r.handleTechFirstPlay_(m)}),this.on(this.tech_,"pause",function(m){return r.handleTechPause_(m)}),this.on(this.tech_,"durationchange",function(m){return r.handleTechDurationChange_(m)}),this.on(this.tech_,"fullscreenchange",function(m,w){return r.handleTechFullscreenChange_(m,w)}),this.on(this.tech_,"fullscreenerror",function(m,w){return r.handleTechFullscreenError_(m,w)}),this.on(this.tech_,"enterpictureinpicture",function(m){return r.handleTechEnterPictureInPicture_(m)}),this.on(this.tech_,"leavepictureinpicture",function(m){return r.handleTechLeavePictureInPicture_(m)}),this.on(this.tech_,"error",function(m){return r.handleTechError_(m)}),this.on(this.tech_,"posterchange",function(m){return r.handleTechPosterChange_(m)}),this.on(this.tech_,"textdata",function(m){return r.handleTechTextData_(m)}),this.on(this.tech_,"ratechange",function(m){return r.handleTechRateChange_(m)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===s&&this.tag||Er(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},i.unloadTech_=function(){var e=this;qn.names.forEach(function(n){e[(n=qn[n]).privateName]=e[n.getterName]()}),this.textTracksJson_=function(t){var a=t.$$("track"),i=Array.prototype.map.call(a,function(e){return e.track});return Array.prototype.map.call(a,function(e){var n=ca(e.track);return e.src&&(n.src=e.src),n}).concat(Array.prototype.filter.call(t.textTracks(),function(e){return-1===i.indexOf(e)}).map(ca))}(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},i.tech=function(e){return void 0===e&&Re.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},i.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},i.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},i.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},i.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},i.manualAutoplay_=function(e){var n=this;if(this.tech_&&"string"==typeof e){var r,s=function(){var u=n.muted();function d(){n.muted(u)}n.muted(!0),n.playTerminatedQueue_.push(d);var f=n.play();if(oe(f))return f.catch(function(m){throw d(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(m||""))})};if("any"!==e||this.muted()?r="muted"!==e||this.muted()?this.play():s():oe(r=this.play())&&(r=r.catch(s)),oe(r))return r.then(function(){n.trigger({type:"autoplay-success",autoplay:e})}).catch(function(){n.trigger({type:"autoplay-failure",autoplay:e})})}},i.updateSourceCaches_=function(e){var n=e=void 0===e?"":e,r="";"string"!=typeof n&&(n=e.src,r=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!r&&(r=function(w,C){if(!C)return"";if(w.cache_.source.src===C&&w.cache_.source.type)return w.cache_.source.type;var M=w.cache_.sources.filter(function(O){return O.src===C});if(M.length)return M[0].type;for(var E=w.$$("source"),D=0;D<E.length;D++){var z=E[D];if(z.type&&z.src&&z.src===C)return z.type}return hi(C)}(this,n)),this.cache_.source=Yt({},e,{src:n,type:r}),r=this.cache_.sources.filter(function(C){return C.src&&C.src===n});for(var s=[],u=this.$$("source"),d=[],f=0;f<u.length;f++){var m=Ce(u[f]);s.push(m),m.src&&m.src===n&&d.push(m.src)}d.length&&!r.length?this.cache_.sources=s:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n},i.handleTechSourceset_=function(e){var n,r,s,u=this;this.changingSrc_||(n=function(d){return u.updateSourceCaches_(d)},r=this.currentSource().src,s=e.src,r&&!/^blob:/.test(r)&&/^blob:/.test(s)&&(this.lastSource_&&(this.lastSource_.tech===s||this.lastSource_.player===r)||(n=function(){})),n(s),e.src||this.tech_.any(["sourceset","loadstart"],function(d){"sourceset"!==d.type&&(d=u.techGet("currentSrc"),u.lastSource_.tech=d,u.updateSourceCaches_(d))})),this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},i.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},i.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},i.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},i.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var n=this.currentTime();this.on("timeupdate",function r(){n!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",r))})},i.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},i.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},i.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},i.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},i.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},i.handleTechFirstPlay_=function(){this.options_.starttime&&(Re.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},i.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},i.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},i.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},i.handleTechClick_=function(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?hn(this.play()):this.pause()))},i.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(n){return n.contains(e.target)})||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},i.handleTechTap_=function(){this.userActive(!this.userActive())},i.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},i.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},i.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},i.handleStageClick_=function(){this.reportUserActivity()},i.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},i.documentFullscreenChange_=function(e){var n=e.target.player;n&&n!==this||(e=this.el(),!(n=document[this.fsApi_.fullscreenElement]===e)&&e.matches?n=e.matches(":"+this.fsApi_.fullscreen):!n&&e.msMatchesSelector&&(n=e.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(n))},i.handleTechFullscreenChange_=function(e,n){var r=this;n&&(n.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){r.removeClass("vjs-ios-native-fs")})),this.isFullscreen(n.isFullscreen))},i.handleTechFullscreenError_=function(e,n){this.trigger("fullscreenerror",n)},i.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},i.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},i.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},i.handleTechError_=function(){var e=this.tech_.error();this.error(e)},i.handleTechTextData_=function(){this.trigger("textdata",1<arguments.length?arguments[1]:null)},i.getCache=function(){return this.cache_},i.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},i.techCall_=function(e,n){this.ready(function(){if(e in wa)return u=n,(s=this.tech_)[s=e](this.middleware_.reduce(Fi(s),u));if(e in Sa)return di(this.middleware_,this.tech_,e,n);var s,u;try{this.tech_&&this.tech_[e](n)}catch(d){throw Re(d),d}},!0)},i.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in oo)return r=this.tech_,this.middleware_.reduceRight(Fi(s=e),r[s]());if(e in Sa)return di(this.middleware_,this.tech_,e);var r,s;try{return this.tech_[e]()}catch(u){throw void 0===this.tech_[e]?(Re("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",u),u):"TypeError"===u.name?(Re("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",u),this.tech_.isReady_=!1,u):(Re(u),u)}}},i.play=function(){var e=this,n=this.options_.Promise||window.Promise;return n?new n(function(r){e.play_(r)}):this.play_()},i.play_=function(s){var n=this;this.playCallbacks_.push(s=void 0===s?hn:s);var r=!(this.changingSrc_||!this.src()&&!this.currentSrc());if(s=!(!kr&&!Wt),this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!r)return this.waitToPlay_=function(u){n.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!r&&s&&this.load());r=this.techGet_("play"),s&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),null===r?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)},i.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(n){n()})},i.runPlayCallbacks_=function(e){var n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(r){r(e)})},i.pause=function(){this.techCall_("pause")},i.paused=function(){return!1!==this.techGet_("paused")},i.played=function(){return this.techGet_("played")||Bi(0,0)},i.scrubbing=function(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},i.currentTime=function(e){return typeof e<"u"?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},i.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},i.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=(e=parseFloat(e))<0?1/0:e)!==this.cache_.duration&&((this.cache_.duration=e)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},i.remainingTime=function(){return this.duration()-this.currentTime()},i.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},i.buffered=function(){var e;return(e=this.techGet_("buffered"))&&e.length?e:Bi(0,0)},i.bufferedPercent=function(){return la(this.buffered(),this.duration())},i.bufferedEnd=function(){var n=this.buffered(),e=this.duration();return e<(n=n.end(n.length-1))?e:n},i.volume=function(e){var n;return void 0!==e?(n=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=n,this.techCall_("setVolume",n),void(0<n&&this.lastVolume_(n))):(n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n)},i.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},i.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},i.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},i.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},i.isFullscreen=function(e){if(void 0===e)return this.isFullscreen_;var n=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_()},i.requestFullscreen=function(e){var n=this.options_.Promise||window.Promise;if(n){var r=this;return new n(function(s,u){function d(){r.off("fullscreenerror",m),r.off("fullscreenchange",f)}function f(){d(),s()}function m(C,M){d(),u(M)}r.one("fullscreenchange",f),r.one("fullscreenerror",m);var w=r.requestFullscreenHelper_(e);w&&(w.then(d,d),w.then(s,u))})}return this.requestFullscreenHelper_()},i.requestFullscreenHelper_=function(e){var n=this;if(this.fsApi_.prefixed||(r=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(r=e)),this.fsApi_.requestFullscreen){var r=this.el_[this.fsApi_.requestFullscreen](r);return r&&r.then(function(){return n.isFullscreen(!0)},function(){return n.isFullscreen(!1)}),r}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},i.exitFullscreen=function(){var e=this.options_.Promise||window.Promise;if(e){var n=this;return new e(function(r,s){function u(){n.off("fullscreenerror",f),n.off("fullscreenchange",d)}function d(){u(),r()}function f(w,C){u(),s(C)}n.one("fullscreenchange",d),n.one("fullscreenerror",f);var m=n.exitFullscreenHelper_();m&&(m.then(u,u),m.then(r,s))})}return this.exitFullscreenHelper_()},i.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var n=document[this.fsApi_.exitFullscreen]();return n&&hn(n.then(function(){return e.isFullscreen(!1)})),n}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},i.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,rn(document,"keydown",this.boundFullWindowOnEscKey_),document.documentElement.style.overflow="hidden",Q(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},i.fullWindowOnEscKey=function(e){He.isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},i.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Fn(document,"keydown",this.boundFullWindowOnEscKey_),document.documentElement.style.overflow=this.docOrigOverflow,ve(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},i.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},i.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},i.requestPictureInPicture=function(){if("pictureInPictureEnabled"in document&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},i.exitPictureInPicture=function(){if("pictureInPictureEnabled"in document)return document.exitPictureInPicture()},i.handleKeyDown=function(e){var r,s,n=this.options_.userActions;n&&n.hotkeys&&(s=(r=this.el_.ownerDocument.activeElement).tagName.toLowerCase(),r.isContentEditable||("input"===s?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(r.type):-1!==["textarea"].indexOf(s))||("function"==typeof n.hotkeys?n.hotkeys.call(this,e):this.handleHotkeys(e)))},i.handleHotkeys=function(e){var n=(s=this.options_.userActions?this.options_.userActions.hotkeys:{}).fullscreenKey,r=void 0===(r=s.muteKey)?function(u){return He.isEventKey(u,"m")}:r,s=void 0===(s=s.playPauseKey)?function(u){return He.isEventKey(u,"k")||He.isEventKey(u,"Space")}:s;(void 0===n?function(u){return He.isEventKey(u,"f")}:n).call(this,e)?(e.preventDefault(),e.stopPropagation(),n=se.getComponent("FullscreenToggle"),!1!==document[this.fsApi_.fullscreenEnabled]&&n.prototype.handleClick.call(this,e)):r.call(this,e)?(e.preventDefault(),e.stopPropagation(),se.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),se.getComponent("PlayToggle").prototype.handleClick.call(this,e))},i.canPlayType=function(e){for(var n,r=0,s=this.options_.techOrder;r<s.length;r++){var u=s[r],d=Ut.getTech(u);if(d=d||se.getComponent(u)){if(d.isSupported()&&(n=d.canPlayType(e)))return n}else Re.error('The "'+u+'" tech is undefined. Skipped browser support check for that tech.')}return""},i.selectSource=function(e){function n(f,m,w){var C;return f.some(function(M){return m.some(function(E){if(C=w(M,E))return!0})}),C}var r,s=this,u=this.options_.techOrder.map(function(f){return[f,Ut.getTech(f)]}).filter(function(w){var m=w[0];return(w=w[1])?w.isSupported():(Re.error('The "'+m+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),d=function(f,m){var w=f[0];if(f[1].canPlaySource(m,s.options_[w.toLowerCase()]))return{source:m,tech:w}};return(d=this.options_.sourceOrder?n(e,u,(r=d,function(f,m){return r(m,f)})):n(u,e,d))||!1},i.handleSrc_=function(e,n){var r=this;if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var s,u,d=uo(e);d.length?(this.changingSrc_=!0,n||(this.cache_.sources=d),this.updateSourceCaches_(d[0]),function ci(t,a,i){t.setTimeout(function(){return function e(n,w,s,u,d,f){void 0===n&&(n={}),void 0===w&&(w=[]),void 0===d&&(d=[]),void 0===f&&(f=!1);var m=w,C=(w=m[0],m.slice(1));if("string"==typeof w)e(n,jn[w],s,u,d,f);else if(w){var M=function _s(t,a){var i=Ta[t.id()],e=null;if(null==i)return e=a(t),Ta[t.id()]=[[a,e]],e;for(var n=0;n<i.length;n++){var r=(s=i[n])[0],s=s[1];r===a&&(e=s)}return null===e&&(e=a(t),i.push([a,e])),e}(u,w);if(!M.setSource)return d.push(M),e(n,C,s,u,d,f);M.setSource(rt({},n),function(E,D){return E?e(n,C,s,u,d,f):(d.push(M),void e(D,n.type===D.type?C:jn[D.type],s,u,d,f))})}else C.length?e(n,C,s,u,d,f):f?s(n,d):e(n,jn["*"],s,u,d,!0)}(a,jn[a.type],i,t)},1)}(this,d[0],function(f,m){var w;return r.middleware_=m,n||(r.cache_.sources=d),r.updateSourceCaches_(f),r.src_(f)?1<d.length?r.handleSrc_(d.slice(1)):(r.changingSrc_=!1,r.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),void r.triggerReady()):(w=r.tech_,void m.forEach(function(C){return C.setTech&&C.setTech(w)}))}),this.options_.retryOnError&&1<d.length&&(u=function(){r.off("error",s)},this.one("error",s=function(){r.error(null),r.handleSrc_(d.slice(1),!0)}),this.one("playing",u),this.resetRetryOnError_=function(){r.off("error",s),r.off("playing",u)})):this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0)},i.src=function(e){return this.handleSrc_(e,!1)},i.src_=function(e){var r,s=this,u=this.selectSource([e]);return!u||(r=this.techName_,cn(u.tech)!==cn(r)?(this.changingSrc_=!0,this.loadTech_(u.tech,u.source),this.tech_.ready(function(){s.changingSrc_=!1})):this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1)},i.load=function(){this.techCall_("load")},i.reset=function(){var e=this,n=this.options_.Promise||window.Promise;this.paused()||!n?this.doReset_():hn(this.play().then(function(){return e.doReset_()}))},i.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),me(this)&&this.trigger("playerreset")},i.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},i.resetProgressBar_=function(){this.currentTime(0);var e=(n=this.controlBar||{}).durationDisplay,n=n.remainingTimeDisplay;e&&e.updateContent(),n&&n.updateContent()},i.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},i.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},i.currentSources=function(){var e=this.currentSource(),n=[];return 0!==Object.keys(e).length&&n.push(e),this.cache_.sources||n},i.currentSource=function(){return this.cache_.source||{}},i.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},i.currentType=function(){return this.currentSource()&&this.currentSource().type||""},i.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},i.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var n;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),n=!1):this.options_.autoplay=!!e,n=typeof n>"u"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)},i.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},i.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},i.poster=function(e){if(void 0===e)return this.poster_;(e=e||"")!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},i.handleTechPosterChange_=function(){var e;this.poster_&&!this.options_.techCanOverridePoster||!this.tech_||!this.tech_.poster||(e=this.tech_.poster()||"")!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))},i.controls=function(e){if(void 0===e)return!!this.controls_;this.controls_!==(e=!!e)&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},i.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;this.usingNativeControls_!==(e=!!e)&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},i.error=function(e){var n=this;if(void 0===e)return this.error_||null;if(ae("beforeerror").forEach(function(s){ge(s=s(n,e))&&!Array.isArray(s)||"string"==typeof s||"number"==typeof s||null===s?e=s:n.log.error("please return a value that MediaError expects in beforeerror hooks")}),this.options_.suppressNotSupportedError&&e&&4===e.code){var r=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],r),void this.one("loadstart",function(){this.off(["click","touchstart"],r)})}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Hn(e),this.addClass("vjs-error"),Re.error("(CODE:"+this.error_.code+" "+Hn.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),ae("error").forEach(function(s){return s(n,n.error_)})},i.reportUserActivity=function(e){this.userActivity_=!0},i.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},i.listenForUserActivity_=function(){var e,n,r,u,s=Xt(this,this.reportUserActivity),d=function(f){s(),this.clearInterval(e)};this.on("mousedown",function(){s(),this.clearInterval(e),e=this.setInterval(s,250)}),this.on("mousemove",function(f){f.screenX===n&&f.screenY===r||(n=f.screenX,r=f.screenY,s())}),this.on("mouseup",d),this.on("mouseleave",d),!(d=this.getChild("controlBar"))||Wt||mt||(d.on("mouseenter",function(f){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),d.on("mouseleave",function(f){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",s),this.on("keyup",s),this.setInterval(function(){var f;this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u),(f=this.options_.inactivityTimeout)<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},f)))},250)},i.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},i.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},i.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},i.enableAudioOnlyUI_=function(){var e=this;this.addClass("vjs-audio-only-mode");var n=this.children(),r=this.getChild("ControlBar"),s=r&&r.currentHeight();n.forEach(function(u){u!==r&&u.el_&&!u.hasClass("vjs-hidden")&&(u.hide(),e.audioOnlyCache_.hiddenChildren.push(u))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(s),this.trigger("audioonlymodechange")},i.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(e){return e.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},i.audioOnlyMode=function(e){var n=this;if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=e;var r=this.options_.Promise||window.Promise;if(r){if(e){var s=[];return this.isInPictureInPicture()&&s.push(this.exitPictureInPicture()),this.isFullscreen()&&s.push(this.exitFullscreen()),this.audioPosterMode()&&s.push(this.audioPosterMode(!1)),r.all(s).then(function(){return n.enableAudioOnlyUI_()})}return r.resolve().then(function(){return n.disableAudioOnlyUI_()})}e?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},i.enablePosterModeUI_=function(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},i.disablePosterModeUI_=function(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},i.audioPosterMode=function(e){var n=this;if("boolean"!=typeof e||e===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=e;var r=this.options_.Promise||window.Promise;return r?e?(this.audioOnlyMode()?this.audioOnlyMode(!1):r.resolve()).then(function(){n.enablePosterModeUI_()}):r.resolve().then(function(){n.disablePosterModeUI_()}):e?(this.audioOnlyMode()&&this.audioOnlyMode(!1),void this.enablePosterModeUI_()):void this.disablePosterModeUI_()},i.addTextTrack=function(e,n,r){if(this.tech_)return this.tech_.addTextTrack(e,n,r)},i.addRemoteTextTrack=function(e,n){if(this.tech_)return this.tech_.addRemoteTextTrack(e,n)},i.removeRemoteTextTrack=function(e){var n=(n=(e=void 0===e?{}:e).track)||e;if(this.tech_)return this.tech_.removeRemoteTextTrack(n)},i.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},i.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},i.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},i.language=function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),me(this)&&this.trigger("languagechange"))},i.languages=function(){return Yt(a.prototype.options_.languages,this.languages_)},i.toJSON=function(){var e=Yt(this.options_),n=e.tracks;e.tracks=[];for(var r=0;r<n.length;r++){var s=n[r];(s=Yt(s)).player=void 0,e.tracks[r]=s}return e},i.createModal=function(e,n){var r=this;(n=n||{}).content=e||"";var s=new _t(this,n);return this.addChild(s),s.on("dispose",function(){r.removeChild(s)}),s.open(),s},i.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),n=this.currentWidth(),r=0;r<Da.length;r++){var s=Da[r];if(n<=this.breakpoints_[s]){if(e===s)return;e&&this.removeClass($r[e]),this.addClass($r[s]),this.breakpoint_=s;break}}},i.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},i.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=rt({},yu,e),this.updateCurrentBreakpoint_()),rt(this.breakpoints_)},i.responsive=function(e){return void 0===e?this.responsive_:(e=!!e)!==this.responsive_?((this.responsive_=e)?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},i.currentBreakpoint=function(){return this.breakpoint_},i.currentBreakpointClass=function(){return $r[this.breakpoint_]||""},i.loadMedia=function(e,n){var r,s,u,d=this;e&&"object"==typeof e&&(this.reset(),this.cache_.media=Yt(e),r=(u=this.cache_.media).artwork,s=u.poster,e=u.src,u=u.textTracks,!r&&s&&(this.cache_.media.artwork=[{src:s,type:hi(s)}]),e&&this.src(e),s&&this.poster(s),Array.isArray(u)&&u.forEach(function(f){return d.addRemoteTextTrack(f,!1)}),this.ready(n))},i.getMedia=function(){if(this.cache_.media)return Yt(this.cache_.media);var e=this.poster(),n={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(r){return{kind:r.kind,label:r.label,language:r.language,src:r.src}})};return e&&(n.poster=e,n.artwork=[{src:n.poster,type:hi(n.poster)}]),n},a.getTagSettings=function(e){var n,r={sources:[],tracks:[]},s=Ce(e),u=s["data-setup"];if(ei(e,"vjs-fill")&&(s.fill=!0),ei(e,"vjs-fluid")&&(s.fluid=!0),null!==u&&(u=(n=function(t,a){var i,e=null;try{i=JSON.parse(t,void 0)}catch(n){e=n}return[e,i]}(u||"{}"))[0],n=n[1],u&&Re.error(u),rt(s,n)),rt(r,s),e.hasChildNodes())for(var d=e.childNodes,f=0,m=d.length;f<m;f++){var w=d[f],C=w.nodeName.toLowerCase();"source"===C?r.sources.push(Ce(w)):"track"===C&&r.tracks.push(Ce(w))}return r},i.flexNotSupported_=function(){var e=document.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},i.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},i.playbackRates=function(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every(function(n){return"number"==typeof n})&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))},a}(se);qn.names.forEach(function(t){var a=qn[t];fn.prototype[a.getterName]=function(){return this.tech_?this.tech_[a.getterName]():(this[a.privateName]=this[a.privateName]||new a.ListClass,this[a.privateName])}}),fn.prototype.crossorigin=fn.prototype.crossOrigin,fn.players={},Tt=window.navigator,fn.prototype.options_={techOrder:Ut.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Tt&&(Tt.languages&&Tt.languages[0]||Tt.userLanguage||Tt.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){fn.prototype[t]=function(){return this.techGet_(t)}}),Oa.forEach(function(t){fn.prototype["handleTech"+cn(t)+"_"]=function(){return this.trigger(t)}}),se.registerComponent("Player",fn);var Br=it(function(t){function a(i,e){return t.exports=a=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},a(i,e)}t.exports=a});function Ur(t){return o.hasOwnProperty(t)}function Qr(t){return Ur(t)?o[t]:void 0}function dr(t,a,i){t.trigger(i=(i?"before":"")+"pluginsetup",a),t.trigger(i+":"+a.name,a)}function Cs(t,a){return a.prototype.name=t,function(){dr(this,{name:t,plugin:a,instance:null},!0);for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];var r=Na(a,[this].concat(e));return this[t]=function(){return r},dr(this,r.getEventHash()),r}}var Na=it(function(t){function a(i,e,n){return t.exports=a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(r,s,u){var d=[null];return d.push.apply(d,s),d=new(Function.bind.apply(r,d)),u&&Br(d,u.prototype),d},a.apply(null,arguments)}t.exports=a}),Ra="plugin",l="activePlugins_",o={},c=function(t,a){t[l]=t[l]||{},t[l][a]=!0},p=function(){function t(i){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=i,this.log||(this.log=this.player.log.createLogger(this.name)),Ar(this),delete this.trigger,Ri(this,this.constructor.defaultState),c(i,this.name),this.dispose=this.dispose.bind(this),i.on("dispose",this.dispose)}var a=t.prototype;return a.version=function(){return this.constructor.VERSION},a.getEventHash=function(i){return(i=void 0===i?{}:i).name=this.name,i.plugin=this.constructor,i.instance=this,i},a.trigger=function(i,e){return Ki(this.eventBusEl_,i,this.getEventHash(e=void 0===e?{}:e))},a.handleStateChanged=function(i){},a.dispose=function(){var i=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[l][i]=!1,this.player=this.state=null,e[i]=Cs(i,o[i])},t.isBasic=function(i){return"function"==typeof(i="string"==typeof i?Qr(i):i)&&!t.prototype.isPrototypeOf(i.prototype)},t.registerPlugin=function(i,e){if("string"!=typeof i)throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if(Ur(i))Re.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(fn.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if("function"!=typeof e)throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof e+".");return o[i]=e,i!==Ra&&(fn.prototype[i]=t.isBasic(e)?function Es(t,a){function i(){dr(this,{name:t,plugin:a,instance:null},!0);var e=a.apply(this,arguments);return c(this,t),dr(this,{name:t,plugin:a,instance:e}),e}return Object.keys(a).forEach(function(e){i[e]=a[e]}),i}(i,e):Cs(i,e)),e},t.deregisterPlugin=function(i){if(i===Ra)throw new Error("Cannot de-register base plugin.");Ur(i)&&(delete o[i],delete fn.prototype[i])},t.getPlugins=function(i){var e;return(i=void 0===i?Object.keys(o):i).forEach(function(n){var r=Qr(n);r&&((e=e||{})[n]=r)}),e},t.getPluginVersion=function(i){return(i=Qr(i))&&i.VERSION||""},t}();p.getPlugin=Qr,p.BASE_PLUGIN_NAME=Ra,p.registerPlugin(Ra,p),fn.prototype.usingPlugin=function(t){return!!this[l]&&!0===this[l][t]},fn.prototype.hasPlugin=function(t){return!!Ur(t)};var k=!1,P=function(t){return 0===t.indexOf("#")?t.slice(1):t};function x(t,a,i){if(n=x.getPlayer(t))return a&&Re.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&n.ready(i),n;var e="string"==typeof t?At("#"+P(t)):t;if(!Ct(e))throw new TypeError("The element or ID supplied is not valid. (videojs)");e.ownerDocument.defaultView&&e.ownerDocument.body.contains(e)||Re.warn("The element supplied is not included in the DOM"),!0===(a=a||{}).restoreEl&&(a.restoreEl=(e.parentNode&&e.parentNode.hasAttribute("data-vjs-player")?e.parentNode:e).cloneNode(!0)),ae("beforesetup").forEach(function(r){ge(r=r(e,Yt(a)))&&!Array.isArray(r)?a=Yt(a,r):Re.error("please return an object in beforesetup hooks")});var n=new(se.getComponent("Player"))(e,a,i);return ae("setup").forEach(function(r){return r(n)}),n}x.hooks_=Pt,x.hooks=ae,x.hook=function(t,a){ae(t,a)},x.hookOnce=function(t,a){ae(t,[].concat(a).map(function(i){return function e(){return Yn(t,e),i.apply(void 0,arguments)}}))},x.removeHook=Yn,!0!==window.VIDEOJS_NO_DYNAMIC_STYLE&&Vi()&&((gn=At(".vjs-styles-defaults"))||(gn=H("vjs-styles-defaults"),(qi=At("head"))&&qi.insertBefore(gn,qi.firstChild),Ge(gn,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    "))),F(1,x),x.VERSION="7.21.6",x.options=fn.prototype.options_,x.getPlayers=function(){return fn.players},x.getPlayer=function(t){var a=fn.players;if("string"==typeof t){var i=P(t),e=a[i];if(e)return e;i=At("#"+i)}else i=t;if(Ct(i)&&(t=i.player,i=i.playerId,t||a[i]))return t||a[i]},x.getAllPlayers=function(){return Object.keys(fn.players).map(function(t){return fn.players[t]}).filter(Boolean)},x.players=fn.players,x.getComponent=se.getComponent,x.registerComponent=function(t,a){Ut.isTech(a)&&Re.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),se.registerComponent.call(se,t,a)},x.getTech=Ut.getTech,x.registerTech=Ut.registerTech,x.use=function(t,a){jn[t]=jn[t]||[],jn[t].push(a)},Object.defineProperty(x,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(x.middleware,"TERMINATOR",{value:L,writeable:!1,enumerable:!0}),x.browser=An,x.TOUCH_ENABLED=Pi,x.extend=function(t,a){void 0===a&&(a={}),k||(Re.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),k=!0);var i,e=function(){t.apply(this,arguments)},n={};for(i in"object"==typeof a?(a.constructor!==Object.prototype.constructor&&(e=a.constructor),n=a):"function"==typeof a&&(e=a),function(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),a&&Br(t,a)}(e,t),t&&(e.super_=t),n)n.hasOwnProperty(i)&&(e.prototype[i]=n[i]);return e},x.mergeOptions=Yt,x.bind=Xt,x.registerPlugin=p.registerPlugin,x.deregisterPlugin=p.deregisterPlugin,x.plugin=function(t,a){return Re.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),p.registerPlugin(t,a)},x.getPlugins=p.getPlugins,x.getPlugin=p.getPlugin,x.getPluginVersion=p.getPluginVersion,x.addLanguage=function(t,a){var i;return t=(""+t).toLowerCase(),(x.options.languages=Yt(x.options.languages,((i={})[t]=a,i)))[t]},x.log=Re,x.createLogger=We,x.createTimeRange=x.createTimeRanges=Bi,x.formatTime=ur,x.setFormatTime=function(t){Xr=t},x.resetFormatTime=function(){Xr=Ea},x.parseUrl=ds,x.isCrossOrigin=rr,x.EventTarget=zn,x.on=rn,x.one=Dn,x.off=Fn,x.trigger=Ki,x.xhr=ma,x.TextTrack=Mr,x.AudioTrack=mr,x.VideoTrack=Hi,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){x[t]=function(){return Re.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),at[t].apply(null,arguments)}}),x.computedStyle=Fe,x.dom=at,x.url=ji,x.defineLazyProperty=xs,x.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var N=it(function(t,a){var i,e,n,r,s;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,e=/^([^\/?#]*)([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,t.exports=s={buildAbsoluteURL:function(C,d,f){if(f=f||{},C=C.trim(),!(d=d.trim())){if(!f.alwaysNormalize)return C;var m=s.parseURL(C);if(!m)throw new Error("Error trying to parse base URL.");return m.path=s.normalizePath(m.path),s.buildURLFromParts(m)}if(!(m=s.parseURL(d)))throw new Error("Error trying to parse relative URL.");if(m.scheme)return f.alwaysNormalize?(m.path=s.normalizePath(m.path),s.buildURLFromParts(m)):d;if(!(d=s.parseURL(C)))throw new Error("Error trying to parse base URL.");var w;return!d.netLoc&&d.path&&"/"!==d.path[0]&&(w=e.exec(d.path),d.netLoc=w[1],d.path=w[2]),d.netLoc&&!d.path&&(d.path="/"),C={scheme:d.scheme,netLoc:m.netLoc,path:null,params:m.params,query:m.query,fragment:m.fragment},m.netLoc||(C.netLoc=d.netLoc,"/"!==m.path[0]&&(m.path?(w=(w=d.path).substring(0,w.lastIndexOf("/")+1)+m.path,C.path=s.normalizePath(w)):(C.path=d.path,m.params||(C.params=d.params,m.query||(C.query=d.query))))),null===C.path&&(C.path=f.alwaysNormalize?s.normalizePath(m.path):m.path),s.buildURLFromParts(C)},parseURL:function(u){return(u=i.exec(u))?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(n,"");u.length!==(u=u.replace(r,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}}}),qi=function(){function t(){this.listeners={}}var a=t.prototype;return a.on=function(i,e){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(e)},a.off=function(i,e){return!!this.listeners[i]&&(e=this.listeners[i].indexOf(e),this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(e,1),-1<e)},a.trigger=function(i){var e=this.listeners[i];if(e)if(2===arguments.length)for(var n=e.length,r=0;r<n;++r)e[r].call(this,arguments[1]);else for(var s=Array.prototype.slice.call(arguments,1),u=e.length,d=0;d<u;++d)e[d].apply(this,s)},a.dispose=function(){this.listeners={}},a.pipe=function(i){this.on("data",function(e){i.push(e)})},t}();function G(i){var a=/([0-9.]*)?@?([0-9.]*)?/.exec(i||"");return i={},a[1]&&(i.length=parseInt(a[1],10)),a[2]&&(i.offset=parseInt(a[2],10)),i}function V(t){for(var a,i=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),e={},n=i.length;n--;)""!==i[n]&&((a=/([^=]*)=(.*)/.exec(i[n]).slice(1))[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),e[a[0]]=a[1]);return e}function J(t){var a={};return Object.keys(t).forEach(function(i){a[i.toLowerCase().replace(/-(\w)/g,function(e){return e[1].toUpperCase()})]=t[i]}),a}function ue(t){var a,i,e,n,r=t.serverControl,s=t.targetDuration,u=t.partTargetDuration;r&&(a="#EXT-X-SERVER-CONTROL",i="holdBack",e="partHoldBack",n=s&&3*s,t=u&&2*u,s&&!r.hasOwnProperty(i)&&(r[i]=n,this.trigger("info",{message:a+" defaulting HOLD-BACK to targetDuration * 3 ("+n+")."})),n&&r[i]<n&&(this.trigger("warn",{message:a+" clamping HOLD-BACK ("+r[i]+") to targetDuration * 3 ("+n+")"}),r[i]=n),u&&!r.hasOwnProperty(e)&&(r[e]=3*u,this.trigger("info",{message:a+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+r[e]+")."})),u&&r[e]<t&&(this.trigger("warn",{message:a+" clamping PART-HOLD-BACK ("+r[e]+") to partTargetDuration * 2 ("+t+")."}),r[e]=t))}function Ie(t){return t&&t.replace(/avc1\.(\d+)\.(\d+)/i,function(a,i,e){return"avc1."+("00"+Number(i).toString(16)).slice(-2)+"00"+("00"+Number(e).toString(16)).slice(-2)})}function Oe(a){a=(a=void 0===a?"":a).split(",");var i=[];return a.forEach(function(e){var n;e=e.trim(),bo.forEach(function(r){var s,u=$i[r].exec(e.toLowerCase());!u||u.length<=1||(n=r,s=e.substring(0,u[1].length),u=e.replace(s,""),i.push({type:s,details:u,mediaType:r}))}),n||i.push({type:e,details:"",mediaType:"unknown"})}),i}function Qe(t){return $i.audio.test((t=void 0===t?"":t).trim().toLowerCase())}function ct(t){if(t&&"string"==typeof t){var a=t.toLowerCase().split(",").map(function(n){return Ie(n.trim())}),i="video";1===a.length&&Qe(a[0])?i="audio":1===a.length&&$i.text.test((e=void 0===(e=a[0])?"":e).trim().toLowerCase())&&(i="application");var e="mp4";return a.every(function(n){return $i.mp4.test(n)})?e="mp4":a.every(function(n){return $i.webm.test(n)})?e="webm":a.every(function(n){return $i.ogg.test(n)})&&(e="ogg"),i+"/"+e+';codecs="'+t+'"'}}function $e(t){return void 0===t&&(t=""),window.MediaSource&&window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported(ct(t))||!1}function yt(t){return(t=void 0===t?"":t).toLowerCase().split(",").every(function(a){a=a.trim();for(var i=0;i<_o.length;i++)if($i["muxer"+_o[i]].test(a))return!0;return!1})}function wt(t){return vu.test(t)?"hls":$t.test(t)?"dash":"application/vnd.videojs.vhs+json"===t?"vhs-json":null}function _n(t){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer}function Le(t){return t instanceof Uint8Array?t:(Array.isArray(t)||lh(t)||t instanceof ArrayBuffer||(t="number"!=typeof t||"number"==typeof t&&t!=t?0:[t]),new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0))}function ot(t,a){if("string"!=typeof(t="string"!=typeof t&&t&&"function"==typeof t.toString?t.toString():t))return new Uint8Array;a||(t=unescape(encodeURIComponent(t)));for(var i=new Uint8Array(t.length),e=0;e<t.length;e++)i[e]=t.charCodeAt(e);return i}function Xe(t,a,i){var e=void 0===i?{}:i,n=void 0===(i=e.offset)?0:i,r=void 0===(e=e.mask)?[]:e;return t=Le(t),e=(a=Le(a)).every||Array.prototype.every,a.length&&t.length-n>=a.length&&e.call(a,function(s,u){return s===(r[u]?r[u]&t[n+u]:t[n+u])})}function on(t,a){if(/^[a-z]+:/i.test(a))return a;/^data:/.test(t)&&(t=window.location&&window.location.href||"");var i="function"==typeof window.URL,e=/^\/\//.test(t),n=!window.location&&!/\/\//i.test(t);return i?t=new window.URL(t,window.location||Ol):/\/\//i.test(t)||(t=N.buildAbsoluteURL(window.location&&window.location.href||"",t)),i?(i=new URL(a,t),n?i.href.slice(Ol.length):e?i.href.slice(i.protocol.length):i.href):N.buildAbsoluteURL(t,a)}var It=function(t){function a(){var i=t.call(this)||this;return i.buffer="",i}return he(a,t),a.prototype.push=function(i){var e;for(this.buffer+=i,e=this.buffer.indexOf("\n");-1<e;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},a}(qi),mn=function(t){function a(){var e=t.call(this)||this;return e.customParsers=[],e.tagMappers=[],e}he(a,t);var i=a.prototype;return i.push=function(e){var n,r,s=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce(function(u,d){return(d=d(e))===e?u:u.concat([d])},[e]).forEach(function(u){for(var d,f,m=0;m<s.customParsers.length;m++)if(s.customParsers[m].call(s,u))return;if(0===u.indexOf("#EXT"))if(u=u.replace("\r",""),n=/^#EXTM3U/.exec(u))s.trigger("data",{type:"tag",tagType:"m3u"});else{if(n=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(u))return r={type:"tag",tagType:"inf"},n[1]&&(r.duration=parseFloat(n[1])),n[2]&&(r.title=n[2]),void s.trigger("data",r);if(n=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(u))return r={type:"tag",tagType:"targetduration"},n[1]&&(r.duration=parseInt(n[1],10)),void s.trigger("data",r);if(n=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(u))return r={type:"tag",tagType:"version"},n[1]&&(r.version=parseInt(n[1],10)),void s.trigger("data",r);if(n=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(u))return r={type:"tag",tagType:"media-sequence"},n[1]&&(r.number=parseInt(n[1],10)),void s.trigger("data",r);if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(u))return r={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(r.number=parseInt(n[1],10)),void s.trigger("data",r);if(n=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(u))return r={type:"tag",tagType:"playlist-type"},n[1]&&(r.playlistType=n[1]),void s.trigger("data",r);if(n=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(u))return r=xe(G(n[1]),{type:"tag",tagType:"byterange"}),void s.trigger("data",r);if(n=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(u))return r={type:"tag",tagType:"allow-cache"},n[1]&&(r.allowed=!/NO/.test(n[1])),void s.trigger("data",r);if(n=/^#EXT-X-MAP:?(.*)$/.exec(u))return r={type:"tag",tagType:"map"},n[1]&&((d=V(n[1])).URI&&(r.uri=d.URI),d.BYTERANGE&&(r.byterange=G(d.BYTERANGE))),void s.trigger("data",r);if(n=/^#EXT-X-STREAM-INF:?(.*)$/.exec(u))return r={type:"tag",tagType:"stream-inf"},n[1]&&(r.attributes=V(n[1]),r.attributes.RESOLUTION&&(f={},(d=r.attributes.RESOLUTION.split("x"))[0]&&(f.width=parseInt(d[0],10)),d[1]&&(f.height=parseInt(d[1],10)),r.attributes.RESOLUTION=f),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))),void s.trigger("data",r);if(n=/^#EXT-X-MEDIA:?(.*)$/.exec(u))return r={type:"tag",tagType:"media"},n[1]&&(r.attributes=V(n[1])),void s.trigger("data",r);if(n=/^#EXT-X-ENDLIST/.exec(u))s.trigger("data",{type:"tag",tagType:"endlist"});else{if(!(n=/^#EXT-X-DISCONTINUITY/.exec(u)))return(n=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(u))?(r={type:"tag",tagType:"program-date-time"},n[1]&&(r.dateTimeString=n[1],r.dateTimeObject=new Date(n[1])),void s.trigger("data",r)):(n=/^#EXT-X-KEY:?(.*)$/.exec(u))?(r={type:"tag",tagType:"key"},n[1]&&(r.attributes=V(n[1]),r.attributes.IV&&("0x"===r.attributes.IV.substring(0,2).toLowerCase()&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),void s.trigger("data",r)):(n=/^#EXT-X-START:?(.*)$/.exec(u))?(r={type:"tag",tagType:"start"},n[1]&&(r.attributes=V(n[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),void s.trigger("data",r)):(n=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(u))?((r={type:"tag",tagType:"cue-out-cont"}).data=n[1]?n[1]:"",void s.trigger("data",r)):(n=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(u))?((r={type:"tag",tagType:"cue-out"}).data=n[1]?n[1]:"",void s.trigger("data",r)):(n=/^#EXT-X-CUE-IN:?(.*)?$/.exec(u))?((r={type:"tag",tagType:"cue-in"}).data=n[1]?n[1]:"",void s.trigger("data",r)):(n=/^#EXT-X-SKIP:(.*)$/.exec(u))&&n[1]?((r={type:"tag",tagType:"skip"}).attributes=V(n[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split("\t")),void s.trigger("data",r)):(n=/^#EXT-X-PART:(.*)$/.exec(u))&&n[1]?((r={type:"tag",tagType:"part"}).attributes=V(n[1]),["DURATION"].forEach(function(w){r.attributes.hasOwnProperty(w)&&(r.attributes[w]=parseFloat(r.attributes[w]))}),["INDEPENDENT","GAP"].forEach(function(w){r.attributes.hasOwnProperty(w)&&(r.attributes[w]=/YES/.test(r.attributes[w]))}),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=G(r.attributes.BYTERANGE)),void s.trigger("data",r)):(n=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(u))&&n[1]?((r={type:"tag",tagType:"server-control"}).attributes=V(n[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(w){r.attributes.hasOwnProperty(w)&&(r.attributes[w]=parseFloat(r.attributes[w]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(w){r.attributes.hasOwnProperty(w)&&(r.attributes[w]=/YES/.test(r.attributes[w]))}),void s.trigger("data",r)):(n=/^#EXT-X-PART-INF:(.*)$/.exec(u))&&n[1]?((r={type:"tag",tagType:"part-inf"}).attributes=V(n[1]),["PART-TARGET"].forEach(function(w){r.attributes.hasOwnProperty(w)&&(r.attributes[w]=parseFloat(r.attributes[w]))}),void s.trigger("data",r)):(n=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(u))&&n[1]?((r={type:"tag",tagType:"preload-hint"}).attributes=V(n[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(w){var C;r.attributes.hasOwnProperty(w)&&(r.attributes[w]=parseInt(r.attributes[w],10),C="BYTERANGE-LENGTH"===w?"length":"offset",r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange[C]=r.attributes[w],delete r.attributes[w])}),void s.trigger("data",r)):(n=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(u))&&n[1]?((r={type:"tag",tagType:"rendition-report"}).attributes=V(n[1]),["LAST-MSN","LAST-PART"].forEach(function(w){r.attributes.hasOwnProperty(w)&&(r.attributes[w]=parseInt(r.attributes[w],10))}),void s.trigger("data",r)):void s.trigger("data",{type:"tag",data:u.slice(4)});s.trigger("data",{type:"tag",tagType:"discontinuity"})}}else s.trigger("data",{type:"comment",text:u.slice(1)})}):this.trigger("data",{type:"uri",uri:e}))},i.addParser=function(e){var n=this,r=e.expression,s=e.customType,u=e.dataParser,d=e.segment;"function"!=typeof u&&(u=function(f){return f}),this.customParsers.push(function(f){if(r.exec(f))return n.trigger("data",{type:"custom",data:u(f),customType:s,segment:d}),!0})},i.addTagMapper=function(e){var n=e.expression,r=e.map;this.tagMappers.push(function(s){return n.test(s)?r(s):s})},a}(qi),bi=function(t){function a(){var e=t.call(this)||this;e.lineStream=new It,e.parseStream=new mn,e.lineStream.pipe(e.parseStream);var n,r,s=Ke(e),u=[],d={},f=!1,m={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},w=0;e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var C=0,M=0;return e.on("end",function(){d.uri||!d.parts&&!d.preloadHints||(!d.map&&n&&(d.map=n),!d.key&&r&&(d.key=r),d.timeline||"number"!=typeof w||(d.timeline=w),e.manifest.preloadSegment=d)}),e.parseStream.on("data",function(E){var D,z;({tag:function(){({version:function(){E.version&&(this.manifest.version=E.version)},"allow-cache":function(){this.manifest.allowCache=E.allowed,"allowed"in E||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var O={};"length"in E&&((d.byterange=O).length=E.length,"offset"in E||(E.offset=C)),"offset"in E&&((d.byterange=O).offset=E.offset),C=O.offset+O.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<E.duration&&(d.duration=E.duration),0===E.duration&&(d.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=u},key:function(){if(E.attributes)if("NONE"!==E.attributes.METHOD)if(E.attributes.URI){if("com.apple.streamingkeydelivery"===E.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:E.attributes});if("com.microsoft.playready"===E.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:E.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===E.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(E.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===E.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==E.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):E.attributes.KEYID&&"0x"===E.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:E.attributes.KEYFORMAT,keyId:E.attributes.KEYID.substring(2)},pssh:function(O){for(var W=function(t){return window.atob?window.atob(t):Buffer.from(t,"base64").toString("binary")}(O),K=new Uint8Array(W.length),Y=0;Y<W.length;Y++)K[Y]=W.charCodeAt(Y);return K}(E.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));E.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:E.attributes.METHOD||"AES-128",uri:E.attributes.URI},typeof E.attributes.IV<"u"&&(r.iv=E.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(E.number)?this.manifest.mediaSequence=E.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+E.number})},"discontinuity-sequence":function(){isFinite(E.number)?(this.manifest.discontinuitySequence=E.number,w=E.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+E.number})},"playlist-type":function(){/VOD|EVENT/.test(E.playlistType)?this.manifest.playlistType=E.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+E.playlist})},map:function(){n={},E.uri&&(n.uri=E.uri),E.byterange&&(n.byterange=E.byterange),r&&(n.key=r)},"stream-inf":function(){this.manifest.playlists=u,this.manifest.mediaGroups=this.manifest.mediaGroups||m,E.attributes?(d.attributes||(d.attributes={}),xe(d.attributes,E.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){var O;this.manifest.mediaGroups=this.manifest.mediaGroups||m,E.attributes&&E.attributes.TYPE&&E.attributes["GROUP-ID"]&&E.attributes.NAME?((O=this.manifest.mediaGroups[E.attributes.TYPE])[E.attributes["GROUP-ID"]]=O[E.attributes["GROUP-ID"]]||{},D=O[E.attributes["GROUP-ID"]],z.autoselect=!!(z={default:/yes/i.test(E.attributes.DEFAULT)}).default||/yes/i.test(E.attributes.AUTOSELECT),E.attributes.LANGUAGE&&(z.language=E.attributes.LANGUAGE),E.attributes.URI&&(z.uri=E.attributes.URI),E.attributes["INSTREAM-ID"]&&(z.instreamId=E.attributes["INSTREAM-ID"]),E.attributes.CHARACTERISTICS&&(z.characteristics=E.attributes.CHARACTERISTICS),E.attributes.FORCED&&(z.forced=/yes/i.test(E.attributes.FORCED)),D[E.attributes.NAME]=z):this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){w+=1,d.discontinuity=!0,this.manifest.discontinuityStarts.push(u.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=E.dateTimeString,this.manifest.dateTimeObject=E.dateTimeObject),d.dateTimeString=E.dateTimeString,d.dateTimeObject=E.dateTimeObject},targetduration:function(){!isFinite(E.duration)||E.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+E.duration}):(this.manifest.targetDuration=E.duration,ue.call(this,this.manifest))},start:function(){E.attributes&&!isNaN(E.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:E.attributes["TIME-OFFSET"],precise:E.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){d.cueOut=E.data},"cue-out-cont":function(){d.cueOutCont=E.data},"cue-in":function(){d.cueIn=E.data},skip:function(){this.manifest.skip=J(E.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",E.attributes,["SKIPPED-SEGMENTS"])},part:function(){var O=this;f=!0;var W=this.manifest.segments.length,K=J(E.attributes);d.parts=d.parts||[],d.parts.push(K),K.byterange&&(K.byterange.hasOwnProperty("offset")||(K.byterange.offset=M),M=K.byterange.offset+K.byterange.length),this.warnOnMissingAttributes_("#EXT-X-PART #"+(d.parts.length-1)+" for segment #"+W,E.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(ee,ce){ee.hasOwnProperty("lastPart")||O.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+ce+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var O=this.manifest.serverControl=J(E.attributes);O.hasOwnProperty("canBlockReload")||(O.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),ue.call(this,this.manifest),O.canSkipDateranges&&!O.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var O=this.manifest.segments.length,W=J(E.attributes),K=W.type&&"PART"===W.type;d.preloadHints=d.preloadHints||[],d.preloadHints.push(W),W.byterange&&(W.byterange.hasOwnProperty("offset")||(W.byterange.offset=K?M:0,K&&(M=W.byterange.offset+W.byterange.length)));var Y=d.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+Y+" for segment #"+O,E.attributes,["TYPE","URI"]),W.type)for(var ee=0;ee<d.preloadHints.length-1;ee++){var ce=d.preloadHints[ee];ce.type&&ce.type===W.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+Y+" for segment #"+O+" has the same TYPE "+W.type+" as preload hint #"+ee})}},"rendition-report":function(){var W=J(E.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(W);var O=this.manifest.renditionReports.length-1;W=["LAST-MSN","URI"],f&&W.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+O,E.attributes,W)},"part-inf":function(){this.manifest.partInf=J(E.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",E.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),ue.call(this,this.manifest)}}[E.tagType]||function(){}).call(s)},uri:function(){d.uri=E.uri,u.push(d),!this.manifest.targetDuration||"duration"in d||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),d.duration=this.manifest.targetDuration),r&&(d.key=r),d.timeline=w,n&&(d.map=n),M=0,d={}},comment:function(){},custom:function(){E.segment?(d.custom=d.custom||{},d.custom[E.customType]=E.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[E.customType]=E.data)}})[E.type].call(s)}),e}he(a,t);var i=a.prototype;return i.warnOnMissingAttributes_=function(e,n,r){var s=[];r.forEach(function(u){n.hasOwnProperty(u)||s.push(u)}),s.length&&this.trigger("warn",{message:e+" lacks required attribute(s): "+s.join(", ")})},i.push=function(e){this.lineStream.push(e)},i.end=function(){this.lineStream.push("\n"),this.trigger("end")},i.addParser=function(e){this.parseStream.addParser(e)},i.addTagMapper=function(e){this.parseStream.addTagMapper(e)},a}(qi),$i={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},bo=["video","audio","text"],_o=["Video","Audio","Text"],Zr="mp4a.40.2",vu=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,$t=/^application\/dash\+xml/i,lh=_n,Qn=window.BigInt||Number,bu=[Qn("0x1"),Qn("0x100"),Qn("0x10000"),Qn("0x1000000"),Qn("0x100000000"),Qn("0x10000000000"),Qn("0x1000000000000"),Qn("0x100000000000000"),Qn("0x10000000000000000")],Ol="http://example.com";function _u(t,a){return(a=void 0===a?Object:a)&&"function"==typeof a.freeze?a.freeze(t):t}var Ll=_u({HTML:"text/html",isHTML:function(t){return t===Ll.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Dl=_u({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===Dl.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"}),As={assign:function(t,a){if(null===t||"object"!=typeof t)throw new TypeError("target is not an object");for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);return t},find:function(t,a,i){if(void 0===i&&(i=Array.prototype),t&&"function"==typeof i.find)return i.find.call(t,a);for(var e=0;e<t.length;e++)if(Object.prototype.hasOwnProperty.call(t,e)){var n=t[e];if(a.call(void 0,n,e,t))return n}},freeze:_u,MIME_TYPE:Ll,NAMESPACE:Dl},Qi=As.find,Is=As.NAMESPACE;function dh(t){return""!==t}function hh(t,a){return t.hasOwnProperty(a)||(t[a]=!0),t}function Nl(t){return t?(t=t?t.split(/[\t\n\f\r ]+/).filter(dh):[],Object.keys(t.reduce(hh,{}))):[]}function Ms(t,a){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i])}function _i(t,a){var i,e=t.prototype;e instanceof a||((i=function(){}).prototype=a.prototype,Ms(e,i=new i),t.prototype=e=i),e.constructor!=t&&(e.constructor=t)}var Wi=(gn={}).ELEMENT_NODE=1,Ba=gn.ATTRIBUTE_NODE=2,To=gn.TEXT_NODE=3,Rl=gn.CDATA_SECTION_NODE=4,Bl=gn.ENTITY_REFERENCE_NODE=5,Ul=(gn.ENTITY_NODE=6,gn.PROCESSING_INSTRUCTION_NODE=7),Fl=gn.COMMENT_NODE=8,zl=gn.DOCUMENT_NODE=9,Hl=gn.DOCUMENT_TYPE_NODE=10,hr=gn.DOCUMENT_FRAGMENT_NODE=11,Xn=(gn.NOTATION_NODE=12,An={},{});An.INDEX_SIZE_ERR=(Xn[1]="Index size error",1),An.DOMSTRING_SIZE_ERR=(Xn[2]="DOMString size error",2);var Ti=An.HIERARCHY_REQUEST_ERR=(Xn[3]="Hierarchy request error",3);An.WRONG_DOCUMENT_ERR=(Xn[4]="Wrong document",4),An.INVALID_CHARACTER_ERR=(Xn[5]="Invalid character",5),An.NO_DATA_ALLOWED_ERR=(Xn[6]="No data allowed",6),An.NO_MODIFICATION_ALLOWED_ERR=(Xn[7]="No modification allowed",7);var jl,ql=An.NOT_FOUND_ERR=(Xn[8]="Not found",8);function Sn(t,a){var i;return a instanceof Error?i=a:(i=this,Error.call(this,Xn[t]),this.message=Xn[t],Error.captureStackTrace&&Error.captureStackTrace(this,Sn)),i.code=t,a&&(this.message=this.message+": "+a),i}function pr(){}function Ua(t,a){this._node=t,this._refresh=a,Tu(this)}function Tu(t){var a,i=t._node._inc||t._node.ownerDocument._inc;t._inc!=i&&(a=t._refresh(t._node),ac(t,"length",a.length),Ms(a,t),t._inc=i)}function wo(){}function Vl(t,a){for(var i=t.length;i--;)if(t[i]===a)return i}function Wl(t,a,i,e){e?a[Vl(a,e)]=i:a[a.length++]=i,!t||(a=(i.ownerElement=t).ownerDocument)&&(e&&Yl(a,t,e),a&&a._inc++,i.namespaceURI===Is.XMLNS&&(t._nsMap[i.prefix?i.localName:""]=i.value))}function Gl(t,a,i){var e=Vl(a,i);if(!(0<=e))throw new Sn(ql,new Error(t.tagName+"@"+i));for(var n,r=a.length-1;e<r;)a[e]=a[++e];a.length=r,!t||(n=t.ownerDocument)&&(Yl(n,t,i),i.ownerElement=null)}function Xl(){}function Ht(){}function Kl(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function Ps(t,a){if(a(t))return 1;if(t=t.firstChild)do{if(Ps(t,a))return 1}while(t=t.nextSibling)}function Os(){this.ownerDocument=this}function Yl(t,a,i){t&&t._inc++,i.namespaceURI===Is.XMLNS&&delete a._nsMap[i.prefix?i.localName:""]}function wu(t,a,i){if(t&&t._inc){t._inc++;var e=a.childNodes;if(i)e[e.length++]=i;else{for(var n=a.firstChild,r=0;n;)n=(e[r++]=n).nextSibling;e.length=r,delete e[e.length]}}}function $l(t,a){var i=a.previousSibling,e=a.nextSibling;return i?i.nextSibling=e:t.firstChild=e,e?e.previousSibling=i:t.lastChild=i,a.parentNode=null,a.previousSibling=null,a.nextSibling=null,wu(t.ownerDocument,t),a}function fr(t){return t&&t.nodeType===Ht.DOCUMENT_TYPE_NODE}function Ji(t){return t&&t.nodeType===Ht.ELEMENT_NODE}function Su(t){return t&&t.nodeType===Ht.TEXT_NODE}function Ql(t,a){var i=t.childNodes||[];if(!Qi(i,Ji)&&!fr(a))return t=Qi(i,fr),!(a&&t&&i.indexOf(t)>i.indexOf(a))}function Jl(t,a){var i=t.childNodes||[];if(!Qi(i,function(e){return Ji(e)&&e!==a}))return t=Qi(i,fr),!(a&&t&&i.indexOf(t)>i.indexOf(a))}function fh(t,a,i){var e=t.childNodes||[],n=a.childNodes||[];if(a.nodeType===Ht.DOCUMENT_FRAGMENT_NODE){var r=n.filter(Ji);if(1<r.length||Qi(n,Su))throw new Sn(Ti,"More than one element or text in fragment");if(1===r.length&&!Ql(t,i))throw new Sn(Ti,"Element in fragment can not be inserted before doctype")}if(Ji(a)&&!Ql(t,i))throw new Sn(Ti,"Only one element can be added and only after doctype");if(fr(a)){if(Qi(e,fr))throw new Sn(Ti,"Only one doctype is allowed");if(a=Qi(e,Ji),i&&e.indexOf(a)<e.indexOf(i))throw new Sn(Ti,"Doctype can only be inserted before an element");if(!i&&a)throw new Sn(Ti,"Doctype can not be appended since element is present")}}function Zl(t,a,i){var e=t.childNodes||[],n=a.childNodes||[];if(a.nodeType===Ht.DOCUMENT_FRAGMENT_NODE){var r=n.filter(Ji);if(1<r.length||Qi(n,Su))throw new Sn(Ti,"More than one element or text in fragment");if(1===r.length&&!Jl(t,i))throw new Sn(Ti,"Element in fragment can not be inserted before doctype")}if(Ji(a)&&!Jl(t,i))throw new Sn(Ti,"Only one element can be added and only after doctype");if(fr(a)){if(Qi(e,function(s){return fr(s)&&s!==i}))throw new Sn(Ti,"Only one doctype is allowed");if(a=Qi(e,Ji),i&&e.indexOf(a)<e.indexOf(i))throw new Sn(Ti,"Doctype can only be inserted before an element")}}function So(t,a,i,e){if(function ph(t,a,i){if(!(e=t)||e.nodeType!==Ht.DOCUMENT_NODE&&e.nodeType!==Ht.DOCUMENT_FRAGMENT_NODE&&e.nodeType!==Ht.ELEMENT_NODE)throw new Sn(Ti,"Unexpected parent node type "+t.nodeType);var e;if(i&&i.parentNode!==t)throw new Sn(ql,"child not in parent");if(!(i=a)||!(Ji(i)||Su(i)||fr(i)||i.nodeType===Ht.DOCUMENT_FRAGMENT_NODE||i.nodeType===Ht.COMMENT_NODE||i.nodeType===Ht.PROCESSING_INSTRUCTION_NODE)||fr(a)&&t.nodeType!==Ht.DOCUMENT_NODE)throw new Sn(Ti,"Unexpected node type "+a.nodeType+" for parent node type "+t.nodeType)}(t,a,i),t.nodeType===Ht.DOCUMENT_NODE&&(e||fh)(t,a,i),(e=a.parentNode)&&e.removeChild(a),a.nodeType===hr){var n=a.firstChild;if(null==n)return a;var r=a.lastChild}else n=r=a;for(n.previousSibling=e=i?i.previousSibling:t.lastChild,r.nextSibling=i,e?e.nextSibling=n:t.firstChild=n,null==i?t.lastChild=r:i.previousSibling=r;n.parentNode=t,n!==r&&(n=n.nextSibling););return wu(t.ownerDocument||t,t),a.nodeType==hr&&(a.firstChild=a.lastChild=null),a}function Fa(){this._nsMap={}}function xo(){}function Ls(){}function xu(){}function ku(){}function Eu(){}function ko(){}function ec(){}function tc(){}function Cu(){}function Eo(){}function Au(){}function nc(){}function ic(t,a){var i,e=[],n=9==this.nodeType&&this.documentElement||this,r=n.prefix,s=n.namespaceURI;return za(this,e,t,a,i=s&&null==r&&null==(r=n.lookupPrefix(s))?[{namespace:s,prefix:null}]:i),e.join("")}function rc(t,a,i){var e=t.prefix||"",n=t.namespaceURI;if(n&&("xml"!==e||n!==Is.XML)&&n!==Is.XMLNS){for(var r=i.length;r--;){var s=i[r];if(s.prefix===e)return s.namespace!==n}return 1}}function Iu(t,a,i){t.push(" ",a,'="',i.replace(/[<>&"\t\n\r]/g,Kl),'"')}function za(t,a,i,e,n){if(n=n||[],e){if(!(t=e(t)))return;if("string"==typeof t)return void a.push(t)}switch(t.nodeType){case Wi:var D,z,O,r=t.attributes,s=r.length,u=t.firstChild,d=t.tagName,f=d;if(!(i=Is.isHTML(t.namespaceURI)||i)&&!t.prefix&&t.namespaceURI){for(var m,w=0;w<r.length;w++)if("xmlns"===r.item(w).name){m=r.item(w).value;break}if(!m)for(var C=n.length-1;0<=C;C--)if(""===(M=n[C]).prefix&&M.namespace===t.namespaceURI){m=M.namespace;break}var M;if(m!==t.namespaceURI)for(C=n.length-1;0<=C;C--)if((M=n[C]).namespace===t.namespaceURI){M.prefix&&(f=M.prefix+":"+d);break}}a.push("<",f);for(var E=0;E<s;E++)"xmlns"==(D=r.item(E)).prefix?n.push({prefix:D.localName,namespace:D.value}):"xmlns"==D.nodeName&&n.push({prefix:"",namespace:D.value});for(E=0;E<s;E++)rc(D=r.item(E),0,n)&&(Iu(a,(z=D.prefix||"")?"xmlns:"+z:"xmlns",O=D.namespaceURI),n.push({prefix:z,namespace:O})),za(D,a,i,e,n);if(d===f&&rc(t,0,n)&&(Iu(a,(z=t.prefix||"")?"xmlns:"+z:"xmlns",O=t.namespaceURI),n.push({prefix:z,namespace:O})),u||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(d)){if(a.push(">"),i&&/^script$/i.test(d))for(;u;)u.data?a.push(u.data):za(u,a,i,e,n.slice()),u=u.nextSibling;else for(;u;)za(u,a,i,e,n.slice()),u=u.nextSibling;a.push("</",f,">")}else a.push("/>");return;case zl:case hr:for(u=t.firstChild;u;)za(u,a,i,e,n.slice()),u=u.nextSibling;return;case Ba:return Iu(a,t.name,t.value),0;case To:return a.push(t.data.replace(/[<&>]/g,Kl));case Rl:return a.push("<![CDATA[",t.data,"]]>");case Fl:return a.push("\x3c!--",t.data,"--\x3e");case Hl:var W=t.publicId,K=t.systemId;return a.push("<!DOCTYPE ",t.name),void(W?(a.push(" PUBLIC ",W),K&&"."!=K&&a.push(" ",K),a.push(">")):K&&"."!=K?a.push(" SYSTEM ",K,">"):((K=t.internalSubset)&&a.push(" [",K,"]"),a.push(">")));case Ul:return a.push("<?",t.target," ",t.data,"?>");case Bl:return a.push("&",t.nodeName,";");default:a.push("??",t.nodeName)}}function ac(t,a,i){t[a]=i}An.NOT_SUPPORTED_ERR=(Xn[9]="Not supported",9),An.INUSE_ATTRIBUTE_ERR=(Xn[10]="Attribute in use",10),An.INVALID_STATE_ERR=(Xn[11]="Invalid state",11),An.SYNTAX_ERR=(Xn[12]="Syntax error",12),An.INVALID_MODIFICATION_ERR=(Xn[13]="Invalid modification",13),An.NAMESPACE_ERR=(Xn[14]="Invalid namespace",14),An.INVALID_ACCESS_ERR=(Xn[15]="Invalid access",15),Sn.prototype=Error.prototype,Ms(An,Sn),pr.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,a){for(var i=[],e=0;e<this.length;e++)za(this[e],i,t,a);return i.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}},Ua.prototype.item=function(t){return Tu(this),this[t]},_i(Ua,pr),wo.prototype={length:0,item:pr.prototype.item,getNamedItem:function(t){for(var a=this.length;a--;){var i=this[a];if(i.nodeName==t)return i}},setNamedItem:function(t){var a=t.ownerElement;if(a&&a!=this._ownerElement)throw new Sn(10);return a=this.getNamedItem(t.nodeName),Wl(this._ownerElement,this,t,a),a},setNamedItemNS:function(t){var a=t.ownerElement;if(a&&a!=this._ownerElement)throw new Sn(10);return a=this.getNamedItemNS(t.namespaceURI,t.localName),Wl(this._ownerElement,this,t,a),a},removeNamedItem:function(t){return t=this.getNamedItem(t),Gl(this._ownerElement,this,t),t},removeNamedItemNS:function(t,a){return a=this.getNamedItemNS(t,a),Gl(this._ownerElement,this,a),a},getNamedItemNS:function(t,a){for(var i=this.length;i--;){var e=this[i];if(e.localName==a&&e.namespaceURI==t)return e}return null}},Xl.prototype={hasFeature:function(t,a){return!0},createDocument:function(t,a,i){var e=new Os;return e.implementation=this,e.childNodes=new pr,e.doctype=i||null,i&&e.appendChild(i),a&&(a=e.createElementNS(t,a),e.appendChild(a)),e},createDocumentType:function(t,a,i){var e=new ko;return e.name=t,e.nodeName=t,e.publicId=a||"",e.systemId=i||"",e}},Ht.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,a){return So(this,t,a)},replaceChild:function(t,a){So(this,t,a,Zl),a&&this.removeChild(a)},removeChild:function(t){return $l(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function a(i,e,n){var r=new e.constructor;for(var s in e){var u;!Object.prototype.hasOwnProperty.call(e,s)||"object"!=typeof(u=e[s])&&u!=r[s]&&(r[s]=u)}switch(e.childNodes&&(r.childNodes=new pr),r.ownerDocument=i,r.nodeType){case Wi:var d=e.attributes,f=r.attributes=new wo,m=d.length;f._ownerElement=r;for(var w=0;w<m;w++)r.setAttributeNode(a(i,d.item(w),!0));break;case Ba:n=!0}if(n)for(var C=e.firstChild;C;)r.appendChild(a(i,C,n)),C=C.nextSibling;return r}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var a=t.nextSibling;a&&a.nodeType==To&&t.nodeType==To?(this.removeChild(a),t.appendData(a.data)):(t.normalize(),t=a)}},isSupported:function(t,a){return this.ownerDocument.implementation.hasFeature(t,a)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(t){for(var a=this;a;){var i=a._nsMap;if(i)for(var e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&i[e]===t)return e;a=a.nodeType==Ba?a.ownerDocument:a.parentNode}return null},lookupNamespaceURI:function(t){for(var a=this;a;){var i=a._nsMap;if(i&&Object.prototype.hasOwnProperty.call(i,t))return i[t];a=a.nodeType==Ba?a.ownerDocument:a.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},Ms(gn,Ht),Ms(gn,Ht.prototype),Os.prototype={nodeName:"#document",nodeType:zl,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,a){if(t.nodeType!=hr)return So(this,t,a),null===(t.ownerDocument=this).documentElement&&t.nodeType===Wi&&(this.documentElement=t),t;for(var i=t.firstChild;i;){var e=i.nextSibling;this.insertBefore(i,a),i=e}return t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),$l(this,t)},replaceChild:function(t,a){So(this,t,a,Zl),t.ownerDocument=this,a&&this.removeChild(a),Ji(t)&&(this.documentElement=t)},importNode:function(t,a){return function i(e,n,r){var s;switch(n.nodeType){case Wi:(s=n.cloneNode(!1)).ownerDocument=e;case hr:break;case Ba:r=!0}if((s=s||n.cloneNode(!1)).ownerDocument=e,s.parentNode=null,r)for(var u=n.firstChild;u;)s.appendChild(i(e,u,r)),u=u.nextSibling;return s}(this,t,a)},getElementById:function(t){var a=null;return Ps(this.documentElement,function(i){if(i.nodeType==Wi&&i.getAttribute("id")==t)return a=i,!0}),a},getElementsByClassName:function(t){var a=Nl(t);return new Ua(this,function(i){var e=[];return 0<a.length&&Ps(i.documentElement,function(n){var r,s,u;n===i||n.nodeType!==Wi||(r=n.getAttribute("class"))&&((s=t===r)||(r=Nl(r),s=a.every((u=r,function(d){return u&&-1!==u.indexOf(d)}))),s&&e.push(n))}),e})},createElement:function(t){var a=new Fa;return a.ownerDocument=this,a.nodeName=t,a.tagName=t,a.localName=t,a.childNodes=new pr,(a.attributes=new wo)._ownerElement=a},createDocumentFragment:function(){var t=new Eo;return t.ownerDocument=this,t.childNodes=new pr,t},createTextNode:function(t){var a=new xu;return a.ownerDocument=this,a.appendData(t),a},createComment:function(t){var a=new ku;return a.ownerDocument=this,a.appendData(t),a},createCDATASection:function(t){var a=new Eu;return a.ownerDocument=this,a.appendData(t),a},createProcessingInstruction:function(t,a){var i=new Au;return i.ownerDocument=this,i.tagName=i.target=t,i.nodeValue=i.data=a,i},createAttribute:function(t){var a=new xo;return a.ownerDocument=this,a.name=t,a.nodeName=t,a.localName=t,a.specified=!0,a},createEntityReference:function(t){var a=new Cu;return a.ownerDocument=this,a.nodeName=t,a},createElementNS:function(t,a){var i=new Fa,e=a.split(":"),n=i.attributes=new wo;return i.childNodes=new pr,i.ownerDocument=this,i.nodeName=a,i.tagName=a,i.namespaceURI=t,2==e.length?(i.prefix=e[0],i.localName=e[1]):i.localName=a,n._ownerElement=i},createAttributeNS:function(t,a){var i=new xo,e=a.split(":");return i.ownerDocument=this,i.nodeName=a,i.name=a,i.namespaceURI=t,i.specified=!0,2==e.length?(i.prefix=e[0],i.localName=e[1]):i.localName=a,i}},_i(Os,Ht),Os.prototype.getElementsByTagName=(Fa.prototype={nodeType:Wi,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){return(t=this.getAttributeNode(t))&&t.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,a){(t=this.ownerDocument.createAttribute(t)).value=t.nodeValue=""+a,this.setAttributeNode(t)},removeAttribute:function(t){(t=this.getAttributeNode(t))&&this.removeAttributeNode(t)},appendChild:function(t){return t.nodeType===hr?this.insertBefore(t,null):(a=this,t.parentNode&&t.parentNode.removeChild(t),t.parentNode=a,t.previousSibling=a.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:a.firstChild=t,a.lastChild=t,wu(a.ownerDocument,a,t),t);var a},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,a){(a=this.getAttributeNodeNS(t,a))&&this.removeAttributeNode(a)},hasAttributeNS:function(t,a){return null!=this.getAttributeNodeNS(t,a)},getAttributeNS:function(t,a){return(a=this.getAttributeNodeNS(t,a))&&a.value||""},setAttributeNS:function(t,a,i){(a=this.ownerDocument.createAttributeNS(t,a)).value=a.nodeValue=""+i,this.setAttributeNode(a)},getAttributeNodeNS:function(t,a){return this.attributes.getNamedItemNS(t,a)},getElementsByTagName:function(t){return new Ua(this,function(a){var i=[];return Ps(a,function(e){e===a||e.nodeType!=Wi||"*"!==t&&e.tagName!=t||i.push(e)}),i})},getElementsByTagNameNS:function(t,a){return new Ua(this,function(i){var e=[];return Ps(i,function(n){n===i||n.nodeType!==Wi||"*"!==t&&n.namespaceURI!==t||"*"!==a&&n.localName!=a||e.push(n)}),e})}}).getElementsByTagName,Os.prototype.getElementsByTagNameNS=Fa.prototype.getElementsByTagNameNS,_i(Fa,Ht),xo.prototype.nodeType=Ba,_i(xo,Ht),Ls.prototype={data:"",substringData:function(t,a){return this.data.substring(t,t+a)},appendData:function(t){this.nodeValue=this.data=t=this.data+t,this.length=t.length},insertData:function(t,a){this.replaceData(t,0,a)},appendChild:function(t){throw new Error(Xn[Ti])},deleteData:function(t,a){this.replaceData(t,a,"")},replaceData:function(t,n,i){var e=this.data.substring(0,t);n=this.data.substring(t+n),this.nodeValue=this.data=i=e+i+n,this.length=i.length}},_i(Ls,Ht),xu.prototype={nodeName:"#text",nodeType:To,splitText:function(t){var a=(i=this.data).substring(t),i=i.substring(0,t);return this.data=this.nodeValue=i,this.length=i.length,a=this.ownerDocument.createTextNode(a),this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling),a}},_i(xu,Ls),ku.prototype={nodeName:"#comment",nodeType:Fl},_i(ku,Ls),Eu.prototype={nodeName:"#cdata-section",nodeType:Rl},_i(Eu,Ls),ko.prototype.nodeType=Hl,_i(ko,Ht),ec.prototype.nodeType=12,_i(ec,Ht),tc.prototype.nodeType=6,_i(tc,Ht),Cu.prototype.nodeType=Bl,_i(Cu,Ht),Eo.prototype.nodeName="#document-fragment",Eo.prototype.nodeType=hr,_i(Eo,Ht),Au.prototype.nodeType=Ul,_i(Au,Ht),nc.prototype.serializeToString=function(t,a,i){return ic.call(t,a,i)},Ht.prototype.toString=ic;try{Object.defineProperty&&(jl=function t(a){switch(a.nodeType){case Wi:case hr:var i=[];for(a=a.firstChild;a;)7!==a.nodeType&&8!==a.nodeType&&i.push(t(a)),a=a.nextSibling;return i.join("");default:return a.nodeValue}},Object.defineProperty(Ua.prototype,"length",{get:function(){return Tu(this),this.$$length}}),Object.defineProperty(Ht.prototype,"textContent",{get:function(){return jl(this)},set:function(t){switch(this.nodeType){case Wi:case hr:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),ac=function(t,a,i){t["$$"+a]=i})}catch{}mr={DocumentType:ko,DOMException:Sn,DOMImplementation:Xl,Element:Fa,Node:Ht,NodeList:pr,XMLSerializer:nc};var Ds=it(function(t,a){var i=As.freeze;a.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),a.HTML_ENTITIES=i({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),a.entityMap=a.HTML_ENTITIES}),Ns=As.NAMESPACE,sc=(Hi=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ji=new RegExp("[\\-\\.0-9"+Hi.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),new RegExp("^"+Hi.source+ji.source+"*(?::"+Hi.source+ji.source+"*)?$"));function Fs(t,a){this.message=t,this.locator=a,Error.captureStackTrace&&Error.captureStackTrace(this,Fs)}function oc(){}function uc(t,a){return a.lineNumber=t.lineNumber,a.columnNumber=t.columnNumber,a}function lc(t,a,i){for(var e=t.tagName,n=null,r=t.length;r--;){var s=t[r],u=s.value,d=0<(m=(d=s.qName).indexOf(":"))?(f=s.prefix=d.slice(0,m),w=d.slice(m+1),"xmlns"===f&&w):(f=null,"xmlns"===(w=d)&&"");s.localName=w,!1!==d&&(null==n&&(n={},cc(i,i={})),i[d]=n[d]=u,s.uri=Ns.XMLNS,a.startPrefixMapping(d,u))}var f;for(r=t.length;r--;)(f=(s=t[r]).prefix)&&("xml"===f&&(s.uri=Ns.XML),"xmlns"!==f&&(s.uri=i[f||""]));var m,w=0<(m=e.indexOf(":"))?(f=t.prefix=e.slice(0,m),t.localName=e.slice(m+1)):(f=null,t.localName=e),C=t.uri=i[f||""];if(a.startElement(C,w,e,t),!t.closed)return t.currentNSMap=i,t.localNSMap=n,1;if(a.endElement(C,w,e),n)for(f in n)Object.prototype.hasOwnProperty.call(n,f)&&a.endPrefixMapping(f)}function cc(t,a){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i])}function dc(){this.attributeNames={}}(Fs.prototype=new Error).name=Fs.name,oc.prototype={parse:function(t,a,i){var e=this.domBuilder;e.startDocument(),cc(a,a={}),function(n,r,s,u,d){function f(Ee){var ye=Ee.slice(1,-1);return Object.hasOwnProperty.call(s,ye)?s[ye]:"#"===ye.charAt(0)?65535<(ye=parseInt(ye.substr(1).replace("x","0x")))?(ye-=65536,String.fromCharCode(55296+(ye>>10),56320+(1023&ye))):String.fromCharCode(ye):(d.error("entity not found:"+Ee),Ee)}function m(Ee){var ye;W<Ee&&(ye=n.substring(W,Ee).replace(/&#?\w+;/g,f),D&&w(W),u.characters(ye,0,Ee-W),W=Ee)}function w(Ee,ye){for(;M<=Ee&&(ye=E.exec(n));)M=(C=ye.index)+ye[0].length,D.lineNumber++;D.columnNumber=Ee-C+1}for(var C=0,M=0,E=/.*(?:\r\n?|\n)|.*$/g,D=u.locator,z=[{currentNSMap:r}],O={},W=0;;){try{var K,Y,ee=n.indexOf("<",W);if(ee<0)return n.substr(W).match(/^\s*$/)||(Y=(K=u.doc).createTextNode(n.substr(W)),K.appendChild(Y),u.currentElement=Y);switch(W<ee&&m(ee),n.charAt(ee+1)){case"/":var tt=n.indexOf(">",ee+3),ce=n.substring(ee+2,tt).replace(/[ \t\n\r]+$/g,""),pe=z.pop();tt<0?(ce=n.substring(ee+2).replace(/[\s<].*/,""),d.error("end tag name: "+ce+" is not complete:"+pe.tagName),tt=ee+1+ce.length):ce.match(/\s</)&&(ce=ce.replace(/[\s<].*/,""),d.error("end tag name: "+ce+" maybe not complete"),tt=ee+1+ce.length);var Me=pe.localNSMap,ke=pe.tagName==ce;if(ke||pe.tagName&&pe.tagName.toLowerCase()==ce.toLowerCase()){if(u.endElement(pe.uri,pe.localName,ce),Me)for(var je in Me)Object.prototype.hasOwnProperty.call(Me,je)&&u.endPrefixMapping(je);ke||d.fatalError("end tag name: "+ce+" is not match the current start tagName:"+pe.tagName)}else z.push(pe);tt++;break;case"?":D&&w(ee),St=u,void 0,tt=(nt=(Ee=n).indexOf("?>",ye=ee))&&(ye=Ee.substring(ye,nt).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/))?(St.processingInstruction(ye[1],ye[2]),nt+2):-1;break;case"!":D&&w(ee),tt=function(Ee,ye,St,nt){if("-"===Ee.charAt(ye+2)){if("-"!==Ee.charAt(ye+3))return-1;var kn=Ee.indexOf("--\x3e",ye+4);return ye<kn?(St.comment(Ee,ye+4,kn-ye-4),kn+3):(nt.error("Unclosed comment"),-1)}if("CDATA["==Ee.substr(ye+3,6))return kn=Ee.indexOf("]]>",ye+9),St.startCDATA(),St.characters(Ee,ye+9,kn-ye-9),St.endCDATA(),kn+3;var sn=function(In,qe){var zt,Ii=[],un=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(un.lastIndex=qe,un.exec(In);zt=un.exec(In);)if(Ii.push(zt),zt[1])return Ii}(Ee,ye);return 1<(nt=sn.length)&&/!doctype/i.test(sn[0][0])?(kn=sn[1][0],Ee=!1,ye=!1,3<nt&&(/^public$/i.test(sn[2][0])?(Ee=sn[3][0],ye=4<nt&&sn[4][0]):/^system$/i.test(sn[2][0])&&(ye=sn[3][0])),nt=sn[nt-1],St.startDTD(kn,Ee,ye),St.endDTD(),nt.index+nt[0].length):-1}(n,ee,u,d);break;default:D&&w(ee);var Ne=new dc,Ot=z[z.length-1].currentNSMap,qt=(tt=function(Ee,ye,St,nt,kn,sn){function vr(es,ul,ll){St.attributeNames.hasOwnProperty(es)&&sn.fatalError("Attribute "+es+" redefined"),St.addValue(es,ul.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,kn),ll)}for(var In,qe=++ye,zt=0;;){var Ii=Ee.charAt(qe);switch(Ii){case"=":if(1===zt)In=Ee.slice(ye,qe),zt=3;else{if(2!==zt)throw new Error("attribute equal must after attrName");zt=3}break;case"'":case'"':if(3===zt||1===zt){if(1===zt&&(sn.warning('attribute value must after "="'),In=Ee.slice(ye,qe)),!(0<(qe=Ee.indexOf(Ii,ye=qe+1))))throw new Error("attribute value no end '"+Ii+"' match");vr(In,un=Ee.slice(ye,qe),ye-1),zt=5}else{if(4!=zt)throw new Error('attribute value must after "="');vr(In,un=Ee.slice(ye,qe),ye),sn.warning('attribute "'+In+'" missed start quot('+Ii+")!!"),ye=qe+1,zt=5}break;case"/":switch(zt){case 0:St.setTagName(Ee.slice(ye,qe));case 5:case 6:case 7:zt=7,St.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return sn.error("unexpected end of input"),0==zt&&St.setTagName(Ee.slice(ye,qe)),qe;case">":switch(zt){case 0:St.setTagName(Ee.slice(ye,qe));case 5:case 6:case 7:break;case 4:case 1:"/"===(un=Ee.slice(ye,qe)).slice(-1)&&(St.closed=!0,un=un.slice(0,-1));case 2:2===zt&&(un=In),4==zt?(sn.warning('attribute "'+un+'" missed quot(")!'),vr(In,un,ye)):(Ns.isHTML(nt[""])&&un.match(/^(?:disabled|checked|selected)$/i)||sn.warning('attribute "'+un+'" missed value!! "'+un+'" instead!!'),vr(un,un,ye));break;case 3:throw new Error("attribute value missed!!")}return qe;case"\x80":Ii=" ";default:if(Ii<=" ")switch(zt){case 0:St.setTagName(Ee.slice(ye,qe)),zt=6;break;case 1:In=Ee.slice(ye,qe),zt=2;break;case 4:var un=Ee.slice(ye,qe);sn.warning('attribute "'+un+'" missed quot(")!!'),vr(In,un,ye);case 5:zt=6}else switch(zt){case 2:Ns.isHTML(nt[""])&&In.match(/^(?:disabled|checked|selected)$/i)||sn.warning('attribute "'+In+'" missed value!! "'+In+'" instead2!!'),vr(In,In,ye),ye=qe,zt=1;break;case 5:sn.warning('attribute space is required"'+In+'"!!');case 6:zt=1,ye=qe;break;case 3:zt=4,ye=qe;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}qe++}}(n,ee,Ne,Ot,f,d),Ne.length);if(!Ne.closed&&function(Ee,ye,St,nt){var kn=nt[St];return null==kn&&((kn=Ee.lastIndexOf("</"+St+">"))<ye&&(kn=Ee.lastIndexOf("</"+St)),nt[St]=kn),kn<ye}(n,tt,Ne.tagName,O)&&(Ne.closed=!0,s.nbsp||d.warning("unclosed xml attribute")),D&&qt){for(var Lt=uc(D,{}),vt=0;vt<qt;vt++){var fi=Ne[vt];w(fi.offset),fi.locator=uc(D,{})}u.locator=Lt,lc(Ne,u,Ot)&&z.push(Ne),u.locator=D}else lc(Ne,u,Ot)&&z.push(Ne);Ns.isHTML(Ne.uri)&&!Ne.closed?tt=function(Ee,ye,St,nt,kn){if(/^(?:script|textarea)$/i.test(St)){var sn=Ee.indexOf("</"+St+">",ye);if(Ee=Ee.substring(ye+1,sn),/[&<]/.test(Ee))return/^script$/i.test(St)||(Ee=Ee.replace(/&#?\w+;/g,nt)),kn.characters(Ee,0,Ee.length),sn}return ye+1}(n,tt,Ne.tagName,f,u):tt++}}catch(Ee){if(Ee instanceof Fs)throw Ee;d.error("element parse error: "+Ee),tt=-1}W<tt?W=tt:m(Math.max(ee,W)+1)}var Ee,ye,St,nt}(t,a,i,e,this.errorHandler),e.endDocument()}},dc.prototype={setTagName:function(t){if(!sc.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,a,i){if(!sc.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:a,offset:i}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};var mh=mr.DOMImplementation,hc=As.NAMESPACE,gh=(qi={XMLReader:oc,ParseError:Fs}).ParseError,yh=qi.XMLReader;function pc(t){return t.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function fc(t){this.options=t||{locator:{}}}function zs(){this.cdata=!1}function Va(t,a){a.lineNumber=t.lineNumber,a.columnNumber=t.columnNumber}function mc(t,a,i){return"string"==typeof t?t.substr(a,i):t.length>=a+i||a?new java.lang.String(t,a,i)+"":t}function Ao(t,a){(t.currentElement||t.doc).appendChild(a)}function gc(t){return!!t&&"object"==typeof t}function ii(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return a.reduce(function(e,n){return"object"!=typeof n||Object.keys(n).forEach(function(r){e[r]=Array.isArray(e[r])&&Array.isArray(n[r])?e[r].concat(n[r]):gc(e[r])&&gc(n[r])?ii(e[r],n[r]):n[r]}),e},{})}function yc(t){return Object.keys(t).map(function(a){return t[a]})}function Io(t){return t.reduce(function(a,i){return a.concat(i)},[])}function vc(t){if(!t.length)return[];for(var a=[],i=0;i<t.length;i++)a.push(t[i]);return a}function Mu(t,a){for(var i=0;i<t.length;i++)if(a(t[i]))return i;return-1}function Hs(e){var a=e.baseUrl,n=void 0===(i=e.source)?"":i,i=void 0===(i=e.range)?"":i;return e=void 0===(e=e.indexRange)?"":e,n={uri:n,resolvedUri:on((void 0===a?"":a)||"",n)},(i||e)&&(i=(i||e).split("-"),e=window.BigInt?window.BigInt(i[0]):parseInt(i[0],10),i=window.BigInt?window.BigInt(i[1]):parseInt(i[1],10),e<Number.MAX_SAFE_INTEGER&&"bigint"==typeof e&&(e=Number(e)),"bigint"==typeof(i="bigint"==typeof(i=i<Number.MAX_SAFE_INTEGER&&"bigint"==typeof i?Number(i):i)||"bigint"==typeof e?window.BigInt(i)-window.BigInt(e)+window.BigInt(1):i-e+1)&&i<Number.MAX_SAFE_INTEGER&&(i=Number(i)),n.byterange={length:i,offset:e}),n}function bc(t){return t&&"number"!=typeof t&&(t=parseInt(t,10)),isNaN(t)?null:t}function Pu(d){var a,i=d.type,e=d.duration,n=d.timescale,r=void 0===n?1:n,s=d.periodDuration,u=d.sourceDuration;return d=function(f,m){for(var w=[],C=f;C<m;C++)w.push(C);return w}((n=zh[i](d)).start,n.end).map((a=d,function(f){var m=a.duration,w=a.timescale,M=a.startNumber;return{number:(void 0===M?1:M)+f,duration:m/(void 0===w?1:w),timeline:a.periodStart,time:f*m}})),"static"===i&&(d[i=d.length-1].duration=("number"==typeof s?s:u)-e/r*i),d}function _c(t){var a=t.baseUrl,i=void 0===(d=t.initialization)?{}:d,e=t.sourceDuration,n=void 0===(u=t.indexRange)?"":u,r=t.periodStart,s=t.presentationTime,u=void 0===(d=t.number)?0:d,d=t.duration;if(!a)throw new Error(Bh);return i=Hs({baseUrl:a,source:i.sourceURL,range:i.range}),(n=Hs({baseUrl:a,source:a,indexRange:n})).map=i,d?(t=Pu(t)).length&&(n.duration=t[0].duration,n.timeline=t[0].timeline):e&&(n.duration=e,n.timeline=r),n.presentationTime=s||r,n.number=u,[n]}function Ou(t,a,i){for(var e=t.sidx.map||null,n=t.sidx.duration,r=t.timeline||0,s=(s=t.sidx.byterange).offset+s.length,u=a.timescale,d=a.references.filter(function(K){return 1!==K.referenceType}),f=[],m=t.endList?"static":"dynamic",w=t.sidx.timeline,C=w,M=t.mediaSequence||0,E="bigint"==typeof a.firstOffset?window.BigInt(s)+a.firstOffset:s+a.firstOffset,D=0;D<d.length;D++){var z=(W=a.references[D]).referencedSize,O=W.subsegmentDuration,W=void 0;W=_c({baseUrl:i,timescale:u,timeline:r,periodStart:w,presentationTime:C,number:M,duration:O,sourceDuration:n,indexRange:E+"-"+(W="bigint"==typeof E?E+window.BigInt(z)-window.BigInt(1):E+z-1),type:m})[0],e&&(W.map=e),f.push(W),E+="bigint"==typeof E?window.BigInt(z):z,C+=O/u,M++}return t.segments=f,t}function Tc(t){return a=function(i){return i.timeline},yc(t.reduce(function(i,e){return e.forEach(function(n){i[a(n)]=n}),i},{})).sort(function(i,e){return i.timeline>e.timeline?1:-1});var a}function wc(t){var a,i,e=[];return a=t,i=function(n,r,s,u){e=e.concat(n.playlists||[])},Hh.forEach(function(n){for(var r in a.mediaGroups[n])for(var s in a.mediaGroups[n][r])i(a.mediaGroups[n][r][s])}),e}function Sc(i){var a=i.playlist;a.mediaSequence=i=i.mediaSequence,a.segments.forEach(function(e,n){e.number=a.mediaSequence+n})}function Mo(t){return t&&t.uri+"-"+(t="bigint"==typeof(a=t.byterange).offset||"bigint"==typeof a.length?window.BigInt(a.offset)+window.BigInt(a.length)-window.BigInt(1):a.offset+a.length-1,a.offset+"-"+t);var a}function Lu(t){return yc(t.reduce(function(a,i){var e,n=i.attributes.id+(i.attributes.lang||"");return a[n]?(i.segments&&(i.segments[0]&&(i.segments[0].discontinuity=!0),(e=a[n].segments).push.apply(e,i.segments)),i.attributes.contentProtection&&(a[n].attributes.contentProtection=i.attributes.contentProtection)):(a[n]=i,a[n].attributes.timelineStarts=[]),a[n].attributes.timelineStarts.push({start:i.attributes.periodStart,timeline:i.attributes.periodStart}),a},{})).map(function(a){return a.discontinuityStarts=(a.segments||[]).reduce(function(n,r,s){return r.discontinuity&&n.push(s),n},[]),a})}function Du(t,a){var i=Mo(t.sidx);return(i=i&&a[i]&&a[i].sidx)&&Ou(t,i,t.sidx.resolvedUri),t}function Th(t){var a=t.attributes,n=t.segments,i=t.sidx,e=t.discontinuityStarts;return n={attributes:((t={NAME:a.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:a.width,height:a.height},CODECS:a.codecs,BANDWIDTH:a.bandwidth})["PROGRAM-ID"]=1,t),uri:"",endList:"static"===a.type,timeline:a.periodStart,resolvedUri:"",targetDuration:a.duration,discontinuityStarts:e,timelineStarts:a.timelineStarts,segments:n},a.frameRate&&(n.attributes["FRAME-RATE"]=a.frameRate),a.contentProtection&&(n.contentProtection=a.contentProtection),i&&(n.sidx=i),n}function wh(t){return"video/mp4"===(t=t.attributes).mimeType||"video/webm"===t.mimeType||"video"===t.contentType}function Sh(t){return"audio/mp4"===(t=t.attributes).mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType}function xh(t){return"text/vtt"===(t=t.attributes).mimeType||"text"===t.contentType}function xc(t){return t?Object.keys(t).reduce(function(a,i){return a.concat((i=t[i]).playlists)},[]):[]}function kc(t,a){for(var n,r,s,u,d=t.type,f=t.minimumUpdatePeriod,m=void 0===f?0:f,w=void 0===(f=t.media)?"":f,C=t.sourceDuration,M=void 0===(f=t.timescale)?1:f,E=void 0===(f=t.startNumber)?1:f,D=t.periodStart,z=[],O=-1,W=0;W<a.length;W++){var pe,Me,K=a[W],Y=K.d,ee=K.r||0,ce=K.t||0;O<0&&(O=ce),ce&&O<ce&&(O=ce),Me=ee<0?(pe=W+1)===a.length?"dynamic"===d&&0<m&&0<w.indexOf("$Number$")?(K=void 0,n=(ce=t).NOW,r=ce.clientOffset,s=ce.availabilityStartTime,u=ce.timescale,K=ce.periodStart,ce=ce.minimumUpdatePeriod,Math.ceil((((n+r)/1e3+(void 0===ce?0:ce)-(s+(void 0===K?0:K)))*(void 0===u?1:u)-O)/Y)):(C*M-O)/Y:(a[pe].t-O)/Y:ee+1;for(var ke=E+z.length+Me,je=E+z.length;je<ke;)z.push({number:je,duration:Y/M,time:O,timeline:D}),O+=Y,je++}return z}function Ec(t,a){return t.replace(qh,(i=a,function(e,n,r,s){return"$$"===e?"$":typeof i[n]>"u"?e:(e=""+i[n],"RepresentationID"===n||(s=r?parseInt(s,10):1)<=e.length?e:new Array(s-e.length+1).join("0")+e)}));var i}function Eh(t,a){var i={RepresentationID:t.id,Bandwidth:t.bandwidth||0},e=void 0===(e=t.initialization)?{sourceURL:"",range:""}:e,n=Hs({baseUrl:t.baseUrl,source:Ec(e.sourceURL,i),range:e.range});return(e=a,(a=t).duration||e?a.duration?Pu(a):kc(a,e):[{number:a.startNumber||1,duration:a.sourceDuration,time:0,timeline:a.periodStart}]).map(function(r){i.Number=r.number,i.Time=r.time;var s=Ec(t.media||"",i),d=t.periodStart+(r.time-(t.presentationTimeOffset||0))/(d=t.timescale||1);return{uri:s,timeline:r.timeline,duration:r.duration,resolvedUri:on(t.baseUrl||"",s),map:n,number:r.number,presentationTime:d}})}function Ch(t,a){var i=t.duration,e=void 0===(e=t.segmentUrls)?[]:e,n=t.periodStart;if(!i&&!a||i&&a)throw new Error(Uh);var r,s=e.map(function(u){return f=u,u=(d=t).baseUrl,d=Hs({baseUrl:u,source:(d=void 0===(d=d.initialization)?{}:d).sourceURL,range:d.range}),(f=Hs({baseUrl:u,source:f.media,range:f.mediaRange})).map=d,f;var d,f});return i&&(r=Pu(t)),(r=a?kc(t,a):r).map(function(u,d){if(s[d]){var f=s[d],m=t.timescale||1;return d=t.presentationTimeOffset||0,f.timeline=u.timeline,f.duration=u.duration,f.number=u.number,f.presentationTime=n+(u.time-d)/m,f}}).filter(function(u){return u})}function Ah(s){var a,i=s.attributes,e=s.segmentInfo;e.template?(r=Eh,a=ii(i,e.template)):e.base?(r=_c,a=ii(i,e.base)):e.list&&(r=Ch,a=ii(i,e.list));var r,n={attributes:i};return r?(s=r(a,e.segmentTimeline),a.duration=a.duration?(i=a.duration)/(void 0===(r=a.timescale)?1:r):s.length?s.reduce(function(u,d){return Math.max(u,Math.ceil(d.duration))},0):0,n.attributes=a,n.segments=s,e.base&&a.indexRange&&(n.sidx=s[0],n.segments=[]),n):n}function xn(t,a){return vc(t.childNodes).filter(function(i){return i.tagName===a})}function Nu(t){return t.textContent.trim()}function Wa(n){if(!(r=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(n)))return 0;var a=(s=r.slice(1))[0],i=s[1],e=s[2],r=(n=s[3],s[4]),s=s[5];return 31536e3*parseFloat(a||0)+2592e3*parseFloat(i||0)+86400*parseFloat(e||0)+3600*parseFloat(n||0)+60*parseFloat(r||0)+parseFloat(s||0)}function ri(t){return t&&t.attributes?vc(t.attributes).reduce(function(a,i){return a[i.name]=(Oc[i.name]||Oc.DEFAULT)(i.value),a},{}):{}}function Po(t,a){return a.length?Io(t.map(function(i){return a.map(function(e){return on(i,Nu(e))})})):t}function Ru(r){var a=xn(r,"SegmentTemplate")[0],i=xn(r,"SegmentList")[0],e=i&&xn(i,"SegmentURL").map(function(d){return ii({tag:"SegmentURL"},ri(d))}),n=xn(r,"SegmentBase")[0],s=(r=(s=i||a)&&xn(s,"SegmentTimeline")[0],(s=i||n||a)&&xn(s,"Initialization")[0]);(a=a&&ri(a))&&s?a.initialization=s&&ri(s):a&&a.initialization&&(a.initialization={sourceURL:a.initialization});var u={template:a,segmentTimeline:r&&xn(r,"S").map(ri),list:i&&ii(ri(i),{segmentUrls:e,initialization:ri(s)}),base:n&&ii(ri(n),{initialization:ri(s)})};return Object.keys(u).forEach(function(d){u[d]||delete u[d]}),u}function Cc(t){if(""===t)throw new Error(Nh);var a,i,e=new Lh;try{i=(a=e.parseFromString(t,"application/xml"))&&"MPD"===a.documentElement.tagName?a.documentElement:null}catch{}if(!i||i&&0<i.getElementsByTagName("parsererror").length)throw new Error(Rh);return i}function Ph(e,a){void 0===a&&(a={});var i=function Mh(d,n){var i=n=void 0===n?{}:n,e=void 0===(s=i.manifestUri)?"":s,r=(n=void 0===(r=i.NOW)?Date.now():r,void 0===(s=i.clientOffset)?0:s);if(!(i=xn(d,"Period")).length)throw new Error(Dh);var s=xn(d,"Location"),u=ri(d);d=Po([e],xn(d,"BaseURL")),u.type=u.type||"static",u.sourceDuration=u.mediaPresentationDuration||0,u.NOW=n,u.clientOffset=r,s.length&&(u.locations=s.map(Nu));var f,m,w=[];return i.forEach(function(C,M){var E,D=ri(C),z=w[M-1];D.start=(M=(E={attributes:D,priorPeriodAttributes:z?z.attributes:null,mpdType:u.type}).attributes,z=E.priorPeriodAttributes,E=E.mpdType,"number"==typeof M.start?M.start:z&&"number"==typeof z.start&&"number"==typeof z.duration?z.start+z.duration:z||"static"!==E?null:0),w.push({node:C,attributes:D})}),{locations:u.locations,representationInfo:Io(w.map((f=u,m=d,function(O,M){var E=Po(m,xn(O.node,"BaseURL")),D=ii(f,{periodStart:O.attributes.start});"number"==typeof O.attributes.duration&&(D.periodDuration=O.attributes.duration);var z=xn(O.node,"AdaptationSet");return O=Ru(O.node),Io(z.map(function Ih(t,a,i){return function(m){var r=ri(m),n=Po(a,xn(m,"BaseURL")),s={role:ri(s=xn(m,"Role")[0])};r=ii(t,r,s),(s="urn:scte:dash:cc:cea-608:2015"===(s=ri(s=xn(m,"Accessibility")[0])).schemeIdUri?("string"!=typeof s.value?[]:s.value.split(";")).map(function(C){var M,E,D;return/^CC\d=/.test(D=C)?(E=(M=C.split("="))[0],D=M[1]):/^CC\d$/.test(C)&&(E=C),{channel:E,language:D}}):"urn:scte:dash:cc:cea-708:2015"===s.schemeIdUri?("string"!=typeof s.value?[]:s.value.split(";")).map(function(C){var M,E,D={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};return/=/.test(C)?(M=(E=C.split("="))[0],E=void 0===(E=E[1])?"":E,D.channel=M,D.language=C,E.split(",").forEach(function(O){O=(W=O.split(":"))[0];var W=W[1];"lang"===O?D.language=W:"er"===O?D.easyReader=Number(W):"war"===O?D.aspectRatio=Number(W):"3D"===O&&(D["3D"]=Number(W))})):D.language=C,D.channel&&(D.channel="SERVICE"+D.channel),D}):void 0)&&(r=ii(r,{captionServices:s})),(s=xn(m,"Label")[0])&&s.childNodes.length&&(r=ii(r,{label:w=s.childNodes[0].nodeValue.trim()}));var u,d,f,w=xn(m,"ContentProtection").reduce(function(C,M){var E=ri(M);E.schemeIdUri&&(E.schemeIdUri=E.schemeIdUri.toLowerCase());var D=jh[E.schemeIdUri];return D&&(C[D]={attributes:E},(M=xn(M,"cenc:pssh")[0])&&(M=Nu(M),C[D].pssh=M&&function ch(t){for(var a=window.atob?window.atob(t):Buffer.from(t,"base64").toString("binary"),i=new Uint8Array(a.length),e=0;e<a.length;e++)i[e]=a.charCodeAt(e);return i}(M))),C},{});return Object.keys(w).length&&(r=ii(r,{contentProtection:w})),w=Ru(m),m=xn(m,"Representation"),w=ii(i,w),Io(m.map((u=r,d=n,f=w,function(C){var M=xn(C,"BaseURL"),E=(M=Po(d,M),ii(u,ri(C))),D=Ru(C);return M.map(function(z){return{segmentInfo:ii(f,D),attributes:ii(E,{baseUrl:z})}})})))}}(D,E,O)))})))}}(Cc(e),a);return function kh(u){var a=u.dashPlaylists,i=u.locations,M=void 0===(s=u.sidxMapping)?{}:s,e=u.previousManifest;if(!a.length)return{};var m,w,f=(d=a[0].attributes).sourceDuration,n=d.type,C=d.suggestedPresentationDelay,r=d.minimumUpdatePeriod,E=Lu(a.filter(wh)).map(Th),s=Lu(a.filter(Sh)),d=(u=Lu(a.filter(xh)),a.map(function(D){return D.attributes.captionServices}).filter(Boolean));return f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:((a={AUDIO:{},VIDEO:{}})["CLOSED-CAPTIONS"]={},a.SUBTITLES={},a),uri:"",duration:f,playlists:function(D,z){if(void 0===z&&(z={}),!Object.keys(z).length)return D;for(var O in D)D[O]=Du(D[O],z);return D}(E,M)},0<=r&&(f.minimumUpdatePeriod=1e3*r),i&&(f.locations=i),"dynamic"===n&&(f.suggestedPresentationDelay=C),C=0===f.playlists.length,C=s.length?function _h(t,a,i){var e;return void 0===a&&(a={}),void 0===i&&(i=!1),t=t.reduce(function(n,r){var s=r.attributes.role&&r.attributes.role.value||"",u=r.attributes.lang||"",d=r.attributes.label||"main";n[d=u&&!r.attributes.label?r.attributes.lang+(s?" ("+s+")":""):d]||(n[d]={language:u,autoselect:!0,default:"main"===s,playlists:[],uri:""});var f,m,w,C,M,E,D=Du((m=i,w=(f=r).attributes,D=f.segments,C=f.sidx,M=f.mediaSequence,E=f.discontinuitySequence,u=f.discontinuityStarts,D={attributes:((f={NAME:w.id,BANDWIDTH:w.bandwidth,CODECS:w.codecs})["PROGRAM-ID"]=1,f),uri:"",endList:"static"===w.type,timeline:w.periodStart,resolvedUri:"",targetDuration:w.duration,discontinuitySequence:E,discontinuityStarts:u,timelineStarts:w.timelineStarts,mediaSequence:M,segments:D},w.contentProtection&&(D.contentProtection=w.contentProtection),C&&(D.sidx=C),m&&(D.attributes.AUDIO="audio",D.attributes.SUBTITLES="subs"),D),a);return n[d].playlists.push(D),typeof e>"u"&&"main"===s&&((e=r).default=!0),n},{}),e||(t[Object.keys(t)[0]].default=!0),t}(s,M,C):null,M=u.length?(void 0===(m=M)&&(m={}),u.reduce(function(D,z){var W,K,Y,ee,ce,pe,O=z.attributes.lang||"text";return D[O]||(D[O]={language:O,default:!1,autoselect:!1,playlists:[],uri:""}),D[O].playlists.push(Du((K=(W=z).attributes,ee=W.mediaSequence,ce=W.discontinuityStarts,pe=W.discontinuitySequence,typeof(Y=W.segments)>"u"&&(Y=[{uri:K.baseUrl,timeline:K.periodStart,resolvedUri:K.baseUrl||"",duration:K.sourceDuration,number:0}],K.duration=K.sourceDuration),(W={NAME:K.id,BANDWIDTH:K.bandwidth})["PROGRAM-ID"]=1,K.codecs&&(W.CODECS=K.codecs),{attributes:W,uri:"",endList:"static"===K.type,timeline:K.periodStart,resolvedUri:K.baseUrl||"",targetDuration:K.duration,timelineStarts:K.timelineStarts,discontinuityStarts:ce,discontinuitySequence:pe,mediaSequence:ee,segments:Y}),m)),D},{})):null,E=(u=E.concat(xc(C),xc(M))).map(function(D){return D.timelineStarts}),f.timelineStarts=Tc(E),w=f.timelineStarts,u.forEach(function(D){D.mediaSequence=0,D.discontinuitySequence=Mu(w,function(z){return z.timeline===D.timeline}),D.segments&&D.segments.forEach(function(z,O){z.number=O})}),C&&(f.mediaGroups.AUDIO.audio=C),M&&(f.mediaGroups.SUBTITLES.subs=M),d.length&&(f.mediaGroups["CLOSED-CAPTIONS"].cc=d.reduce(function(D,z){return z&&z.forEach(function(O){var K=O.language;D[K]={autoselect:!1,default:!1,instreamId:O.channel,language:K},O.hasOwnProperty("aspectRatio")&&(D[K].aspectRatio=O.aspectRatio),O.hasOwnProperty("easyReader")&&(D[K].easyReader=O.easyReader),O.hasOwnProperty("3D")&&(D[K]["3D"]=O["3D"])}),D},{})),e?function bh(s){var a,i,e=s.oldManifest,n=s.newManifest,r=e.playlists.concat(wc(e));return s=n.playlists.concat(wc(n)),n.timelineStarts=Tc([e.timelineStarts,n.timelineStarts]),a=(r={oldPlaylists:r,newPlaylists:s,timelineStarts:n.timelineStarts}).oldPlaylists,i=r.timelineStarts,(s=r.newPlaylists).forEach(function(u){u.discontinuitySequence=Mu(i,function(w){return w.timeline===u.timeline});var d=function(w,C){for(var M=0;M<w.length;M++)if(w[M].attributes.NAME===C)return w[M];return null}(a,u.attributes.NAME);if(d&&!u.sidx){var f=u.segments[0],m=Mu(d.segments,function(w){return Math.abs(w.presentationTime-f.presentationTime)<1/60});if(-1===m)return Sc({playlist:u,mediaSequence:d.mediaSequence+d.segments.length}),u.segments[0].discontinuity=!0,u.discontinuityStarts.unshift(0),void((!d.segments.length&&u.timeline>d.timeline||d.segments.length&&u.timeline>d.segments[d.segments.length-1].timeline)&&u.discontinuitySequence--);d.segments[m].discontinuity&&!f.discontinuity&&(f.discontinuity=!0,u.discontinuityStarts.unshift(0),u.discontinuitySequence--),Sc({playlist:u,mediaSequence:d.segments[m].number})}}),n}({oldManifest:e,newManifest:f}):f}({dashPlaylists:e=i.representationInfo.map(Ah),locations:i.locations,sidxMapping:a.sidxMapping,previousManifest:a.previousManifest})}function Ga(t,a){return void 0===a&&(a=0),(t=Le(t)).length-a<10||!Xe(t,Gh,{offset:a})?a:Ga(t,a+=function(i,r){void 0===r&&(r=0);var n=(i=Le(i))[r+5];return r=i[r+6]<<21|i[r+7]<<14|i[r+8]<<7|i[r+9],(16&n)>>4?20+r:10+r}(t,a))}function Ac(t){return"string"==typeof t?ot(t):t}function Ic(t,a,i){var e;void 0===i&&(i=!1),e=a,a=Array.isArray(e)?e.map(Ac):[Ac(e)],t=Le(t);var n=[];if(!a.length)return n;for(var r=0;r<t.length;){var s=(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3])>>>0,u=t.subarray(r+4,r+8);if(0==s)break;var d=r+s;if(d>t.length){if(i)break;d=t.length}s=t.subarray(r+8,d),Xe(u,a[0])&&(1===a.length?n.push(s):n.push.apply(n,Ic(s,a.slice(1),i))),r=d}return n}function Oo(t,a,i,e){void 0===i&&(i=!0),void 0===e&&(e=!1);var n=function(s){for(var u=1,d=0;d<Fu.length&&!(s&Fu[d]);d++)u++;return u}(t[a]),r=t.subarray(a,a+n);return i&&((r=Array.prototype.slice.call(t,a,a+n))[0]^=Fu[n-1]),{length:n,value:function(s,d){d=void 0!==(d=(f=void 0===d?{}:d).signed)&&d;var f,m=void 0!==(f=f.le)&&f;return f=((s=Le(s))[f=m?"reduce":"reduceRight"]||Array.prototype[f]).call(s,function(w,C,M){return M=m?M:Math.abs(M+1-s.length),w+Qn(C)*bu[M]},Qn(0)),!d||(d=bu[s.length]/Qn(2)-Qn(1))<(f=Qn(f))&&(f-=d,f-=d,f-=Qn(2)),Number(f)}(r,{signed:e}),bytes:r}}function Bu(t){return"string"==typeof t?t.match(/.{1,2}/g).map(Bu):"number"==typeof t?function Jr(t,a){for(var i=void 0!==(a=(void 0===a?{}:a).le)&&a,e=(a=t=Qn(t="bigint"!=typeof t&&"number"!=typeof t||"number"==typeof t&&t!=t?0:t),Math.ceil(a.toString(2).length/8)),n=new Uint8Array(new ArrayBuffer(e)),r=0;r<e;r++){var s=i?r:Math.abs(r+1-n.length);n[s]=Number(t/bu[r]&Qn(255)),t<0&&(n[s]=Math.abs(~n[s]),n[s]-=0===r?1:2)}return n}(t):t}function Mc(t,a,i){if(i>=a.length)return a.length;var e=Oo(a,i,!1);if(Xe(t.bytes,e.bytes))return i;var n=Oo(a,i+e.length);return Mc(t,a,i+n.length+n.value+e.length)}function Uu(t,a){var i;i=a,a=Array.isArray(i)?i.map(Bu):[Bu(i)],t=Le(t);var e=[];if(!a.length)return e;for(var n=0;n<t.length;){var r=Oo(t,n,!1),s=Oo(t,n+r.length),u=n+r.length+s.length;127===s.value&&(s.value=Mc(r,t,u),s.value!==t.length&&(s.value-=u));var d=t.subarray(u,d=u+s.value>t.length?t.length:u+s.value);Xe(a[0],r.bytes)&&(1===a.length?e.push(d):e=e.concat(Uu(d,a.slice(1)))),n+=r.length+s.length+d.length}return e}function Pc(t,a,i,e){void 0===e&&(e=1/0),t=Le(t),i=[].concat(i);for(var n,r=0,s=0;r<t.length&&(s<e||n);){var u=void 0;if(Xe(t.subarray(r),Xh)?u=4:Xe(t.subarray(r),Kh)&&(u=3),u){if(s++,n)return function(f){for(var m=[],w=1;w<f.length-2;)Xe(f.subarray(w,w+3),Yh)&&(m.push(w+2),w++),w++;if(0===m.length)return f;var C=f.length-m.length,M=new Uint8Array(C),E=0;for(w=0;w<C;E++,w++)E===m[0]&&(E++,m.shift()),M[w]=f[E];return M}(t.subarray(n,r));var d=void 0;"h264"===a?d=31&t[r+u]:"h265"===a&&(d=t[r+u]>>1&63),-1!==i.indexOf(d)&&(n=r+u),r+=u+("h264"===a?1:2)}else r++}return t.subarray(0,0)}fc.prototype.parseFromString=function(t,f){var i=this.options,e=new yh,n=i.domBuilder||new zs,r=i.errorHandler,s=i.locator,u=i.xmlns||{},d=/\/x?html?$/.test(f);return f=d?Ds.HTML_ENTITIES:Ds.XML_ENTITIES,s&&n.setDocumentLocator(s),e.errorHandler=function(m,w,C){if(!m){if(w instanceof zs)return w;m=w}var M={},E=m instanceof Function;function D(z){var O=m[z];!O&&E&&(O=2==m.length?function(W){m(z,W)}:m),M[z]=O?function(W){O("[xmldom "+z+"]\t"+W+function vh(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}(C))}:function(){}}return C=C||{},D("warning"),D("error"),D("fatalError"),M}(r,n,s),e.domBuilder=i.domBuilder||n,d&&(u[""]=hc.HTML),u.xml=u.xml||hc.XML,i=i.normalizeLineEndings||pc,t&&"string"==typeof t?e.parse(i(t),u,f):e.errorHandler.error("invalid doc source"),n.doc},zs.prototype={startDocument:function(){this.doc=(new mh).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,a,i,e){var n=this.doc,r=n.createElementNS(t,i||a),s=e.length;Ao(this,r),this.currentElement=r,this.locator&&Va(this.locator,r);for(var u=0;u<s;u++){t=e.getURI(u);var d=e.getValue(u),f=(i=e.getQName(u),n.createAttributeNS(t,i));this.locator&&Va(e.getLocator(u),f),f.value=f.nodeValue=d,r.setAttributeNode(f)}},endElement:function(t,a,i){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(t,a){},endPrefixMapping:function(t){},processingInstruction:function(t,a){a=this.doc.createProcessingInstruction(t,a),this.locator&&Va(this.locator,a),Ao(this,a)},ignorableWhitespace:function(t,a,i){},characters:function(t,a,i){var e;(t=mc.apply(this,arguments))&&(e=this.cdata?this.doc.createCDATASection(t):this.doc.createTextNode(t),this.currentElement?this.currentElement.appendChild(e):/^\s*$/.test(t)&&this.doc.appendChild(e),this.locator&&Va(this.locator,e))},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,a,i){t=mc.apply(this,arguments),t=this.doc.createComment(t),this.locator&&Va(this.locator,t),Ao(this,t)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,a,i){var e=this.doc.implementation;e&&e.createDocumentType&&(i=e.createDocumentType(t,a,i),this.locator&&Va(this.locator,i),Ao(this,i),this.doc.doctype=i)},warning:function(t){},error:function(t){},fatalError:function(t){throw new gh(t,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){zs.prototype[t]=function(){return null}});var Lh=fc,Dh="INVALID_NUMBER_OF_PERIOD",Nh="DASH_EMPTY_MANIFEST",Rh="DASH_INVALID_XML",Bh="NO_BASE_URL",Uh="SEGMENT_TIME_UNSPECIFIED",zh={static:function(n){var r=void 0===(e=n.timescale)?1:e,i=n.sourceDuration,e=n.periodDuration;return r=n.duration/r,"number"==typeof(n=bc(n.endNumber))?{start:0,end:n}:"number"==typeof e?{start:0,end:e/r}:{start:0,end:i/r}},dynamic:function(n){var a=n.NOW,r=n.clientOffset,i=n.availabilityStartTime,e=void 0===(d=n.timescale)?1:d,f=n.duration,s=void 0===(u=n.periodStart)?0:u,u=void 0===(d=n.minimumUpdatePeriod)?0:d,d=void 0===(d=n.timeShiftBufferDepth)?1/0:d;return n=bc(n.endNumber),r=(a+r)/1e3,s=i+s,u=Math.ceil((r+u-s)*e/f),d=Math.floor((r-s-d)*e/f),f=Math.floor((r-s)*e/f),{start:Math.max(0,d),end:"number"==typeof n?n:Math.min(u,f)}}},Hh=["AUDIO","SUBTITLES"],qh=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Oc={mediaPresentationDuration:Wa,availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)/1e3},minimumUpdatePeriod:Wa,suggestedPresentationDelay:Wa,type:function(t){return t},timeShiftBufferDepth:Wa,start:Wa,width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},frameRate:function(t){return parseFloat(t.split("/").reduce(function(a,i){return a/i}))},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},presentationTimeOffset:function(t){return parseInt(t,10)},duration:function(t){var a=parseInt(t,10);return isNaN(a)?Wa(t):a},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},jh={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Vh=Math.pow(2,32),Lc=function(t){var a=new DataView(t.buffer,t.byteOffset,t.byteLength);return a.getBigUint64?(t=a.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:a.getUint32(0)*Vh+a.getUint32(4)},Gh=Le([73,68,51]),Lo={EBML:Le([26,69,223,163]),DocType:Le([66,130]),Segment:Le([24,83,128,103]),SegmentInfo:Le([21,73,169,102]),Tracks:Le([22,84,174,107]),Track:Le([174]),TrackNumber:Le([215]),DefaultDuration:Le([35,227,131]),TrackEntry:Le([174]),TrackType:Le([131]),FlagDefault:Le([136]),CodecID:Le([134]),CodecPrivate:Le([99,162]),VideoTrack:Le([224]),AudioTrack:Le([225]),Cluster:Le([31,67,182,117]),Timestamp:Le([231]),TimestampScale:Le([42,215,177]),BlockGroup:Le([160]),BlockDuration:Le([155]),Block:Le([161]),SimpleBlock:Le([163])},Fu=[128,64,32,16,8,4,2,1],Xh=Le([0,0,0,1]),Kh=Le([0,0,1]),Yh=Le([0,0,3]),pi={webm:Le([119,101,98,109]),matroska:Le([109,97,116,114,111,115,107,97]),flac:Le([102,76,97,67]),ogg:Le([79,103,103,83]),ac3:Le([11,119]),riff:Le([82,73,70,70]),avi:Le([65,86,73]),wav:Le([87,65,86,69]),"3gp":Le([102,116,121,112,51,103]),mp4:Le([102,116,121,112]),fmp4:Le([115,116,121,112]),mov:Le([102,116,121,112,113,116]),moov:Le([109,111,111,118]),moof:Le([109,111,111,102])},Xa={aac:function(t){return Xe(t,[255,16],{offset:Ga(t),mask:[255,22]})},mp3:function(t){return Xe(t,[255,2],{offset:Ga(t),mask:[255,6]})},webm:function(t){return Xe(t=Uu(t,[Lo.EBML,Lo.DocType])[0],pi.webm)},mkv:function(t){return Xe(t=Uu(t,[Lo.EBML,Lo.DocType])[0],pi.matroska)},mp4:function(t){return!Xa["3gp"](t)&&!Xa.mov(t)&&(!(!Xe(t,pi.mp4,{offset:4})&&!Xe(t,pi.fmp4,{offset:4}))||!(!Xe(t,pi.moof,{offset:4})&&!Xe(t,pi.moov,{offset:4}))||void 0)},mov:function(t){return Xe(t,pi.mov,{offset:4})},"3gp":function(t){return Xe(t,pi["3gp"],{offset:4})},ac3:function(t){var a=Ga(t);return Xe(t,pi.ac3,{offset:a})},ts:function(t){if(t.length<189&&1<=t.length)return 71===t[0];for(var a=0;a+188<t.length&&a<188;){if(71===t[a]&&71===t[a+188])return!0;a+=1}return!1},flac:function(t){var a=Ga(t);return Xe(t,pi.flac,{offset:a})},ogg:function(t){return Xe(t,pi.ogg)},avi:function(t){return Xe(t,pi.riff)&&Xe(t,pi.avi,{offset:8})},wav:function(t){return Xe(t,pi.riff)&&Xe(t,pi.wav,{offset:8})},h264:function(t){return Pc(t,"h264",7,3).length},h265:function(t){return Pc(t,"h265",[32,33],3).length}},zu=Object.keys(Xa).filter(function(t){return"ts"!==t&&"h264"!==t&&"h265"!==t}).concat(["ts","h264","h265"]);function Hu(t){t=Le(t);for(var a=0;a<zu.length;a++){var i=zu[a];if($h[i](t))return i}return""}zu.forEach(function(t){var a=Xa[t];Xa[t]=function(i){return a(Le(i))}});var $h=Xa,Do=9e4,Qh=it(function(t){function a(i){return t.exports=a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(i)}t.exports=a});function No(t,a,i){return t&&i&&i.responseURL&&a!==i.responseURL?i.responseURL:a}function Gi(t){return x.log.debug?x.log.debug.bind(x,"VHS:",t+" >"):function(){}}function Dc(t,a){var i,e=[];if(t&&t.length)for(i=0;i<t.length;i++)a(t.start(i),t.end(i))&&e.push([t.start(i),t.end(i)]);return x.createTimeRanges(e)}function Ka(t,a){return Dc(t,function(i,e){return i-.1<=a&&a<=e+.1})}function Ro(t,a){return Dc(t,function(i){return a<=i-ta})}function Nc(t){var a=[];if(!t||!t.length)return"";for(var i=0;i<t.length;i++)a.push(t.start(i)+" => "+t.end(i));return a.join(", ")}function ea(t){for(var a=[],i=0;i<t.length;i++)a.push({start:t.start(i),end:t.end(i)});return a}function Rc(t){if(t&&t.length&&t.end)return t.end(t.length-1)}function qu(t,a){var i=0;if(!t||!t.length)return i;for(var e=0;e<t.length;e++){var n=t.start(e),r=t.end(e);r<a||(i+=n<a&&a<=r?r-a:r-n)}return i}function ju(t,a){if(!a.preload)return a.duration;var i=0;return(a.parts||[]).forEach(function(e){i+=e.duration}),(a.preloadHints||[]).forEach(function(e){"PART"===e.type&&(i+=t.partTargetDuration)}),i}function Vu(t){return(t.segments||[]).reduce(function(a,i,e){return i.parts?i.parts.forEach(function(n,r){a.push({duration:n.duration,segmentIndex:e,partIndex:r,part:n,segment:i})}):a.push({duration:i.duration,segmentIndex:e,partIndex:null,segment:i,part:null}),a},[])}function Bc(t){return(t=t.segments&&t.segments.length&&t.segments[t.segments.length-1])&&t.parts||[]}function Uc(t){var a=t.preloadSegment;if(a)return t=a.parts,(a=(a.preloadHints||[]).reduce(function(i,e){return i+("PART"===e.type?1:0)},0))+(t&&t.length?t.length:0)}function Fc(t,a){return a.endList?0:t&&t.suggestedPresentationDelay?t.suggestedPresentationDelay:(t=0<Bc(a).length)&&a.serverControl&&a.serverControl.partHoldBack?a.serverControl.partHoldBack:t&&a.partTargetDuration?3*a.partTargetDuration:a.serverControl&&a.serverControl.holdBack?a.serverControl.holdBack:a.targetDuration?3*a.targetDuration:0}function zc(t,a,i){if((a=typeof a>"u"?t.mediaSequence+t.segments.length:a)<t.mediaSequence)return 0;var e=function(n,r){var s=0,u=r-n.mediaSequence,d=n.segments[u];if(d){if(typeof d.start<"u")return{result:d.start,precise:!0};if(typeof d.end<"u")return{result:d.end-d.duration,precise:!0}}for(;u--;){if(typeof(d=n.segments[u]).end<"u")return{result:s+d.end,precise:!0};if(s+=ju(n,d),typeof d.start<"u")return{result:s+d.start,precise:!0}}return{result:s,precise:!1}}(t,a);return e.precise?e.result:(a=function(n,r){for(var s,u=0,d=r-n.mediaSequence;d<n.segments.length;d++){if(typeof(s=n.segments[d]).start<"u")return{result:s.start-u,precise:!0};if(u+=ju(n,s),typeof s.end<"u")return{result:s.end-u,precise:!0}}return{result:-1,precise:!1}}(t,a)).precise?a.result:e.result+i}function Hc(t,a,i){if(!t)return 0;if("number"!=typeof i&&(i=0),typeof a>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return window.Infinity}return zc(t,a,i)}function qs(t){var a=t.defaultDuration,i=t.durationList,e=t.startIndex,n=t.endIndex,r=0;if(n<e&&(e=(t=[n,e])[0],n=t[1]),e<0){for(var s=e;s<Math.min(0,n);s++)r+=a;e=0}for(var u=e;u<n;u++)r+=i[u].duration;return r}function qc(t,a,i,e){return t&&t.segments?t.endList?Hc(t):null===a?null:(a=zc(t,t.mediaSequence+t.segments.length,a=a||0),i&&(a-=e="number"==typeof e?e:Fc(null,t)),Math.max(0,a)):null}function jc(t){return t.excludeUntil&&t.excludeUntil>Date.now()}function Wu(t){return t.excludeUntil&&t.excludeUntil===1/0}function Bo(t){var a=jc(t);return!t.disabled&&!a}function Vc(t,a){return a.attributes&&a.attributes[t]}function Gu(t,a){if(1===t.playlists.length)return!0;var i=a.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter(function(e){return!!Bo(e)&&(e.attributes.BANDWIDTH||0)<i}).length}function Xu(t,a){return!(!t&&!a||!t&&a||t&&!a||t!==a&&(!t.id||!a.id||t.id!==a.id)&&(!t.resolvedUri||!a.resolvedUri||t.resolvedUri!==a.resolvedUri)&&(!t.uri||!a.uri||t.uri!==a.uri))}function Wc(t,a){var i,e=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{},n=!1;for(i in e){for(var r in e[i])if(n=a(e[i][r]))break;if(n)break}return!!n}function js(t){if(!t||!t.playlists||!t.playlists.length)return Wc(t,function(e){return e.playlists&&e.playlists.length||e.uri});for(var a=0;a<t.playlists.length;a++){var i=function(r){var n=t.playlists[r];return(r=n.attributes&&n.attributes.CODECS)&&r.split(",").every(Qe)||Wc(t,function(s){return Xu(n,s)})?"continue":{v:!1}}(a);if("continue"!==i&&"object"==typeof i)return i.v}return!0}function Ku(t,a){return t+"-"+a}function Jh(t,a,i){return"placeholder-uri-"+t+"-"+a+"-"+i}function Ya(t,a){t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(function(i){if(t.mediaGroups[i])for(var e in t.mediaGroups[i])for(var n in t.mediaGroups[i][e])a(t.mediaGroups[i][e][n],i,e,n)})}function Gc(e){var a=e.playlist,i=e.uri;a.id=e=e.id,a.playlistErrors_=0,i&&(a.uri=i),a.attributes=a.attributes||{}}function Xc(t,a,i){void 0===i&&(i=Jh),t.uri=a;for(var e=0;e<t.playlists.length;e++)t.playlists[e].uri||(t.playlists[e].uri="placeholder-uri-"+e);var n,r=js(t);Ya(t,function(s,u,d,f){if(!s.playlists||!s.playlists.length){if(r&&"AUDIO"===u&&!s.uri)for(var m=0;m<t.playlists.length;m++){var w=t.playlists[m];if(w.attributes&&w.attributes.AUDIO&&w.attributes.AUDIO===d)return}s.playlists=[xe({},s)]}s.playlists.forEach(function(C,M){var E=i(u,d,f,C),D=Ku(M,E);C.uri?C.resolvedUri=C.resolvedUri||Xi(t.uri,C.uri):(C.uri=0===M?E:D,C.resolvedUri=C.uri),C.id=C.id||D,C.attributes=C.attributes||{},t.playlists[C.id]=C,t.playlists[C.uri]=C})}),function(s){for(var u=s.playlists.length;u--;){var d=s.playlists[u];Gc({playlist:d,id:Ku(u,d.uri)}),d.resolvedUri=Xi(s.uri,d.uri),s.playlists[d.id]=d,(s.playlists[d.uri]=d).attributes.BANDWIDTH||Td.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(t),Ya(n=t,function(s){s.uri&&(s.resolvedUri=Xi(n.uri,s.uri))})}function Kc(t,a){!t.resolvedUri&&t.uri&&(t.resolvedUri=Xi(a,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Xi(a,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Xi(a,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=Xi(a,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(function(i){i.resolvedUri||(i.resolvedUri=Xi(a,i.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(function(i){i.resolvedUri||(i.resolvedUri=Xi(a,i.uri))})}function Yc(t){var a=t.segments||[],i=t.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints)for(var e=0;e<i.preloadHints.length;e++)if("MAP"===i.preloadHints[e].type)return a;i.duration=t.targetDuration,i.preload=!0,a.push(i)}return a}function $c(t,a){return t===a||t.segments&&a.segments&&t.segments.length===a.segments.length&&t.endList===a.endList&&t.mediaSequence===a.mediaSequence&&t.preloadSegment===a.preloadSegment}function Yu(t,a,i){void 0===i&&(i=$c);var e=qo(t,{}),n=e.playlists[a.id];if(!n||i(n,a))return null;a.segments=Yc(a);var r=qo(n,a);if(r.preloadSegment&&!a.preloadSegment&&delete r.preloadSegment,n.segments){if(a.skip){a.segments=a.segments||[];for(var s=0;s<a.skip.skippedSegments;s++)a.segments.unshift({skipped:!0})}r.segments=function Zh(t,a,i){var e=t.slice(),n=a.slice();i=i||0;for(var r,s=[],u=0;u<n.length;u++){var d=e[u+i],f=n[u];d?(r=d.map||r,s.push(function(m,w){if(!m)return w;var C=qo(m,w);if(m.preloadHints&&!w.preloadHints&&delete C.preloadHints,m.parts&&!w.parts)delete C.parts;else if(m.parts&&w.parts)for(var M=0;M<w.parts.length;M++)m.parts&&m.parts[M]&&(C.parts[M]=qo(m.parts[M],w.parts[M]));return!m.skipped&&w.skipped&&(C.skipped=!1),m.preload&&!w.preload&&(C.preload=!1),C}(d,f))):(r&&!f.map&&(f.map=r),s.push(f))}return s}(n.segments,a.segments,a.mediaSequence-n.mediaSequence)}r.segments.forEach(function(d){Kc(d,r.resolvedUri)});for(var u=0;u<e.playlists.length;u++)e.playlists[u].id===a.id&&(e.playlists[u]=r);return e.playlists[a.id]=r,e.playlists[a.uri]=r,Ya(t,function(d,f,m,w){if(d.playlists)for(var C=0;C<d.playlists.length;C++)a.id===d.playlists[C].id&&(d.playlists[C]=r)}),e}function $u(t,a){var i=t.segments||[],e=(i=(e=i[i.length-1])&&e.parts&&e.parts[e.parts.length-1])&&i.duration||e&&e.duration;return a&&e?1e3*e:500*(t.partTargetDuration||t.targetDuration||10)}function Qu(t,a,i,e){var n="arraybuffer"===t.responseType?t.response:t.responseText;!a&&n&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=n.byteLength||n.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),i.headers&&(t.responseHeaders=i.headers),a&&"ETIMEDOUT"===a.code&&(t.timedout=!0),e(a=a||t.aborted||200===i.statusCode||206===i.statusCode||0===i.statusCode?a:new Error("XHR Failed with a response of: "+(t&&(n||t.responseText))),t)}function Qc(){function t(a,i){a=y0({timeout:45e3},a);var e=t.beforeRequest||x.Vhs.xhr.beforeRequest;!e||"function"!=typeof e||(e=e(a))&&(a=e);var n=(!0===x.Vhs.xhr.original?g0:x.Vhs.xhr)(a,function(s,u){return Qu(n,s,u,i)}),r=n.abort;return n.abort=function(){return n.aborted=!0,r.apply(n,arguments)},n.uri=a.uri,n.requestTime=Date.now(),n}return t.original=!0,t}function Ju(t){var a,i={};return t.byterange&&(i.Range="bytes="+(t=(a=t.byterange).offset)+"-"+(a="bigint"==typeof a.offset||"bigint"==typeof a.length?window.BigInt(a.offset)+window.BigInt(a.length)-window.BigInt(1):a.offset+a.length-1)),i}function e0(t,a){return t=t.toString(16),"00".substring(0,2-t.length)+t+(a%2?" ":"")}function t0(t){return 32<=t&&t<126?String.fromCharCode(t):"."}function Jc(t){var a={};return Object.keys(t).forEach(function(i){var e=t[i];a[i]=_n(e)?{bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:e}),a}function Uo(t){var a=t.byterange||{length:1/0,offset:0};return[a.length,a.offset,t.resolvedUri].join(",")}function Zc(t){return t.resolvedUri}function ed(t){for(var a=Array.prototype.slice.call(t),i="",e=0;e<a.length/16;e++)i+=a.slice(16*e,16*e+16).map(e0).join("")+" "+a.slice(16*e,16*e+16).map(t0).join("")+"\n";return i}function td(t){var a=t.programTime,i=t.playlist,e=t.retryCount,n=void 0===e?2:e,r=t.seekTo,s=t.pauseAfterSeek,u=void 0===s||s,d=t.tech,f=t.callback;if(!f)throw new Error("seekToProgramTime: callback must be provided");return typeof a<"u"&&i&&r?i.endList||d.hasStarted_?function(m){if(!m.segments||0===m.segments.length)return!1;for(var w=0;w<m.segments.length;w++)if(!m.segments[w].dateTimeObject)return!1;return!0}(i)?(e=function(z,w){var C;try{C=new Date(z)}catch{return null}if(!w||!w.segments||0===w.segments.length||C<(E=w.segments[0]).dateTimeObject)return null;for(var M=0;M<w.segments.length-1;M++){var E=w.segments[M];if(C<w.segments[M+1].dateTimeObject)break}var D=w.segments[w.segments.length-1],O=(z=D.dateTimeObject,D.videoTimingInfo?(O=D.videoTimingInfo).transmuxedPresentationEnd-O.transmuxedPresentationStart-O.transmuxerPrependedSeconds:D.duration+.25*D.duration);return new Date(z.getTime()+1e3*O)<C?null:{segment:E=z<C?D:E,estimatedStart:E.videoTimingInfo?E.videoTimingInfo.transmuxedPresentationStart:wi.duration(w,w.mediaSequence+w.segments.indexOf(E)),type:E.videoTimingInfo?"accurate":"estimate"}}(a,i))?(t=function(m,w){var C;try{M=new Date(m),C=new Date(w)}catch{}var M=M.getTime();return(C.getTime()-M)/1e3}((s=e.segment).dateTimeObject,a),"estimate"===e.type?0===n?f({message:a+" is not buffered yet. Try again"}):(r(e.estimatedStart+t),void d.one("seeked",function(){td({programTime:a,playlist:i,retryCount:n-1,seekTo:r,pauseAfterSeek:u,tech:d,callback:f})})):(t=s.start+t,d.one("seeked",function(){return f(null,d.currentTime())}),u&&d.pause(),void r(t))):f({message:a+" was not found in the stream"}):f({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri}):f({message:"player must be playing a live stream to start buffering"}):f({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"})}function id(t,a){if(!$c(t,a)||t.sidx&&a.sidx&&(t.sidx.offset!==a.sidx.offset||t.sidx.length!==a.sidx.length)||!t.sidx&&a.sidx||t.sidx&&!a.sidx||t.segments&&!a.segments||!t.segments&&a.segments)return!1;if(!t.segments&&!a.segments)return!0;for(var i=0;i<t.segments.length;i++){var e=t.segments[i],n=a.segments[i];if(e.uri!==n.uri||(e.byterange||n.byterange)&&(n=n.byterange,(e=e.byterange)&&!n||!e&&n||e.offset!==n.offset||e.length!==n.length))return!1}return!0}function r0(t,a,i,e){return"placeholder-uri-"+t+"-"+a+"-"+(e.attributes.NAME||i)}function rd(t,a){var i,e={};for(i in t){var n=t[i].sidx;if(n){var r=Mo(n);if(!a[r])break;var s=a[r].sidxInfo;(!s.map&&!n.map||s.map&&n.map&&s.map.byterange.offset===n.map.byterange.offset&&s.map.byterange.length===n.map.byterange.length)&&s.uri===n.uri&&s.byterange.offset===n.byterange.offset&&s.byterange.length===n.byterange.length&&(e[r]=a[r])}}return e}function ad(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t}function sd(t){var a=t.transmuxer,i=t.bytes,e=t.audioAppendStart,n=t.gopsToAlignWith,r=t.remux,s=t.onData,u=t.onTrackInfo,d=t.onAudioTimingInfo,f=t.onVideoTimingInfo,m=t.onVideoSegmentTimingInfo,w=t.onAudioSegmentTimingInfo,C=t.onId3,M=t.onCaptions,E=t.onDone,D=t.onEndedTimeline,z=t.onTransmuxerLog,O=t.isEndOfTimeline,W={buffer:[]},K=O;a.onmessage=function(Y){var ee,ce,Me,ke,je,Ne,Ot,tt,qt,Lt;a.currentTransmux===t&&("data"===Y.data.action&&(Me=s,ke=(Lt=(ce=Y).data.segment).type,je=Lt.initSegment,Ne=Lt.captions,Ot=Lt.captionStreams,tt=Lt.metadata,qt=Lt.videoFrameDtsTime,Lt=Lt.videoFramePtsTime,W.buffer.push({captions:Ne,captionStreams:Ot,metadata:tt}),ce=ce.data.segment.boxes||{data:ce.data.segment.data},je={type:ke,data:new Uint8Array(ce.data,ce.data.byteOffset,ce.data.byteLength),initSegment:new Uint8Array(je.data,je.byteOffset,je.byteLength)},typeof qt<"u"&&(je.videoFrameDtsTime=qt),typeof Lt<"u"&&(je.videoFramePtsTime=Lt),Me(je)),"trackinfo"===Y.data.action&&u(Y.data.trackInfo),"gopInfo"===Y.data.action&&(W.gopInfo=Y.data.gopInfo),"audioTimingInfo"===Y.data.action&&d(Y.data.audioTimingInfo),"videoTimingInfo"===Y.data.action&&f(Y.data.videoTimingInfo),"videoSegmentTimingInfo"===Y.data.action&&m(Y.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===Y.data.action&&w(Y.data.audioSegmentTimingInfo),"id3Frame"===Y.data.action&&C([Y.data.id3Frame],Y.data.id3Frame.dispatchType),"caption"===Y.data.action&&M(Y.data.caption),"endedtimeline"===Y.data.action&&(K=!1,D()),"log"===Y.data.action&&z(Y.data.log),"transmuxed"===Y.data.type&&(K||(a.onmessage=null,Y=(ee={transmuxedData:W,callback:E}).transmuxedData,ee=ee.callback,Y.buffer=[],ee(Y),Sd(a))))},e&&a.postMessage({action:"setAudioAppendStart",appendStart:e}),Array.isArray(n)&&a.postMessage({action:"alignGopsWith",gopsToAlignWith:n}),typeof r<"u"&&a.postMessage({action:"setRemux",remux:r}),i.byteLength&&(n=i instanceof ArrayBuffer?i:i.buffer,r=i instanceof ArrayBuffer?0:i.byteOffset,a.postMessage({action:"push",data:n,byteOffset:r,byteLength:i.byteLength},[n])),O&&a.postMessage({action:"endTimeline"}),a.postMessage({action:"flush"})}function od(t,a){t.postMessage({action:a}),Sd(t)}function Fo(t){var a=t.transmuxer,i=t.endAction||t.action,e=t.callback,n=xe({},t,{endAction:null,transmuxer:null,callback:null}),r=function s(u){u.data.action===i&&(a.removeEventListener("message",s),u.data.data&&(u.data.data=new Uint8Array(u.data.data,t.byteOffset||0,t.byteLength||u.data.data.byteLength),t.data&&(t.data=u.data.data)),e(u.data))};a.addEventListener("message",r),t.data?(r=t.data instanceof ArrayBuffer,n.byteOffset=r?0:t.data.byteOffset,n.byteLength=t.data.byteLength,a.postMessage(n,r=[r?t.data:t.data.buffer])):a.postMessage(n)}function Zu(t){t.forEach(function(a){a.abort()})}function el(t,a){return a.timedout?{status:a.status,message:"HLS request timed-out at URL: "+a.uri,code:il,xhr:a}:a.aborted?{status:a.status,message:"HLS request aborted at URL: "+a.uri,code:rl,xhr:a}:t?{status:a.status,message:"HLS request errored at URL: "+a.uri,code:jo,xhr:a}:"arraybuffer"===a.responseType&&0===a.response.byteLength?{status:a.status,message:"Empty HLS response at URL: "+a.uri,code:jo,xhr:a}:null}function ud(t,a,i){return function(s,n){var r=n.response;if(s=el(s,n))return i(s,t);if(16!==r.byteLength)return i({status:n.status,message:"Invalid HLS key at URL: "+n.uri,code:jo,xhr:n},t);r=new DataView(r);for(var u=new Uint32Array([r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12)]),d=0;d<a.length;d++)a[d].bytes=u;return i(null,t)}}function ld(t,a){var i=Hu(t.map.bytes);if("mp4"!==i)return a({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+(t.map.resolvedUri||t.map.uri),code:jo});Fo({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:function(s){var r=s.tracks;return t.map.bytes=s=s.data,r.forEach(function(u){t.map.tracks=t.map.tracks||{},t.map.tracks[u.type]||"number"==typeof(t.map.tracks[u.type]=u).id&&u.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[u.id]=u.timescale)}),a(null)}})}function cd(t){var a=t.segment,i=t.bytes,e=t.trackInfoFn,n=t.timingInfoFn,r=t.videoSegmentTimingInfoFn,s=t.audioSegmentTimingInfoFn,u=t.id3Fn,d=t.captionsFn,f=t.isEndOfTimeline,m=t.endedTimelineFn,w=t.dataFn,C=t.doneFn,M=t.onTransmuxerLog,E=new Uint8Array(i);if(0<Ic(E,["moof"]).length){a.isFmp4=!0;var D=a.map.tracks,z={isFmp4:!0,hasVideo:!!D.video,hasAudio:!!D.audio};D.audio&&D.audio.codec&&"enca"!==D.audio.codec&&(z.audioCodec=D.audio.codec),D.video&&D.video.codec&&"encv"!==D.video.codec&&(z.videoCodec=D.video.codec),D.video&&D.audio&&(z.isMuxed=!0),e(a,z);var O=function(W){w(a,{data:E,type:z.hasAudio&&!z.isMuxed?"audio":"video"}),W&&W.length&&d(a,W),C(null,a,{})};Fo({action:"probeMp4StartTime",timescales:a.map.timescales,data:E,transmuxer:a.transmuxer,callback:function(Y){var K=Y.data;Y=Y.startTime,i=K.buffer,a.bytes=E=K,z.hasAudio&&!z.isMuxed&&n(a,"audio","start",Y),z.hasVideo&&n(a,"video","start",Y),D.video&&K.byteLength&&a.transmuxer?Fo({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:a.transmuxer,data:E,timescales:a.map.timescales,trackIds:[D.video.id],callback:function(ee){i=ee.data.buffer,a.bytes=E=ee.data,ee.logs.forEach(function(ce){M(x.mergeOptions(ce,{stream:"mp4CaptionParser"}))}),O(ee.captions)}}):O()}})}else if(a.transmuxer){if(typeof a.container>"u"&&(a.container=Hu(E)),"ts"!==a.container&&"aac"!==a.container)return e(a,{hasAudio:!1,hasVideo:!1}),C(null,a,{}),0;!function l0(E){var a=E.segment,i=E.bytes,e=E.trackInfoFn,n=E.timingInfoFn,r=E.videoSegmentTimingInfoFn,s=E.audioSegmentTimingInfoFn,u=E.id3Fn,d=E.captionsFn,f=E.isEndOfTimeline,m=E.endedTimelineFn,w=E.dataFn,C=E.doneFn,M=E.onTransmuxerLog,D=!(!(E=a.map&&a.map.tracks||{}).audio||!E.video),z=n.bind(null,a,"audio","start"),O=n.bind(null,a,"audio","end"),W=n.bind(null,a,"video","start"),K=n.bind(null,a,"video","end");Fo({action:"probeTs",transmuxer:a.transmuxer,data:i,baseStartTime:a.baseStartTime,callback:function(Y){a.bytes=i=Y.data,(Y=Y.result)&&(e(a,{hasAudio:Y.hasAudio,hasVideo:Y.hasVideo,isMuxed:D}),e=null,Y.hasAudio&&!D&&z(Y.audioStart),Y.hasVideo&&W(Y.videoStart),W=z=null),function o0(t){if(!t.transmuxer.currentTransmux)return t.transmuxer.currentTransmux=t,void sd(t);t.transmuxer.transmuxQueue.push(t)}({bytes:i,transmuxer:a.transmuxer,audioAppendStart:a.audioAppendStart,gopsToAlignWith:a.gopsToAlignWith,remux:D,onData:function(ee){ee.type="combined"===ee.type?"video":ee.type,w(a,ee)},onTrackInfo:function(ee){e&&(D&&(ee.isMuxed=!0),e(a,ee))},onAudioTimingInfo:function(ee){z&&typeof ee.start<"u"&&(z(ee.start),z=null),O&&typeof ee.end<"u"&&O(ee.end)},onVideoTimingInfo:function(ee){W&&typeof ee.start<"u"&&(W(ee.start),W=null),K&&typeof ee.end<"u"&&K(ee.end)},onVideoSegmentTimingInfo:function(ee){r(ee)},onAudioSegmentTimingInfo:function(ee){s(ee)},onId3:function(ee,ce){u(a,ee,ce)},onCaptions:function(ee){d(a,[ee])},isEndOfTimeline:f,onEndedTimeline:function(){m()},onTransmuxerLog:M,onDone:function(ee){C&&(ee.type="combined"===ee.type?"video":ee.type,C(null,a,ee))}})}})}({segment:a,bytes:i,trackInfoFn:e,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:u,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:m,dataFn:w,doneFn:C,onTransmuxerLog:M})}else C(null,a,{})}function dd(s,a){var i=s.id,e=s.key,n=s.encryptedBytes,r=s.decryptionWorker;s=function u(d){d.data.source===i&&(r.removeEventListener("message",u),d=d.data.decrypted,a(new Uint8Array(d.bytes,d.byteOffset,d.byteLength)))},r.addEventListener("message",s),s=e.bytes.slice?e.bytes.slice():new Uint32Array(Array.prototype.slice.call(e.bytes)),r.postMessage(Jc({source:i,encrypted:n,key:s,iv:e.iv}),[n.buffer,s.buffer])}function hd(t,a){return a=a.attributes||{},t&&t.mediaGroups&&t.mediaGroups.AUDIO&&a.AUDIO&&t.mediaGroups.AUDIO[a.AUDIO]}function zo(t){var a={};return t.forEach(function(r){var e=r.mediaType,n=r.type;r=r.details,a[e]=a[e]||[],a[e].push(Ie(""+n+r))}),Object.keys(a).forEach(function(i){return 1<a[i].length?(_0("multiple "+i+" codecs found as attributes: "+a[i].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(a[i]=null)):void(a[i]=a[i][0])}),a}function pd(t){var a=0;return t.audio&&a++,t.video&&a++,a}function Vs(t,a){var i,e=a.attributes||{},n=zo(function(r){if((r=r.attributes||{}).CODECS)return Oe(r.CODECS)}(a)||[]);return hd(t,a)&&!n.audio&&!function(r,d){if(!hd(r,d))return!0;var u,f=r.mediaGroups.AUDIO[(d=d.attributes||{}).AUDIO];for(u in f)if(!f[u].uri&&!f[u].playlists)return!0;return!1}(t,a)&&(i=zo(function(r,s){if(!r.mediaGroups.AUDIO||!s)return null;var u,d=r.mediaGroups.AUDIO[s];if(!d)return null;for(u in d){var f=d[u];if(f.default&&f.playlists)return Oe(f.playlists[0].attributes.CODECS)}return null}(t,e.AUDIO)||[])).audio&&(n.audio=i.audio),n}function fd(t){if(t&&t.playlist){var a=t.playlist;return JSON.stringify({id:a.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:a.attributes&&a.attributes.CODECS||""})}}function Ho(t,a){return(t=t&&window.getComputedStyle(t))?t[a]:""}function $a(t,a){var i=t.slice();t.sort(function(e,n){var r=a(e,n);return 0===r?i.indexOf(e)-i.indexOf(n):r})}function tl(t,a){var i,e;return(i=(i=t.attributes.BANDWIDTH?t.attributes.BANDWIDTH:i)||window.Number.MAX_VALUE)-((e=a.attributes.BANDWIDTH?a.attributes.BANDWIDTH:e)||window.Number.MAX_VALUE)}function md(t,a,i,e,n,r){if(t){var s={bandwidth:a,width:i,height:e,limitRenditionByPlayerDimensions:n},f=t.playlists;wi.isAudioOnly(t)&&(f=r.getAudioTrackPlaylists_(),s.audioOnly=!0);var u=f.map(function(O){return{bandwidth:O.attributes&&O.attributes.BANDWIDTH||window.Number.MAX_VALUE,width:O.attributes&&O.attributes.RESOLUTION&&O.attributes.RESOLUTION.width,height:O.attributes&&O.attributes.RESOLUTION&&O.attributes.RESOLUTION.height,playlist:O}});$a(u,function(O,W){return O.bandwidth-W.bandwidth});var w,C,M,d=(u=u.filter(function(O){return!wi.isIncompatible(O.playlist)})).filter(function(O){return wi.isEnabled(O.playlist)}),E=(t=(d=d.length?d:u.filter(function(O){return!wi.isDisabled(O.playlist)})).filter(function(O){return O.bandwidth*Kn.BANDWIDTH_VARIANCE<a}))[t.length-1];if(f=t.filter(function(O){return O.bandwidth===E.bandwidth})[0],!1===n){var m=f||d[0]||u[0];return m&&m.playlist?(n=f?"bandwidthBestRep":"sortedPlaylistReps",d[0]&&(n="enabledPlaylistReps"),Vo("choosing "+fd(m)+" using "+n+" with options",s),m.playlist):(Vo("could not choose a playlist with options",s),null)}$a(m=t.filter(function(O){return O.width&&O.height}),function(O,W){return O.width-W.width}),E=(t=m.filter(function(O){return O.width===i&&O.height===e}))[t.length-1],(t=t.filter(function(O){return O.bandwidth===E.bandwidth})[0])||(C=(w=m.filter(function(O){return O.width>i||O.height>e})).filter(function(O){return O.width===w[0].width&&O.height===w[0].height}),E=C[C.length-1],C=C.filter(function(O){return O.bandwidth===E.bandwidth})[0]),r.experimentalLeastPixelDiffSelector&&($a(D=m.map(function(O){return O.pixelDiff=Math.abs(O.width-i)+Math.abs(O.height-e),O}),function(O,W){return O.pixelDiff===W.pixelDiff?W.bandwidth-O.bandwidth:O.pixelDiff-W.pixelDiff}),M=D[0]);var D=M||C||t||f||d[0]||u[0];return D&&D.playlist?(u="sortedPlaylistReps",M?u="leastPixelDiffRep":C?u="resolutionPlusOneRep":t?u="resolutionBestRep":f?u="bandwidthBestRep":d[0]&&(u="enabledPlaylistReps"),Vo("choosing "+fd(D)+" using "+u+" with options",s),D.playlist):(Vo("could not choose a playlist with options",s),null)}}function Ws(t,a,i){var e,n;if(i&&i.cues)for(e=i.cues.length;e--;)(n=i.cues[e]).startTime>=t&&n.endTime<=a&&i.removeCue(n)}function gd(t){return"number"==typeof t&&isFinite(t)}function Qa(t){var a=t.startOfSegment,i=t.duration,e=t.segment,n=t.part,r=t.playlist,s=r.mediaSequence,u=r.id,d=r.segments,f=t.mediaIndex,m=t.partIndex,w=t.timeline,C=(void 0===d?[]:d).length-1,M="mediaIndex/partIndex increment";return t.getMediaInfoForTime?M="getMediaInfoForTime ("+t.getMediaInfoForTime+")":t.isSyncRequest&&(M="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(M+=" with independent "+t.independent),d=t.segment.uri?"segment":"pre-segment",t=(r="number"==typeof m)?Uc({preloadSegment:e})-1:0,d+" ["+(s+f)+"/"+(s+C)+"]"+(r?" part ["+m+"/"+t+"]":"")+" segment start/end ["+e.start+" => "+e.end+"]"+(r?" part start/end ["+n.start+" => "+n.end+"]":"")+" startOfSegment ["+a+"] duration ["+i+"] timeline ["+w+"] selected by ["+M+"] playlist ["+u+"]"}function yd(t){return t+"TimingInfo"}function vd(r){var a=r.timelineChangeController,i=r.currentTimeline,e=r.segmentTimeline,n=r.loaderType;if(r=r.audioDisabled,i!==e){if("audio"===n)return!(i=a.lastTimelineChange({type:"main"}))||i.to!==e;if("main"===n&&r)return!((a=a.pendingTimelineChange({type:"audio"}))&&a.to===e)}}function bd(i){var a=i.segmentDuration;return i=i.maxDuration,!!a&&Math.round(a)>i+ta}An=it(function(t){function a(i){var e="function"==typeof Map?new Map:void 0;return t.exports=a=function(n){if(null===n||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return Na(n,arguments,Qh(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Br(r,n)},a(i)}t.exports=a});var gn,Xi=function(t,a){if(/^[a-z]+:/i.test(a))return a;/^data:/.test(t)&&(t=window.location&&window.location.href||"");var i="function"==typeof window.URL,e=/^\/\//.test(t),n=!window.location&&!/\/\//i.test(t);return i?t=new window.URL(t,window.location||"http://example.com"):/\/\//i.test(t)||(t=N.buildAbsoluteURL(window.location&&window.location.href||"",t)),i?(i=new URL(a,t),n?i.href.slice(18):e?i.href.slice(i.protocol.length):i.href):N.buildAbsoluteURL(t,a)},ta=1/30,_d=x.createTimeRange,wi={liveEdgeDelay:Fc,duration:Hc,seekable:function(t,a,n){var e=a||0;return null===(n=qc(t,a,!0,n))?_d():_d(e,n)},getMediaInfoForTime:function(t){for(var a=t.playlist,i=t.currentTime,e=t.startingSegmentIndex,n=t.startingPartIndex,r=t.startTime,s=t.experimentalExactManifestTimings,u=i-r,d=Vu(a),f=0,m=0;m<d.length;m++){var w=d[m];if(e===w.segmentIndex&&("number"!=typeof n||"number"!=typeof w.partIndex||n===w.partIndex)){f=m;break}}if(u<0){if(0<f)for(var C=f-1;0<=C;C--){var M=d[C];if(u+=M.duration,s){if(u<0)continue}else if(u+ta<=0)continue;return{partIndex:M.partIndex,segmentIndex:M.segmentIndex,startTime:r-qs({defaultDuration:a.targetDuration,durationList:d,startIndex:f,endIndex:C})}}return{partIndex:d[0]&&d[0].partIndex||null,segmentIndex:d[0]&&d[0].segmentIndex||0,startTime:i}}if(f<0){for(var E=f;E<0;E++)if((u-=a.targetDuration)<0)return{partIndex:d[0]&&d[0].partIndex||null,segmentIndex:d[0]&&d[0].segmentIndex||0,startTime:i};f=0}for(var D=f;D<d.length;D++){var z=d[D];if(u-=z.duration,s){if(0<u)continue}else if(0<=u-ta)continue;return{partIndex:z.partIndex,segmentIndex:z.segmentIndex,startTime:r+qs({defaultDuration:a.targetDuration,durationList:d,startIndex:f,endIndex:D})}}return{segmentIndex:d[d.length-1].segmentIndex,partIndex:d[d.length-1].partIndex,startTime:i}},isEnabled:Bo,isDisabled:function(t){return t.disabled},isBlacklisted:jc,isIncompatible:Wu,playlistEnd:qc,isAes:function(t){for(var a=0;a<t.segments.length;a++)if(t.segments[a].key)return!0;return!1},hasAttribute:Vc,estimateSegmentRequestTime:function(t,a,i,e){return Vc("BANDWIDTH",i)?(t*i.attributes.BANDWIDTH-8*(e=void 0===e?0:e))/a:NaN},isLowestEnabledRendition:Gu,isAudioOnly:js,playlistMatch:Xu,segmentDurationWithParts:ju},Td=x.log,qo=x.mergeOptions,Ja=function(t){function a(e,n,d){var s;if(void 0===d&&(d={}),s=t.call(this)||this,!e)throw new Error("A non-empty playlist URL or object is required");s.logger_=Gi("PlaylistLoader");var u=void 0!==(u=d.withCredentials)&&u;return d=void 0!==(d=d.handleManifestRedirects)&&d,s.src=e,s.vhs_=n,s.withCredentials=u,s.handleManifestRedirects=d,s.customTagParsers=(n=n.options_)&&n.customTagParsers||[],s.customTagMappers=n&&n.customTagMappers||[],s.experimentalLLHLS=n&&n.experimentalLLHLS||!1,x.browser.IE_VERSION&&(s.experimentalLLHLS=!1),s.state="HAVE_NOTHING",s.handleMediaupdatetimeout_=s.handleMediaupdatetimeout_.bind(Ke(s)),s.on("mediaupdatetimeout",s.handleMediaupdatetimeout_),s}he(a,t);var i=a.prototype;return i.handleMediaupdatetimeout_=function(){var e,n,r=this;"HAVE_METADATA"===this.state&&(e=this.media(),n=Xi(this.master.uri,e.uri),this.experimentalLLHLS&&(n=function(s,u){if(u.endList||!u.serverControl)return s;var d,f,m,w,C={};return u.serverControl.canBlockReload&&(d=u.mediaSequence+u.segments.length,(m=u.preloadSegment)&&(f=m.parts||[],-1<(m=Uc(u)-1)&&m!=f.length-1&&(C._HLS_part=m),(-1<m||f.length)&&d--),C._HLS_msn=d),u.serverControl&&u.serverControl.canSkipUntil&&(C._HLS_skip=u.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(C).length&&(w=new window.URL(s),["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(M){C.hasOwnProperty(M)&&w.searchParams.set(M,C[M])}),s=w.toString()),s}(n,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials},function(s,u){if(r.request)return s?r.playlistRequestError(r.request,r.media(),"HAVE_METADATA"):void r.haveMetadata({playlistString:r.request.responseText,url:r.media().uri,id:r.media().id})}))},i.playlistRequestError=function(e,u,r){var s=u.uri;u=u.id,this.request=null,r&&(this.state=r),this.error={playlist:this.master.playlists[u],status:e.status,message:"HLS playlist request error at URL: "+s+".",responseText:e.responseText,code:500<=e.status?4:2},this.trigger("error")},i.parseManifest_=function(e){var n=this,r=e.url;return function(C){var u=C.onwarn,d=C.oninfo,f=C.manifestString,m=void 0===(w=C.customTagParsers)?[]:w,w=void 0===(w=C.customTagMappers)?[]:w,M=(C=C.experimentalLLHLS,new bi);u&&M.on("warn",u),d&&M.on("info",d),m.forEach(function(z){return M.addParser(z)}),w.forEach(function(z){return M.addTagMapper(z)}),M.push(f),M.end();var E=M.manifest;C||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(z){E.hasOwnProperty(z)&&delete E[z]}),E.segments&&E.segments.forEach(function(z){["parts","preloadHints"].forEach(function(O){z.hasOwnProperty(O)&&delete z[O]})})),E.targetDuration||(D=10,E.segments&&E.segments.length&&(D=E.segments.reduce(function(z,O){return Math.max(z,O.duration)},0)),u&&u("manifest has no targetDuration defaulting to "+D),E.targetDuration=D);var D=Bc(E);return D.length&&!E.partTargetDuration&&(D=D.reduce(function(z,O){return Math.max(z,O.duration)},0),u&&(u("manifest has no partTargetDuration defaulting to "+D),Td.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),E.partTargetDuration=D),E}({onwarn:function(s){return n.logger_("m3u8-parser warn for "+r+": "+(s=s.message))},oninfo:function(s){return n.logger_("m3u8-parser info for "+r+": "+(s=s.message))},manifestString:e.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},i.haveMetadata=function(u){var n=u.playlistString,r=u.playlistObject,s=u.url;u=u.id,this.request=null,this.state="HAVE_METADATA",(n=r||this.parseManifest_({url:s,manifestString:n})).lastRequest=Date.now(),Gc({playlist:n,uri:s,id:u}),s=Yu(this.master,n),this.targetDuration=n.partTargetDuration||n.targetDuration,this.pendingMedia_=null,s?(this.master=s,this.media_=this.master.playlists[u]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_($u(this.media(),!!s)),this.trigger("loadedplaylist")},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),window.clearTimeout(this.mediaUpdateTimeout),window.clearTimeout(this.finalRenditionTimeout),this.off()},i.stopRequest=function(){var e;this.request&&(e=this.request,this.request=null,e.onreadystatechange=null,e.abort())},i.media=function(e,n){var r=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(window.clearTimeout(this.finalRenditionTimeout),n){var s=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=window.setTimeout(this.media.bind(this,e,!1),s)}else{var u=this.state;if(n=!this.media_||e.id!==this.media_.id,(s=this.master.playlists[e.id])&&s.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(n&&(this.trigger("mediachanging"),this.trigger("HAVE_MASTER"===u?"loadedmetadata":"mediachange")));if(this.updateMediaUpdateTimeout_($u(e,!0)),n){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},function(m,w){if(r.request){if(e.lastRequest=Date.now(),e.resolvedUri=No(r.handleManifestRedirects,e.resolvedUri,w),m)return r.playlistRequestError(r.request,e,u);r.haveMetadata({playlistString:w.responseText,url:e.uri,id:e.id}),r.trigger("HAVE_MASTER"===u?"loadedmetadata":"mediachange")}})}}},i.pause=function(){this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.state=this.media_?"HAVE_METADATA":"HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},i.load=function(e){var n=this;this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var r=this.media();e?(e=r?(r.partTargetDuration||r.targetDuration)/2*1e3:5e3,this.mediaUpdateTimeout=window.setTimeout(function(){n.mediaUpdateTimeout=null,n.load()},e)):this.started?this.trigger(r&&!r.endList?"mediaupdatetimeout":"loadedplaylist"):this.start()},i.updateMediaUpdateTimeout_=function(e){var n=this;this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=window.setTimeout(function(){n.mediaUpdateTimeout=null,n.trigger("mediaupdatetimeout"),n.updateMediaUpdateTimeout_(e)},e))},i.start=function(){var e=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=window.location.href),this.src.resolvedUri=this.src.uri,void setTimeout(function(){e.setupInitialPlaylist(e.src)},0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(n,r){if(e.request){if(e.request=null,n)return e.error={status:r.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:r.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=No(e.handleManifestRedirects,e.src,r),r=e.parseManifest_({manifestString:r.responseText,url:e.src}),e.setupInitialPlaylist(r)}})},i.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},i.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,Xc(this.master,this.srcUri()),e.playlists.forEach(function(d){d.segments=Yc(d),d.segments.forEach(function(f){Kc(f,d.resolvedUri)})}),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var n,r,s,u=this.srcUri()||window.location.href;this.master=(r=Ku(0,n=u),(s={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:window.location.href,resolvedUri:window.location.href,playlists:[{uri:n,id:r,resolvedUri:n,attributes:{}}]}).playlists[r]=s.playlists[0],s.playlists[n]=s.playlists[0],s),this.haveMetadata({playlistObject:e,url:u,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},a}(gn=x.EventTarget),g0=x.xhr,y0=x.mergeOptions,wd=(Hi=Object.freeze({__proto__:null,createTransferableMessage:Jc,initSegmentId:Uo,segmentKeyId:Zc,hexDump:ed,tagDump:function(t){return ed(t=t.bytes)},textRanges:function(t){for(var a,i,e="",n=0;n<t.length;n++)e+=(a=t).start(i=n)+"-"+a.end(i)+" ";return e}}),x.mergeOptions),nl=function(t){function a(e,n,r,s){var u;if(void 0===r&&(r={}),(u=t.call(this)||this).masterPlaylistLoader_=s||Ke(u),s||(u.isMaster_=!0),s=void 0!==(s=r.withCredentials)&&s,r=void 0!==(r=r.handleManifestRedirects)&&r,u.vhs_=n,u.withCredentials=s,u.handleManifestRedirects=r,!e)throw new Error("A non-empty playlist URL or object is required");return u.on("minimumUpdatePeriod",function(){u.refreshXml_()}),u.on("mediaupdatetimeout",function(){u.refreshMedia_(u.media().id)}),u.state="HAVE_NOTHING",u.loadedPlaylists_={},u.logger_=Gi("DashPlaylistLoader"),u.isMaster_?(u.masterPlaylistLoader_.srcUrl=e,u.masterPlaylistLoader_.sidxMapping_={}):u.childPlaylist_=e,u}he(a,t);var i=a.prototype;return i.requestErrored_=function(e,n,r){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2}:e,r&&(this.state=r),this.trigger("error"),!0):void 0)},i.addSidxSegments_=function(e,n,r){var s,u,d=this,f=e.sidx&&Mo(e.sidx);e.sidx&&f&&!this.masterPlaylistLoader_.sidxMapping_[f]?(s=No(this.handleManifestRedirects,e.sidx.resolvedUri),u=function(m,w){if(!d.requestErrored_(m,w,n)){var C;m=d.masterPlaylistLoader_.sidxMapping_;try{C=function(t){var a=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:a.getUint32(4),timescale:a.getUint32(8)},e=12;0===i.version?(i.earliestPresentationTime=a.getUint32(e),i.firstOffset=a.getUint32(e+4),e+=8):(i.earliestPresentationTime=Lc(t.subarray(e)),i.firstOffset=Lc(t.subarray(e+8)),e+=16);var n=a.getUint16(e+=2);for(e+=2;0<n;e+=12,n--)i.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&a.getUint32(e),subsegmentDuration:a.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&a.getUint32(e+8)});return i}(Le(w.response).subarray(8))}catch(E){return void d.requestErrored_(E,w,n)}return m[f]={sidxInfo:e.sidx,sidx:C},Ou(e,C,e.sidx.resolvedUri),r(!0)}},this.request=function i0(t,a,i){function e(f,m,w,C){return m.abort(),u=!0,i(f,m,w,C)}function n(f,m){if(!u){if(f)return e(f,m,"",s);var w=m.responseText.substring(s&&s.byteLength||0,m.responseText.length);return s=function(){for(var C=arguments.length,M=new Array(C),E=0;E<C;E++)M[E]=arguments[E];if((M=M.filter(function(W){return W&&(W.byteLength||W.length)&&"string"!=typeof W})).length<=1)return Le(M[0]);var D=M.reduce(function(W,K,Y){return W+(K.byteLength||K.length)},0),z=new Uint8Array(D),O=0;return M.forEach(function(W){W=Le(W),z.set(W,O),O+=W.byteLength}),z}(s,ot(w,!0)),r=r||Ga(s),s.length<10||r&&s.length<r+2||"ts"===(w=Hu(s))&&s.length<188||!w&&s.length<376?function nd(t,a){if(4===t.readyState)return a()}(m,function(){return e(f,m,"",s)}):e(null,m,w,s)}}var r,s=[],u=!1,d=a({uri:t,beforeSend:function(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function(m){return Qu(f,null,{statusCode:f.status},n)})}},function(f,m){return Qu(d,f,m,n)});return d}(s,this.vhs_.xhr,function(m,w,E,M){return m?u(m,w):E&&"mp4"===E?(E=(D=e.sidx.byterange).offset,M.length>=(D=D.length)+E?u(m,{response:M.subarray(E,E+D),status:w.status,uri:w.uri}):void(d.request=d.vhs_.xhr({uri:s,responseType:"arraybuffer",headers:Ju({byterange:e.sidx.byterange})},u))):u({status:w.status,message:"Unsupported "+(E||"unknown")+" container type for sidx segment at URL: "+s,response:"",playlist:e,internal:!0,blacklistDuration:1/0,code:2},w);var D})):this.mediaRequest_=window.setTimeout(function(){return r(!1)},0)},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},window.clearTimeout(this.minimumUpdatePeriodTimeout_),window.clearTimeout(this.mediaRequest_),window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},i.hasPendingRequest=function(){return this.request||this.mediaRequest_},i.stopRequest=function(){var e;this.request&&(e=this.request,this.request=null,e.onreadystatechange=null,e.abort())},i.media=function(e){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var r=this.state;if("string"==typeof e){if(!this.masterPlaylistLoader_.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.masterPlaylistLoader_.master.playlists[e]}var s=!this.media_||e.id!==this.media_.id;if(s&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(s&&(this.trigger("mediachanging"),this.trigger("mediachange")));s&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,r,function(u){n.haveMetadata({startingState:r,playlist:e})}))},i.haveMetadata=function(r){var n=r.startingState;r=r.playlist,this.state="HAVE_METADATA",this.loadedPlaylists_[r.id]=r,this.mediaRequest_=null,this.refreshMedia_(r.id),this.trigger("HAVE_MASTER"===n?"loadedmetadata":"mediachange")},i.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(window.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},i.load=function(e){var n=this;window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var r=this.media();e?(e=r?r.targetDuration/2*1e3:5e3,this.mediaUpdateTimeout=window.setTimeout(function(){return n.load()},e)):this.started?r&&!r.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},i.start=function(){var e=this;this.started=!0,this.isMaster_?this.requestMaster_(function(n,r){e.haveMaster_(),e.hasPendingRequest()||e.media_||e.media(e.masterPlaylistLoader_.master.playlists[0])}):this.mediaRequest_=window.setTimeout(function(){return e.haveMaster_()},0)},i.requestMaster_=function(e){var n=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(r,s){if(!n.requestErrored_(r,s)){var u=s.responseText!==n.masterPlaylistLoader_.masterXml_;return n.masterPlaylistLoader_.masterXml_=s.responseText,n.masterLoaded_=s.responseHeaders&&s.responseHeaders.date?Date.parse(s.responseHeaders.date):Date.now(),n.masterPlaylistLoader_.srcUrl=No(n.handleManifestRedirects,n.masterPlaylistLoader_.srcUrl,s),u?(n.handleMaster_(),void n.syncClientServerClock_(function(){return e(s,u)})):e(s,u)}"HAVE_NOTHING"===n.state&&(n.started=!1)})},i.syncClientServerClock_=function(e){var n=this,r=function Oh(t){return function(a){if(!(a=xn(a,"UTCTiming")[0]))return null;var i=ri(a);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return i}(Cc(t))}(this.masterPlaylistLoader_.masterXml_);return null===r?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===r.method?(this.masterPlaylistLoader_.clientOffset_=r.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:Xi(this.masterPlaylistLoader_.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials},function(s,u){if(n.request){if(s)return n.masterPlaylistLoader_.clientOffset_=n.masterLoaded_-Date.now(),e();u="HEAD"===r.method?u.responseHeaders&&u.responseHeaders.date?Date.parse(u.responseHeaders.date):n.masterLoaded_:Date.parse(u.responseText),n.masterPlaylistLoader_.clientOffset_=u-Date.now(),e()}}))},i.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},i.handleMaster_=function(){this.mediaRequest_=null;var s=this.masterPlaylistLoader_.master,u=(Xc(d=Ph((d={masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:s}).masterXml,{manifestUri:u=d.srcUrl,clientOffset:d.clientOffset,sidxMapping:d.sidxMapping,previousManifest:d=d.previousManifest}),u,r0),d);s&&(u=function a0(t,a,i){for(var e,n,r=!0,s=wd(t,{duration:a.duration,minimumUpdatePeriod:a.minimumUpdatePeriod,timelineStarts:a.timelineStarts}),u=0;u<a.playlists.length;u++){var d,f=a.playlists[u];f.sidx&&(d=Mo(f.sidx),i&&i[d]&&i[d].sidx&&Ou(f,i[d].sidx,f.sidx.resolvedUri)),(f=Yu(s,f,id))&&(s=f,r=!1)}return Ya(a,function(m,w,C,M){var E,D;m.playlists&&m.playlists.length&&(E=m.playlists[0].id,(D=Yu(s,m.playlists[0],id))&&(M in(s=D).mediaGroups[w][C]||(s.mediaGroups[w][C][M]=m),s.mediaGroups[w][C][M].playlists[0]=s.playlists[E],r=!1))}),n=a,Ya(e=s,function(m,w,C,M){M in n.mediaGroups[w][C]||delete e.mediaGroups[w][C][M]}),(r=a.minimumUpdatePeriod===t.minimumUpdatePeriod&&r)?null:s}(s,u,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=u||s;var d=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return d&&d!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=d),(!s||u&&u.minimumUpdatePeriod!==s.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),!!u},i.updateMinimumUpdatePeriodTimeout_=function(){var e=this.masterPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(window.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);var n=e.master&&e.master.minimumUpdatePeriod;0===n&&(e.media()?n=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof n||n<=0?n<0&&this.logger_("found invalid minimumUpdatePeriod of "+n+", not setting a timeout"):this.createMUPTimeout_(n)},i.createMUPTimeout_=function(e){var n=this.masterPlaylistLoader_;n.minimumUpdatePeriodTimeout_=window.setTimeout(function(){n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(e)},e)},i.refreshXml_=function(){var e=this;this.requestMaster_(function(n,r){var s,u;r&&(e.media_&&(e.media_=e.masterPlaylistLoader_.master.playlists[e.media_.id]),e.masterPlaylistLoader_.sidxMapping_=(u=rd((r=e.masterPlaylistLoader_.master).playlists,s=e.masterPlaylistLoader_.sidxMapping_),Ya(r,function(d,f,m,w){d.playlists&&d.playlists.length&&(u=wd(u,rd(d=d.playlists,s)))}),u),e.addSidxSegments_(e.media(),e.state,function(d){e.refreshMedia_(e.media().id)}))})},i.refreshMedia_=function(e){var n=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var r=this.masterPlaylistLoader_.master.playlists,s=!this.media_||this.media_!==r[e];s?this.media_=r[e]:this.trigger("playlistunchanged"),this.mediaUpdateTimeout||function u(){n.media().endList||(n.mediaUpdateTimeout=window.setTimeout(function(){n.trigger("mediaupdatetimeout"),u()},$u(n.media(),!!s)))}(),this.trigger("loadedplaylist")},a}(ji=x.EventTarget),Kn={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},v0=(mr=function(t){return function(){var a=function(n){try{return URL.createObjectURL(new Blob([n],{type:"application/javascript"}))}catch{var r=new BlobBuilder;return r.append(n),URL.createObjectURL(r.getBlob())}}(t),i=ad(new Worker(a));i.objURL=a;var e=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(a),e.call(this)},i}})((qi=function(t){return"var browserWorkerPolyFill = "+ad.toString()+";\nbrowserWorkerPolyFill(self);\n"+t})((gn=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)})(function(){var Bn=function(){this.init=function(){var h={};this.on=function(g,T){h[g]||(h[g]=[]),h[g]=h[g].concat(T)},this.off=function(g,T){return!!h[g]&&(T=h[g].indexOf(T),h[g]=h[g].slice(),h[g].splice(T,1),-1<T)},this.trigger=function(g){var T,b,_,I=h[g];if(I)if(2===arguments.length)for(b=I.length,T=0;T<b;++T)I[T].call(this,arguments[1]);else{for(_=[],T=arguments.length,T=1;T<arguments.length;++T)_.push(arguments[T]);for(b=I.length,T=0;T<b;++T)I[T].apply(this,_)}},this.dispose=function(){h={}}}};Bn.prototype.pipe=function(h){return this.on("data",function(g){h.push(g)}),this.on("done",function(g){h.flush(g)}),this.on("partialdone",function(g){h.partialFlush(g)}),this.on("endedtimeline",function(g){h.endTimeline(g)}),this.on("reset",function(g){h.reset(g)}),h},Bn.prototype.push=function(h){this.trigger("data",h)},Bn.prototype.flush=function(h){this.trigger("done",h)},Bn.prototype.partialFlush=function(h){this.trigger("partialdone",h)},Bn.prototype.endTimeline=function(h){this.trigger("endedtimeline",h)},Bn.prototype.reset=function(h){this.trigger("reset",h)};var t,a,i,e,n,r,s,u,d,f,m,w,C,M,E,D,z,O,W,K,Y,ee,ce,pe,Me,ke,je,Ne,Ot,tt,qt,Lt,vt,fi,Ee,ye,St,nt,kn,Tn=Bn,sn=Math.pow(2,32),vr=($s={getUint64:function(h){var g=new DataView(h.buffer,h.byteOffset,h.byteLength);return g.getBigUint64?(h=g.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(h):h:g.getUint32(0)*sn+g.getUint32(4)},MAX_UINT32:sn}).MAX_UINT32;function In(h,g){var T={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return T.dataOffset=g,T.compositionTimeOffset=h.pts-h.dts,T.duration=h.duration,T.size=4*h.length,T.size+=h.byteLength,h.keyFrame&&(T.flags.dependsOn=2,T.flags.isNonSyncSample=0),T}function qe(h){for(var g=[];h--;)g.push(0);return g}(function(){if(Y={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array<"u"){for(var h in Y)Y.hasOwnProperty(h)&&(Y[h]=[h.charCodeAt(0),h.charCodeAt(1),h.charCodeAt(2),h.charCodeAt(3)]);ee=new Uint8Array([105,115,111,109]),pe=new Uint8Array([97,118,99,49]),ce=new Uint8Array([0,0,0,1]),Me=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ke=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),je={video:Me,audio:ke},tt=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Ot=new Uint8Array([0,0,0,0,0,0,0,0]),qt=new Uint8Array([0,0,0,0,0,0,0,0]),Lt=qt,vt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),fi=qt,Ne=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),t=function(h){for(var g,T=[],b=0,_=1;_<arguments.length;_++)T.push(arguments[_]);for(_=T.length;_--;)b+=T[_].byteLength;for(g=new Uint8Array(b+8),new DataView(g.buffer,g.byteOffset,g.byteLength).setUint32(0,g.byteLength),g.set(h,4),_=0,b=8;_<T.length;_++)g.set(T[_],b),b+=T[_].byteLength;return g},a=function(){return t(Y.dinf,t(Y.dref,tt))},i=function(h){return t(Y.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,h.audioobjecttype<<3|h.samplingfrequencyindex>>>1,h.samplingfrequencyindex<<7|h.channelcount<<3,6,1,2]))},M=function(h){return t(Y.hdlr,je[h])},C=function(h){var g=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,h.duration>>>24&255,h.duration>>>16&255,h.duration>>>8&255,255&h.duration,85,196,0,0]);return h.samplerate&&(g[12]=h.samplerate>>>24&255,g[13]=h.samplerate>>>16&255,g[14]=h.samplerate>>>8&255,g[15]=255&h.samplerate),t(Y.mdhd,g)},w=function(h){return t(Y.mdia,C(h),M(h.type),r(h))},n=function(h){return t(Y.mfhd,new Uint8Array([0,0,0,0,(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h]))},r=function(h){return t(Y.minf,"video"===h.type?t(Y.vmhd,Ne):t(Y.smhd,Ot),a(),D(h))},Xs=function(h,g){for(var T=[],b=g.length;b--;)T[b]=O(g[b]);return t.apply(null,[Y.moof,n(h)].concat(T))},s=function(h){for(var g=h.length,T=[];g--;)T[g]=f(h[g]);return t.apply(null,[Y.moov,d(4294967295)].concat(T).concat(u(h)))},u=function(h){for(var g=h.length,T=[];g--;)T[g]=W(h[g]);return t.apply(null,[Y.mvex].concat(T))},d=function(h){return h=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]),t(Y.mvhd,h)},E=function(h){for(var g,T=h.samples||[],b=new Uint8Array(4+T.length),_=0;_<T.length;_++)b[_+4]=(g=T[_].flags).dependsOn<<4|g.isDependedOn<<2|g.hasRedundancy;return t(Y.sdtp,b)},D=function(h){return t(Y.stbl,z(h),t(Y.stts,fi),t(Y.stsc,Lt),t(Y.stsz,vt),t(Y.stco,qt))},z=function(h){return t(Y.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),("video"===h.type?Ee:ye)(h))},Ee=function(h){for(var g,T,b=h.sps||[],_=h.pps||[],I=[],B=[],R=0;R<b.length;R++)I.push((65280&b[R].byteLength)>>>8),I.push(255&b[R].byteLength),I=I.concat(Array.prototype.slice.call(b[R]));for(R=0;R<_.length;R++)B.push((65280&_[R].byteLength)>>>8),B.push(255&_[R].byteLength),B=B.concat(Array.prototype.slice.call(_[R]));return g=[Y.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&h.width)>>8,255&h.width,(65280&h.height)>>8,255&h.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(Y.avcC,new Uint8Array([1,h.profileIdc,h.profileCompatibility,h.levelIdc,255].concat([b.length],I,[_.length],B))),t(Y.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],h.sarRatio&&(T=h.sarRatio[0],h=h.sarRatio[1],g.push(t(Y.pasp,new Uint8Array([(4278190080&T)>>24,(16711680&T)>>16,(65280&T)>>8,255&T,(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h])))),t.apply(null,g)},ye=function(h){return t(Y.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&h.channelcount)>>8,255&h.channelcount,(65280&h.samplesize)>>8,255&h.samplesize,0,0,0,0,(65280&h.samplerate)>>8,255&h.samplerate,0,0]),i(h))},m=function(h){return h=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&h.id)>>24,(16711680&h.id)>>16,(65280&h.id)>>8,255&h.id,0,0,0,0,(4278190080&h.duration)>>24,(16711680&h.duration)>>16,(65280&h.duration)>>8,255&h.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&h.width)>>8,255&h.width,0,0,(65280&h.height)>>8,255&h.height,0,0]),t(Y.tkhd,h)},O=function(h){var g,T=t(Y.tfhd,new Uint8Array([0,0,0,58,(4278190080&h.id)>>24,(16711680&h.id)>>16,(65280&h.id)>>8,255&h.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),_=Math.floor(h.baseMediaDecodeTime/vr),b=Math.floor(h.baseMediaDecodeTime%vr);return _=t(Y.tfdt,new Uint8Array([1,0,0,0,_>>>24&255,_>>>16&255,_>>>8&255,255&_,b>>>24&255,b>>>16&255,b>>>8&255,255&b])),"audio"===h.type?(g=K(h,92),t(Y.traf,T,_,g)):(b=E(h),g=K(h,b.length+92),t(Y.traf,T,_,g,b))},f=function(h){return h.duration=h.duration||4294967295,t(Y.trak,m(h),w(h))},W=function(h){var g=new Uint8Array([0,0,0,0,(4278190080&h.id)>>24,(16711680&h.id)>>16,(65280&h.id)>>8,255&h.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==h.type&&(g[g.length-1]=0),t(Y.trex,g)},St=function(h,g){var T=0,b=0,_=0,I=0;return h.length&&(void 0!==h[0].duration&&(T=1),void 0!==h[0].size&&(b=2),void 0!==h[0].flags&&(_=4),void 0!==h[0].compositionTimeOffset&&(I=8)),[0,0,T|b|_|I,1,(4278190080&h.length)>>>24,(16711680&h.length)>>>16,(65280&h.length)>>>8,255&h.length,(4278190080&g)>>>24,(16711680&g)>>>16,(65280&g)>>>8,255&g]},nt=function(h,g){var T,b,_,I,B=h.samples||[];for(g=St(B,g+=20+16*B.length),(b=new Uint8Array(g.length+16*B.length)).set(g),T=g.length,I=0;I<B.length;I++)b[T++]=(4278190080&(_=B[I]).duration)>>>24,b[T++]=(16711680&_.duration)>>>16,b[T++]=(65280&_.duration)>>>8,b[T++]=255&_.duration,b[T++]=(4278190080&_.size)>>>24,b[T++]=(16711680&_.size)>>>16,b[T++]=(65280&_.size)>>>8,b[T++]=255&_.size,b[T++]=_.flags.isLeading<<2|_.flags.dependsOn,b[T++]=_.flags.isDependedOn<<6|_.flags.hasRedundancy<<4|_.flags.paddingValue<<1|_.flags.isNonSyncSample,b[T++]=61440&_.flags.degradationPriority,b[T++]=15&_.flags.degradationPriority,b[T++]=(4278190080&_.compositionTimeOffset)>>>24,b[T++]=(16711680&_.compositionTimeOffset)>>>16,b[T++]=(65280&_.compositionTimeOffset)>>>8,b[T++]=255&_.compositionTimeOffset;return t(Y.trun,b)},kn=function(h,g){var T,b,_,I,B=h.samples||[];for(g=St(B,g+=20+8*B.length),(T=new Uint8Array(g.length+8*B.length)).set(g),b=g.length,I=0;I<B.length;I++)T[b++]=(4278190080&(_=B[I]).duration)>>>24,T[b++]=(16711680&_.duration)>>>16,T[b++]=(65280&_.duration)>>>8,T[b++]=255&_.duration,T[b++]=(4278190080&_.size)>>>24,T[b++]=(16711680&_.size)>>>16,T[b++]=(65280&_.size)>>>8,T[b++]=255&_.size;return t(Y.trun,T)},K=function(h,g){return("audio"===h.type?kn:nt)(h,g)},e=function(){return t(Y.ftyp,ee,ce,ee,pe)};var Ii,un=function(h){return t(Y.mdat,h)},es=Xs,zr=[33,16,5,32,164,27],cl=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],jd=function(h){return 9e4*h},dl=function(h){return h/9e4},na=9e4,Vd=jd,ai=dl,Wd=function(h,g){return jd(function(h,g){return h/g}(h,g))},hl=function(h,g,T){return dl(T?h:h-g)},ts=function(h){delete h.minSegmentDts,delete h.maxSegmentDts,delete h.minSegmentPts,delete h.maxSegmentPts},Gd=function(h,g){var T=h.minSegmentDts;return g||(T-=h.timelineStartInfo.dts),g=h.timelineStartInfo.baseMediaDecodeTime,g+=T,g=Math.max(0,g),"audio"===h.type&&(g*=h.samplerate/9e4,g=Math.floor(g)),g},pl=function(h,g){"number"==typeof g.pts&&(void 0===h.timelineStartInfo.pts&&(h.timelineStartInfo.pts=g.pts),h.minSegmentPts=void 0===h.minSegmentPts?g.pts:Math.min(h.minSegmentPts,g.pts),h.maxSegmentPts=void 0===h.maxSegmentPts?g.pts:Math.max(h.maxSegmentPts,g.pts)),"number"==typeof g.dts&&(void 0===h.timelineStartInfo.dts&&(h.timelineStartInfo.dts=g.dts),h.minSegmentDts=void 0===h.minSegmentDts?g.dts:Math.min(h.minSegmentDts,g.dts),h.maxSegmentDts=void 0===h.maxSegmentDts?g.dts:Math.max(h.maxSegmentDts,g.dts))},Cl=function(h){for(var g=h.byteLength,T=[],b=1;b<g-2;)0===h[b]&&0===h[b+1]&&3===h[b+2]?(T.push(b+2),b+=2):b++;if(0===T.length)return h;var _=g-T.length,I=new Uint8Array(_),B=0;for(b=0;b<_;B++,b++)B===T[0]&&(B++,T.shift()),I[b]=h[B];return I};function Xo(h){return 32<=h&&h<=127||160<=h&&h<=255}function br(h){this.windowNum=h,this.reset()}((Si=function h(g){g=g||{},h.prototype.init.call(this),this.parse708captions_="boolean"!=typeof g.parse708captions||g.parse708captions,this.captionPackets_=[],this.ccStreams_=[new yn(0,0),new yn(0,1),new yn(1,0),new yn(1,1)],this.parse708captions_&&(this.cc708Stream_=new tn({captionServices:g.captionServices})),this.reset(),this.ccStreams_.forEach(function(T){T.on("data",this.trigger.bind(this,"data")),T.on("partialdone",this.trigger.bind(this,"partialdone")),T.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))}).prototype=new Tn).push=function(h){var g,T;if("sei_rbsp"===h.nalUnitType&&(g=function(h){for(var g=0,T={payloadType:-1,payloadSize:0},b=0,_=0;g<h.byteLength&&128!==h[g];){for(;255===h[g];)b+=255,g++;for(b+=h[g++];255===h[g];)_+=255,g++;if(_+=h[g++],!T.payload&&4===b){if("GA94"===String.fromCharCode(h[g+3],h[g+4],h[g+5],h[g+6])){T.payloadType=b,T.payloadSize=_,T.payload=h.subarray(g,g+_);break}T.payload=void 0}g+=_,_=b=0}return T}(h.escapedRBSP)).payload&&4===g.payloadType&&(T=function(h){return 181!==h.payload[0]||49!=(h.payload[1]<<8|h.payload[2])||"GA94"!==String.fromCharCode(h.payload[3],h.payload[4],h.payload[5],h.payload[6])||3!==h.payload[7]?null:h.payload.subarray(8,h.payload.length-1)}(g)))if(h.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(h.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));T=function(h,g){var T,b,_,I,B=[];if(!(64&g[0]))return B;for(b=31&g[0],T=0;T<b;T++)I={type:3&g[2+(_=3*T)],pts:h},4&g[2+_]&&(I.ccData=g[3+_]<<8|g[4+_],B.push(I));return B}(h.pts,T),this.captionPackets_=this.captionPackets_.concat(T),this.latestDts_!==h.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=h.dts}},Si.prototype.flushCCStreams=function(h){this.ccStreams_.forEach(function(g){return"flush"===h?g.flush():g.partialFlush()},this)},Si.prototype.flushStream=function(h){this.captionPackets_.length&&(this.captionPackets_.forEach(function(g,T){g.presortIndex=T}),this.captionPackets_.sort(function(g,T){return g.pts===T.pts?g.presortIndex-T.presortIndex:g.pts-T.pts}),this.captionPackets_.forEach(function(g){g.type<2?this.dispatchCea608Packet(g):this.dispatchCea708Packet(g)},this),this.captionPackets_.length=0),this.flushCCStreams(h)},Si.prototype.flush=function(){return this.flushStream("flush")},Si.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Si.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(h){h.reset()})},Si.prototype.dispatchCea608Packet=function(h){this.setsTextOrXDSActive(h)?this.activeCea608Channel_[h.type]=null:this.setsChannel1Active(h)?this.activeCea608Channel_[h.type]=0:this.setsChannel2Active(h)&&(this.activeCea608Channel_[h.type]=1),null!==this.activeCea608Channel_[h.type]&&this.ccStreams_[(h.type<<1)+this.activeCea608Channel_[h.type]].push(h)},Si.prototype.setsChannel1Active=function(h){return 4096==(30720&h.ccData)},Si.prototype.setsChannel2Active=function(h){return 6144==(30720&h.ccData)},Si.prototype.setsTextOrXDSActive=function(h){return 256==(28928&h.ccData)||4138==(30974&h.ccData)||6186==(30974&h.ccData)},Si.prototype.dispatchCea708Packet=function(h){this.parse708captions_&&this.cc708Stream_.push(h)};var sp={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600};function Ko(h,g,T){this.serviceNum=h,this.text="",this.currentWindow=new br(-1),this.windows=[],this.stream=T,"string"==typeof g&&this.createTextDecoder(g)}br.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},br.prototype.getText=function(){return this.rows.join("\n")},br.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},br.prototype.newLine=function(h){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(h),0<this.rows.length&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},br.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},br.prototype.addText=function(h){this.rows[this.rowIdx]+=h},br.prototype.backspace=function(){var h;this.isEmpty()||(this.rows[this.rowIdx]=(h=this.rows[this.rowIdx]).substr(0,h.length-1))},Ko.prototype.init=function(h,g){this.startPts=h;for(var T=0;T<8;T++)this.windows[T]=new br(T),"function"==typeof g&&(this.windows[T].beforeRowOverflow=g)},Ko.prototype.setCurrentWindow=function(h){this.currentWindow=this.windows[h]},Ko.prototype.createTextDecoder=function(h){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(h)}catch(g){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+h+" encoding. "+g})}};var tn=function h(g){g=g||{},h.prototype.init.call(this);var T,b=this,_=g.captionServices||{},I={};Object.keys(_).forEach(function(B){T=_[B],/^SERVICE/.test(B)&&(I[B]=T.encoding)}),this.serviceEncodings=I,this.current708Packet=null,this.services={},this.push=function(B){(3===B.type||null===b.current708Packet)&&b.new708Packet(),b.add708Bytes(B)}};function Yo(h){return null===h?"":(h=op[h]||h,String.fromCharCode(h))}function ia(){for(var h=[],g=15;g--;)h.push("");return h}tn.prototype=new Tn,tn.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},tn.prototype.add708Bytes=function(h){var g=(T=h.ccData)>>>8,T=255&T;this.current708Packet.ptsVals.push(h.pts),this.current708Packet.data.push(g),this.current708Packet.data.push(T)},tn.prototype.push708Packet=function(){var h,g=this.current708Packet,T=g.data,b=null,_=0,I=T[_++];for(g.seq=I>>6,g.sizeCode=63&I;_<T.length;_++)h=31&(I=T[_++]),7==(b=I>>5)&&0<h&&(b=T[_++]),this.pushServiceBlock(b,_,h),0<h&&(_+=h-1)},tn.prototype.pushServiceBlock=function(h,g,T){for(var b,_=g,I=this.current708Packet.data,B=(B=this.services[h])||this.initService(h,_);_<g+T&&_<I.length;_++)Xo(b=I[_])?_=this.handleText(_,B):24===b?_=this.multiByteCharacter(_,B):16===b?_=this.extendedCommands(_,B):128<=b&&b<=135?_=this.setCurrentWindow(_,B):152<=b&&b<=159?_=this.defineWindow(_,B):136===b?_=this.clearWindows(_,B):140===b?_=this.deleteWindows(_,B):137===b?_=this.displayWindows(_,B):138===b?_=this.hideWindows(_,B):139===b?_=this.toggleWindows(_,B):151===b?_=this.setWindowAttributes(_,B):144===b?_=this.setPenAttributes(_,B):145===b?_=this.setPenColor(_,B):146===b?_=this.setPenLocation(_,B):143===b?B=this.reset(_,B):8===b?B.currentWindow.backspace():12===b?B.currentWindow.clearText():13===b?B.currentWindow.pendingNewLine=!0:14===b?B.currentWindow.clearText():141===b&&_++},tn.prototype.extendedCommands=function(h,g){return Xo(this.current708Packet.data[++h])?this.handleText(h,g,{isExtended:!0}):h},tn.prototype.getPts=function(h){return this.current708Packet.ptsVals[Math.floor(h/2)]},tn.prototype.initService=function(h,g){var T,b="SERVICE"+h,_=this;return b in this.serviceEncodings&&(T=this.serviceEncodings[b]),this.services[h]=new Ko(h,T,_),this.services[h].init(this.getPts(g),function(I){_.flushDisplayed(I,_.services[h])}),this.services[h]},tn.prototype.handleText=function(h,g,q){var b,_=q&&q.isExtended,I=q&&q.isMultiByte,B=_?4096:0,R=(ne=this.current708Packet.data)[h],ne=(q=ne[h+1],g.currentWindow),Z=g.textDecoder_&&!_?(I?(b=[R,q],h++):b=[R],g.textDecoder_.decode(new Uint8Array(b))):(Z=sp[R|=B]||R,4096&R&&R===Z?"":String.fromCharCode(Z));return ne.pendingNewLine&&!ne.isEmpty()&&ne.newLine(this.getPts(h)),ne.pendingNewLine=!1,ne.addText(Z),h},tn.prototype.multiByteCharacter=function(h,g){var T=(b=this.current708Packet.data)[h+1],b=b[h+2];return Xo(T)&&Xo(b)?this.handleText(++h,g,{isMultiByte:!0}):h},tn.prototype.setCurrentWindow=function(h,g){return g.setCurrentWindow(7&this.current708Packet.data[h]),h},tn.prototype.defineWindow=function(h,g){var T=this.current708Packet.data,b=T[h];return g.setCurrentWindow(7&b),b=T[++h],(g=g.currentWindow).visible=(32&b)>>5,g.rowLock=(16&b)>>4,g.columnLock=(8&b)>>3,g.priority=7&b,b=T[++h],g.relativePositioning=(128&b)>>7,g.anchorVertical=127&b,b=T[++h],g.anchorHorizontal=b,b=T[++h],g.anchorPoint=(240&b)>>4,g.rowCount=15&b,b=T[++h],g.columnCount=63&b,b=T[++h],g.windowStyle=(56&b)>>3,g.penStyle=7&b,g.virtualRowCount=g.rowCount+1,h},tn.prototype.setWindowAttributes=function(h,b){var T=this.current708Packet.data,_=T[h];return _=T[++h],(b=b.currentWindow.winAttr).fillOpacity=(192&_)>>6,b.fillRed=(48&_)>>4,b.fillGreen=(12&_)>>2,b.fillBlue=3&_,_=T[++h],b.borderType=(192&_)>>6,b.borderRed=(48&_)>>4,b.borderGreen=(12&_)>>2,b.borderBlue=3&_,_=T[++h],b.borderType+=(128&_)>>5,b.wordWrap=(64&_)>>6,b.printDirection=(48&_)>>4,b.scrollDirection=(12&_)>>2,b.justify=3&_,_=T[++h],b.effectSpeed=(240&_)>>4,b.effectDirection=(12&_)>>2,b.displayEffect=3&_,h},tn.prototype.flushDisplayed=function(h,g){for(var T=[],b=0;b<8;b++)g.windows[b].visible&&!g.windows[b].isEmpty()&&T.push(g.windows[b].getText());g.endPts=h,g.text=T.join("\n\n"),this.pushCaption(g),g.startPts=h},tn.prototype.pushCaption=function(h){""!==h.text&&(this.trigger("data",{startPts:h.startPts,endPts:h.endPts,text:h.text,stream:"cc708_"+h.serviceNum}),h.text="",h.startPts=h.endPts)},tn.prototype.displayWindows=function(h,g){var T=this.current708Packet.data[++h],b=this.getPts(h);this.flushDisplayed(b,g);for(var _=0;_<8;_++)T&1<<_&&(g.windows[_].visible=1);return h},tn.prototype.hideWindows=function(h,g){var T=this.current708Packet.data[++h],b=this.getPts(h);this.flushDisplayed(b,g);for(var _=0;_<8;_++)T&1<<_&&(g.windows[_].visible=0);return h},tn.prototype.toggleWindows=function(h,g){var T=this.current708Packet.data[++h],b=this.getPts(h);this.flushDisplayed(b,g);for(var _=0;_<8;_++)T&1<<_&&(g.windows[_].visible^=1);return h},tn.prototype.clearWindows=function(h,g){var T=this.current708Packet.data[++h],b=this.getPts(h);this.flushDisplayed(b,g);for(var _=0;_<8;_++)T&1<<_&&g.windows[_].clearText();return h},tn.prototype.deleteWindows=function(h,g){var T=this.current708Packet.data[++h],b=this.getPts(h);this.flushDisplayed(b,g);for(var _=0;_<8;_++)T&1<<_&&g.windows[_].reset();return h},tn.prototype.setPenAttributes=function(h,b){var T=this.current708Packet.data,_=T[h];return _=T[++h],(b=b.currentWindow.penAttr).textTag=(240&_)>>4,b.offset=(12&_)>>2,b.penSize=3&_,_=T[++h],b.italics=(128&_)>>7,b.underline=(64&_)>>6,b.edgeType=(56&_)>>3,b.fontStyle=7&_,h},tn.prototype.setPenColor=function(h,b){var T=this.current708Packet.data,_=T[h];return _=T[++h],(b=b.currentWindow.penColor).fgOpacity=(192&_)>>6,b.fgRed=(48&_)>>4,b.fgGreen=(12&_)>>2,b.fgBlue=3&_,_=T[++h],b.bgOpacity=(192&_)>>6,b.bgRed=(48&_)>>4,b.bgGreen=(12&_)>>2,b.bgBlue=3&_,_=T[++h],b.edgeRed=(48&_)>>4,b.edgeGreen=(12&_)>>2,b.edgeBlue=3&_,h},tn.prototype.setPenLocation=function(h,g){var T=this.current708Packet.data,b=T[h],_=g.currentWindow.penLoc;return g.currentWindow.pendingNewLine=!0,b=T[++h],_.row=15&b,b=T[++h],_.column=63&b,h},tn.prototype.reset=function(h,g){var T=this.getPts(h);return this.flushDisplayed(T,g),this.initService(g.serviceNum,h)};var op={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},up=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],yn=function h(g,T){h.prototype.init.call(this),this.field_=g||0,this.dataChannel_=T||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(b){var _,I,B,R,q=32639&b.ccData;q!==this.lastControlCode_?(4096==(61440&q)?this.lastControlCode_=q:q!==this.PADDING_&&(this.lastControlCode_=null),_=q>>>8,I=255&q,q===this.PADDING_||(q===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":q===this.END_OF_CAPTION_?(this.mode_="popOn",this.clearFormatting(b.pts),this.flushDisplayed(b.pts),R=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=R,this.startPts_=b.pts):q===this.ROLL_UP_2_ROWS_?(this.rollUpRows_=2,this.setRollUp(b.pts)):q===this.ROLL_UP_3_ROWS_?(this.rollUpRows_=3,this.setRollUp(b.pts)):q===this.ROLL_UP_4_ROWS_?(this.rollUpRows_=4,this.setRollUp(b.pts)):q===this.CARRIAGE_RETURN_?(this.clearFormatting(b.pts),this.flushDisplayed(b.pts),this.shiftRowsUp_(),this.startPts_=b.pts):q===this.BACKSPACE_?"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1):q===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(b.pts),this.displayed_=ia()):q===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=ia():q===this.RESUME_DIRECT_CAPTIONING_?("paintOn"!==this.mode_&&(this.flushDisplayed(b.pts),this.displayed_=ia()),this.mode_="paintOn",this.startPts_=b.pts):this.isSpecialCharacter(_,I)?(B=Yo((_=(3&_)<<8)|I),this[this.mode_](b.pts,B),this.column_++):this.isExtCharacter(_,I)?("popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),B=Yo((_=(3&_)<<8)|I),this[this.mode_](b.pts,B),this.column_++):this.isMidRowCode(_,I)?(this.clearFormatting(b.pts),this[this.mode_](b.pts," "),this.column_++,14==(14&I)&&this.addFormatting(b.pts,["i"]),1==(1&I)&&this.addFormatting(b.pts,["u"])):this.isOffsetControlCode(_,I)?this.column_+=3&I:this.isPAC(_,I)?(R=up.indexOf(7968&q),"rollUp"===this.mode_&&(R-this.rollUpRows_+1<0&&(R=this.rollUpRows_-1),this.setRollUp(b.pts,R)),R!==this.row_&&(this.clearFormatting(b.pts),this.row_=R),1&I&&-1===this.formatting_.indexOf("u")&&this.addFormatting(b.pts,["u"]),16==(16&q)&&(this.column_=4*((14&q)>>1)),this.isColorPAC(I)&&14==(14&I)&&this.addFormatting(b.pts,["i"])):this.isNormalChar(_)&&(0===I&&(I=null),B=Yo(_),B+=Yo(I),this[this.mode_](b.pts,B),this.column_+=B.length))):this.lastControlCode_=null}};function fl(h,g){var T=1;for(g<h&&(T=-1);4294967296<Math.abs(g-h);)h+=8589934592*T;return h}yn.prototype=new Tn,yn.prototype.flushDisplayed=function(h){var g=this.displayed_.map(function(T,b){try{return T.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+b+"."}),""}},this).join("\n").replace(/^\n+|\n+$/g,"");g.length&&this.trigger("data",{startPts:this.startPts_,endPts:h,text:g,stream:this.name_})},yn.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ia(),this.nonDisplayed_=ia(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},yn.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},yn.prototype.isSpecialCharacter=function(h,g){return h===this.EXT_&&48<=g&&g<=63},yn.prototype.isExtCharacter=function(h,g){return(h===this.EXT_+1||h===this.EXT_+2)&&32<=g&&g<=63},yn.prototype.isMidRowCode=function(h,g){return h===this.EXT_&&32<=g&&g<=47},yn.prototype.isOffsetControlCode=function(h,g){return h===this.OFFSET_&&33<=g&&g<=35},yn.prototype.isPAC=function(h,g){return h>=this.BASE_&&h<this.BASE_+8&&64<=g&&g<=127},yn.prototype.isColorPAC=function(h){return 64<=h&&h<=79||96<=h&&h<=127},yn.prototype.isNormalChar=function(h){return 32<=h&&h<=127},yn.prototype.setRollUp=function(h,g){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(h),this.nonDisplayed_=ia(),this.displayed_=ia()),void 0!==g&&g!==this.row_)for(var T=0;T<this.rollUpRows_;T++)this.displayed_[g-T]=this.displayed_[this.row_-T],this.displayed_[this.row_-T]="";void 0===g&&(g=this.row_),this.topRow_=g-this.rollUpRows_+1},yn.prototype.addFormatting=function(h,g){this.formatting_=this.formatting_.concat(g),g=g.reduce(function(T,b){return T+"<"+b+">"},""),this[this.mode_](h,g)},yn.prototype.clearFormatting=function(h){var g;this.formatting_.length&&(g=this.formatting_.reverse().reduce(function(T,b){return T+"</"+b+">"},""),this.formatting_=[],this[this.mode_](h,g))},yn.prototype.popOn=function(h,g){var T=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=T+=g},yn.prototype.rollUp=function(h,g){var T=this.displayed_[this.row_];this.displayed_[this.row_]=T+=g},yn.prototype.shiftRowsUp_=function(){for(var h=0;h<this.topRow_;h++)this.displayed_[h]="";for(h=this.row_+1;h<15;h++)this.displayed_[h]="";for(h=this.topRow_;h<this.row_;h++)this.displayed_[h]=this.displayed_[h+1];this.displayed_[this.row_]=""},yn.prototype.paintOn=function(h,g){var T=this.displayed_[this.row_];this.displayed_[this.row_]=T+=g};var $o={CaptionStream:Si,Cea608Stream:yn,Cea708Stream:tn},Zn={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21};function Xd(h,g,T){for(var b="",_=g;_<T;_++)b+="%"+("00"+h[_].toString(16)).slice(-2);return b}function Qo(h,g,T){return decodeURIComponent(Xd(h,g,T))}function Jo(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]}(Bn=function h(g){var T,b;h.prototype.init.call(this),this.type_=g||"shared",this.push=function(_){"shared"!==this.type_&&_.type!==this.type_||(void 0===b&&(b=_.dts),_.dts=fl(_.dts,b),_.pts=fl(_.pts,b),T=_.dts,this.trigger("data",_))},this.flush=function(){b=T,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){T=b=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}}).prototype=new Tn;var Xs=Bn,Si=fl,Kd={TXXX:function(h){var g;if(3===h.data[0]){for(g=1;g<h.data.length;g++)if(0===h.data[g]){h.description=Qo(h.data,1,g),h.value=Qo(h.data,g+1,h.data.length).replace(/\0*$/,"");break}h.data=h.value}},WXXX:function(h){var g;if(3===h.data[0])for(g=1;g<h.data.length;g++)if(0===h.data[g]){h.description=Qo(h.data,1,g),h.url=Qo(h.data,g+1,h.data.length);break}},PRIV:function(h){for(var T=0;T<h.data.length;T++)if(0===h.data[T]){h.owner=unescape(Xd(h.data,0,T));break}h.privateData=h.data.subarray(T+1),h.data=h.privateData}},ml=function(h){var g,T={descriptor:h&&h.descriptor},b=0,_=[],I=0;if(ml.prototype.init.call(this),this.dispatchType=Zn.METADATA_STREAM_TYPE.toString(16),T.descriptor)for(g=0;g<T.descriptor.length;g++)this.dispatchType+=("00"+T.descriptor[g].toString(16)).slice(-2);this.push=function(B){var R,q,ne,Z,te,Te,Ye;if("timed-metadata"===B.type)if(B.dataAlignmentIndicator&&(I=0,_.length=0),0===_.length&&(B.data.length<10||73!==B.data[0]||68!==B.data[1]||51!==B.data[2]))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(_.push(B),I+=B.data.byteLength,1===_.length&&(b=Jo(B.data.subarray(6,10)),b+=10),!(I<b)){for(R={data:new Uint8Array(b),frames:[],pts:_[0].pts,dts:_[0].dts},Z=0;Z<b;)R.data.set(_[0].data.subarray(0,b-Z),Z),Z+=_[0].data.byteLength,I-=_[0].data.byteLength,_.shift();q=10,64&R.data[5]&&(q+=4,q+=Jo(R.data.subarray(10,14)),b-=Jo(R.data.subarray(16,20)));do{if((ne=Jo(R.data.subarray(q+4,q+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."})}while((Ye={id:String.fromCharCode(R.data[q],R.data[q+1],R.data[q+2],R.data[q+3]),data:R.data.subarray(q+10,q+ne+10)}).key=Ye.id,Kd[Ye.id]&&(Kd[Ye.id](Ye),"com.apple.streaming.transportStreamTimestamp"===Ye.owner&&(Te=(1&(te=Ye.data)[3])<<30|te[4]<<22|te[5]<<14|te[6]<<6|te[7]>>>2,Te*=4,Ye.timeStamp=Te+=3&te[7],void 0===R.pts&&void 0===R.dts&&(R.pts=Ye.timeStamp,R.dts=Ye.timeStamp),this.trigger("timestamp",Ye))),R.frames.push(Ye),q+=10,(q+=ne)<b);this.trigger("data",R)}}};ml.prototype=new Tn,Bn=ml;var Zo,gl,yl=function(){var h=new Uint8Array(188),g=0;yl.prototype.init.call(this),this.push=function(T){var b,_=0,I=188;for(g?((b=new Uint8Array(T.byteLength+g)).set(h.subarray(0,g)),b.set(T,g),g=0):b=T;I<b.byteLength;)71!==b[_]||71!==b[I]?(_++,I++):(this.trigger("data",b.subarray(_,I)),_+=188,I+=188);_<b.byteLength&&(h.set(b.subarray(_),0),g=b.byteLength-_)},this.flush=function(){188===g&&71===h[0]&&(this.trigger("data",h),g=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){g=0,this.trigger("reset")}};yl.prototype=new Tn,(Zo=function(){var h,g,T,b;Zo.prototype.init.call(this),(b=this).packetsWaitingForPmt=[],this.programMapTable=void 0,h=function(_,I){var B=0;I.payloadUnitStartIndicator&&(B+=_[B]+1),("pat"===I.type?g:T)(_.subarray(B),I)},g=function(_,I){I.section_number=_[7],I.last_section_number=_[8],b.pmtPid=(31&_[10])<<8|_[11],I.pmtPid=b.pmtPid},T=function(_,I){var B,R;if(1&_[5]){for(b.programMapTable={video:null,audio:null,"timed-metadata":{}},B=3+((15&_[1])<<8|_[2])-4,R=12+((15&_[10])<<8|_[11]);R<B;){var q=_[R],ne=(31&_[R+1])<<8|_[R+2];q===Zn.H264_STREAM_TYPE&&null===b.programMapTable.video?b.programMapTable.video=ne:q===Zn.ADTS_STREAM_TYPE&&null===b.programMapTable.audio?b.programMapTable.audio=ne:q===Zn.METADATA_STREAM_TYPE&&(b.programMapTable["timed-metadata"][ne]=q),R+=5+((15&_[R+3])<<8|_[R+4])}I.programMapTable=b.programMapTable}},this.push=function(_){var I={},B=4;if(I.payloadUnitStartIndicator=!!(64&_[1]),I.pid=31&_[1],I.pid<<=8,I.pid|=_[2],1<(48&_[3])>>>4&&(B+=_[B]+1),0===I.pid)I.type="pat",h(_.subarray(B),I),this.trigger("data",I);else if(I.pid===this.pmtPid)for(I.type="pmt",h(_.subarray(B),I),this.trigger("data",I);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([_,B,I]):this.processPes_(_,B,I)},this.processPes_=function(_,I,B){B.streamType=B.pid===this.programMapTable.video?Zn.H264_STREAM_TYPE:B.pid===this.programMapTable.audio?Zn.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][B.pid],B.type="pes",B.data=_.subarray(I),this.trigger("data",B)}}).prototype=new Tn,Zo.STREAM_TYPES={h264:27,adts:15},(gl=function(){function h(R,q,ne){var Z,te,Te,Ye,ht=new Uint8Array(R.size),bt={type:q},Mt=0,Kt=0;if(R.data.length&&!(R.size<9)){for(bt.trackId=R.data[0].pid,Mt=0;Mt<R.data.length;Mt++)ht.set((Z=R.data[Mt]).data,Kt),Kt+=Z.data.byteLength;Ye=(te=ht)[0]<<16|te[1]<<8|te[2],(Te=bt).data=new Uint8Array,1==Ye&&(Te.packetLength=6+(te[4]<<8|te[5]),Te.dataAlignmentIndicator=0!=(4&te[6]),192&(Ye=te[7])&&(Te.pts=(14&te[9])<<27|(255&te[10])<<20|(254&te[11])<<12|(255&te[12])<<5|(254&te[13])>>>3,Te.pts*=4,Te.pts+=(6&te[13])>>>1,Te.dts=Te.pts,64&Ye&&(Te.dts=(14&te[14])<<27|(255&te[15])<<20|(254&te[16])<<12|(255&te[17])<<5|(254&te[18])>>>3,Te.dts*=4,Te.dts+=(6&te[18])>>>1)),Te.data=te.subarray(9+te[8])),q="video"===q||bt.packetLength<=R.size,(ne||q)&&(R.size=0,R.data.length=0),q&&T.trigger("data",bt)}}var g,T=this,b=!1,_={data:[],size:0},I={data:[],size:0},B={data:[],size:0};gl.prototype.init.call(this),this.push=function(R){({pat:function(){},pes:function(){var q,ne;switch(R.streamType){case Zn.H264_STREAM_TYPE:q=_,ne="video";break;case Zn.ADTS_STREAM_TYPE:q=I,ne="audio";break;case Zn.METADATA_STREAM_TYPE:q=B,ne="timed-metadata";break;default:return}R.payloadUnitStartIndicator&&h(q,ne,!0),q.data.push(R),q.size+=R.data.byteLength},pmt:function(){var q={type:"metadata",tracks:[]};null!==(g=R.programMapTable).video&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+g.video,codec:"avc",type:"video"}),null!==g.audio&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+g.audio,codec:"adts",type:"audio"}),b=!0,T.trigger("data",q)}})[R.type]()},this.reset=function(){_.size=0,_.data.length=0,I.size=0,I.data.length=0,this.trigger("reset")},this.flushStreams_=function(){h(_,"video"),h(I,"audio"),h(B,"timed-metadata")},this.flush=function(){var R;!b&&g&&(R={type:"metadata",tracks:[]},null!==g.video&&R.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+g.video,codec:"avc",type:"video"}),null!==g.audio&&R.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+g.audio,codec:"adts",type:"audio"}),T.trigger("data",R)),b=!1,this.flushStreams_(),this.trigger("done")}}).prototype=new Tn;var eu,Yd={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:yl,TransportParseStream:Zo,ElementaryStream:gl,TimestampRolloverStream:Xs,CaptionStream:$o.CaptionStream,Cea608Stream:$o.Cea608Stream,Cea708Stream:$o.Cea708Stream,MetadataStream:Bn};for(eu in Zn)Zn.hasOwnProperty(eu)&&(Yd[eu]=Zn[eu]);var _r=Yd,$d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],vl=function(h){var g,T=0;vl.prototype.init.call(this),this.skipWarn_=function(b,_){this.trigger("log",{level:"warn",message:"adts skiping bytes "+b+" to "+_+" in frame "+T+" outside syncword"})},this.push=function(b){var _,I,B,R,q,ne,Z=0;if(h||(T=0),"audio"===b.type){for(g&&g.length?(B=g,(g=new Uint8Array(B.byteLength+b.data.byteLength)).set(B),g.set(b.data,B.byteLength)):g=b.data;Z+7<g.length;)if(255===g[Z]&&240==(246&g[Z+1])){if("number"==typeof ne&&(this.skipWarn_(ne,Z),ne=null),I=2*(1&~g[Z+1]),q=9e4*(R=1024*(1+(3&g[Z+6])))/$d[(60&g[Z+2])>>>2],g.byteLength-Z<(_=(3&g[Z+3])<<11|g[Z+4]<<3|(224&g[Z+5])>>5))break;this.trigger("data",{pts:b.pts+T*q,dts:b.dts+T*q,sampleCount:R,audioobjecttype:1+(g[Z+2]>>>6&3),channelcount:(1&g[Z+2])<<2|(192&g[Z+3])>>>6,samplerate:$d[(60&g[Z+2])>>>2],samplingfrequencyindex:(60&g[Z+2])>>>2,samplesize:16,data:g.subarray(Z+7+I,Z+_)}),T++,Z+=_}else"number"!=typeof ne&&(ne=Z),Z++;"number"==typeof ne&&(this.skipWarn_(ne,Z),ne=null),g=g.subarray(Z)}},this.flush=function(){T=0,this.trigger("done")},this.reset=function(){g=void 0,this.trigger("reset")},this.endTimeline=function(){g=void 0,this.trigger("endedtimeline")}};vl.prototype=new Tn;var bl,Qd,Jd=vl,cp=function(h){var g=h.byteLength,T=0,b=0;this.length=function(){return 8*g},this.bitsAvailable=function(){return 8*g+b},this.loadWord=function(){var _=h.byteLength-g,I=new Uint8Array(4),B=Math.min(4,g);if(0===B)throw new Error("no bytes available");I.set(h.subarray(_,_+B)),T=new DataView(I.buffer).getUint32(0),b=8*B,g-=B},this.skipBits=function(_){var I;_<b||(_-=b,_-=8*(I=Math.floor(_/8)),g-=I,this.loadWord()),T<<=_,b-=_},this.readBits=function(_){var I=Math.min(b,_),B=T>>>32-I;return 0<(b-=I)?T<<=I:0<g&&this.loadWord(),0<(I=_-I)?B<<I|this.readBits(I):B},this.skipLeadingZeros=function(){for(var _=0;_<b;++_)if(T&2147483648>>>_)return T<<=_,b-=_,_;return this.loadWord(),_+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var _=this.skipLeadingZeros();return this.readBits(_+1)-1},this.readExpGolomb=function(){var _=this.readUnsignedExpGolomb();return 1&_?1+_>>>1:-1*(_>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},tu=function(){var h,g,T=0;tu.prototype.init.call(this),this.push=function(b){for(var _,I=(g=g?((_=new Uint8Array(g.byteLength+b.data.byteLength)).set(g),_.set(b.data,g.byteLength),_):b.data).byteLength;T<I-3;T++)if(1===g[T+2]){h=T+5;break}for(;h<I;)switch(g[h]){case 0:if(0!==g[h-1]){h+=2;break}if(0!==g[h-2]){h++;break}for(T+3!==h-2&&this.trigger("data",g.subarray(T+3,h-2));1!==g[++h]&&h<I;);T=h-2,h+=3;break;case 1:if(0!==g[h-1]||0!==g[h-2]){h+=3;break}this.trigger("data",g.subarray(T+3,h-2)),T=h-2,h+=3;break;default:h+=3}g=g.subarray(T),h-=T,T=0},this.reset=function(){g=null,T=0,this.trigger("reset")},this.flush=function(){g&&3<g.byteLength&&this.trigger("data",g.subarray(T+3)),g=null,T=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}};function Zd(h,g){var T=0<=(T=h[g+6]<<21|h[g+7]<<14|h[g+8]<<7|h[g+9])?T:0;return(16&h[g+5])>>4?T+20:T+10}function eh(h,g){return h.length-g<10||73!==h[g]||68!==h[g+1]||51!==h[g+2]?g:eh(h,g+=Zd(h,g))}function th(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]}tu.prototype=new Tn,Qd={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(bl=function(){var h,g,T,b,_,I,B,R=new tu;bl.prototype.init.call(this),(h=this).push=function(q){"video"===q.type&&(g=q.trackId,T=q.pts,b=q.dts,R.push(q))},R.on("data",function(q){var ne={trackId:g,pts:T,dts:b,data:q,nalUnitTypeCode:31&q[0]};switch(ne.nalUnitTypeCode){case 5:ne.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ne.nalUnitType="sei_rbsp",ne.escapedRBSP=_(q.subarray(1));break;case 7:ne.nalUnitType="seq_parameter_set_rbsp",ne.escapedRBSP=_(q.subarray(1)),ne.config=I(ne.escapedRBSP);break;case 8:ne.nalUnitType="pic_parameter_set_rbsp";break;case 9:ne.nalUnitType="access_unit_delimiter_rbsp"}h.trigger("data",ne)}),R.on("done",function(){h.trigger("done")}),R.on("partialdone",function(){h.trigger("partialdone")}),R.on("reset",function(){h.trigger("reset")}),R.on("endedtimeline",function(){h.trigger("endedtimeline")}),this.flush=function(){R.flush()},this.partialFlush=function(){R.partialFlush()},this.reset=function(){R.reset()},this.endTimeline=function(){R.endTimeline()},B=function(q,ne){for(var Z=8,te=8,Te=0;Te<q;Te++)Z=0===(te=0!==te?(Z+ne.readExpGolomb()+256)%256:te)?Z:te},_=function(q){for(var ne=q.byteLength,Z=[],te=1;te<ne-2;)0===q[te]&&0===q[te+1]&&3===q[te+2]?(Z.push(te+2),te+=2):te++;if(0===Z.length)return q;var Te=ne-Z.length,Ye=new Uint8Array(Te),ht=0;for(te=0;te<Te;ht++,te++)ht===Z[0]&&(ht++,Z.shift()),Ye[te]=q[ht];return Ye},I=function(q){var ne,Z,te,Te,Ye,ht=0,bt=0,Mt=0,Kt=0,Je=[1,1],lt=new cp(q),Hr=lt.readUnsignedByte(),as=lt.readUnsignedByte(),Al=lt.readUnsignedByte();if(lt.skipUnsignedExpGolomb(),Qd[Hr]&&(3===(Z=lt.readUnsignedExpGolomb())&&lt.skipBits(1),lt.skipUnsignedExpGolomb(),lt.skipUnsignedExpGolomb(),lt.skipBits(1),lt.readBoolean()))for(Te=3!==Z?8:12,Ye=0;Ye<Te;Ye++)lt.readBoolean()&&B(Ye<6?16:64,lt);if(lt.skipUnsignedExpGolomb(),0===(te=lt.readUnsignedExpGolomb()))lt.readUnsignedExpGolomb();else if(1===te)for(lt.skipBits(1),lt.skipExpGolomb(),lt.skipExpGolomb(),ne=lt.readUnsignedExpGolomb(),Ye=0;Ye<ne;Ye++)lt.skipExpGolomb();if(lt.skipUnsignedExpGolomb(),lt.skipBits(1),q=lt.readUnsignedExpGolomb(),Z=lt.readUnsignedExpGolomb(),0===(te=lt.readBits(1))&&lt.skipBits(1),lt.skipBits(1),lt.readBoolean()&&(ht=lt.readUnsignedExpGolomb(),bt=lt.readUnsignedExpGolomb(),Mt=lt.readUnsignedExpGolomb(),Kt=lt.readUnsignedExpGolomb()),lt.readBoolean()&&lt.readBoolean())switch(lt.readUnsignedByte()){case 1:Je=[1,1];break;case 2:Je=[12,11];break;case 3:Je=[10,11];break;case 4:Je=[16,11];break;case 5:Je=[40,33];break;case 6:Je=[24,11];break;case 7:Je=[20,11];break;case 8:Je=[32,11];break;case 9:Je=[80,33];break;case 10:Je=[18,11];break;case 11:Je=[15,11];break;case 12:Je=[64,33];break;case 13:Je=[160,99];break;case 14:Je=[4,3];break;case 15:Je=[3,2];break;case 16:Je=[2,1];break;case 255:Je=[lt.readUnsignedByte()<<8|lt.readUnsignedByte(),lt.readUnsignedByte()<<8|lt.readUnsignedByte()]}return{profileIdc:Hr,levelIdc:Al,profileCompatibility:as,width:16*(q+1)-2*ht-2*bt,height:(2-te)*(Z+1)*16-2*Mt-2*Kt,sarRatio:Je}}}).prototype=new Tn,Bn={H264Stream:bl,NalByteStream:tu};var dp=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],nu={isLikelyAacData:function(h){var g=eh(h,0);return h.length>=g+2&&255==(255&h[g])&&240==(240&h[g+1])&&16==(22&h[g+1])},parseId3TagSize:Zd,parseAdtsSize:function(h,g){return 6144&h[g+3]|h[g+4]<<3|(224&h[g+5])>>5},parseType:function(h,g){return 73===h[g]&&68===h[g+1]&&51===h[g+2]?"timed-metadata":!0&h[g]&&240==(240&h[g+1])?"audio":null},parseSampleRate:function(h){for(var g=0;g+5<h.length;){if(255===h[g]&&240==(246&h[g+1]))return dp[(60&h[g+2])>>>2];g++}return null},parseAacTimestamp:function(h){var g,T=10;64&h[5]&&(T+=4,T+=th(h.subarray(10,14)));do{if((g=th(h.subarray(T+4,T+8)))<1)return null;if("PRIV"===String.fromCharCode(h[T],h[T+1],h[T+2],h[T+3]))for(var b=h.subarray(T+10,T+g+10),_=0;_<b.byteLength;_++)if(0===b[_]){if("com.apple.streaming.transportStreamTimestamp"!==unescape(function(R,q,ne){for(var Z="",te=0;te<ne;te++)Z+="%"+("00"+R[te].toString(16)).slice(-2);return Z}(b,0,_)))break;var I=b.subarray(_+1),B=(1&I[3])<<30|I[4]<<22|I[5]<<14|I[6]<<6|I[7]>>>2;return(B*=4)+(3&I[7])}}while(T+=10,(T+=g)<h.byteLength);return null}},_l=function(){var h=new Uint8Array,g=0;_l.prototype.init.call(this),this.setTimestamp=function(T){g=T},this.push=function(T){var b,_,I=0,B=0;for(h.length?(_=h.length,(h=new Uint8Array(T.byteLength+_)).set(h.subarray(0,_)),h.set(T,_)):h=T;3<=h.length-B;)if(73!==h[B]||68!==h[B+1]||51!==h[B+2])if(255!=(255&h[B])||240!=(240&h[B+1]))B++;else{if(h.length-B<7||B+(I=nu.parseAdtsSize(h,B))>h.length)break;b={type:"audio",data:h.subarray(B,B+I),pts:g,dts:g},this.trigger("data",b),B+=I}else{if(h.length-B<10||B+(I=nu.parseId3TagSize(h,B))>h.length)break;b={type:"timed-metadata",data:h.subarray(B,B+I)},this.trigger("data",b),B+=I}h=0<(T=h.length-B)?h.subarray(B):new Uint8Array},this.reset=function(){h=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){h=new Uint8Array,this.trigger("endedtimeline")}};function hp(h,g){g.stream=h,this.trigger("log",g)}function nh(h,g){for(var T=Object.keys(g),b=0;b<T.length;b++){var _=T[b];"headOfPipeline"!==_&&g[_].on&&g[_].on("log",hp.bind(h,_))}}function ih(h,g){var T;if(h.length===g.length){for(T=0;T<h.length;T++)if(h[T]!==g[T])return;return 1}}function Tl(h,g,T,b,_,I){return{start:{dts:h,pts:h+(T-g)},end:{dts:h+(b-g),pts:h+(_-T)},prependedContentDuration:I,baseMediaDecodeTime:h}}_l.prototype=new Tn;var iu,wl,ns,pp=_l,Sl=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],xl=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],fp=Bn.H264Stream,mp=nu.isLikelyAacData,Ks=function(h,g){var T=[],b=0,_=0,I=1/0,B=(g=g||{}).firstSequenceNumber||0;Ks.prototype.init.call(this),this.push=function(R){pl(h,R),h&&Sl.forEach(function(q){h[q]=R[q]}),T.push(R)},this.setEarliestDts=function(R){b=R},this.setVideoBaseMediaDecodeTime=function(R){I=R},this.setAudioAppendStart=function(R){_=R},this.flush=function(){var R,q,ne,Z,te;0!==T.length&&(R=function(h,g,T){return g.minSegmentDts>=T?h:(g.minSegmentDts=1/0,h.filter(function(b){return b.dts>=T&&(g.minSegmentDts=Math.min(g.minSegmentDts,b.dts),g.minSegmentPts=g.minSegmentDts,!0)}))}(T,h,b),h.baseMediaDecodeTime=Gd(h,g.keepOriginalTimestamps),te=function(h,g,T,b){var _,I,B,R,q,ne,Z=0,te=0;if(g.length&&(_=Wd(h.baseMediaDecodeTime,h.samplerate),I=Math.ceil(na/(h.samplerate/1024)),T&&b&&(B=_-Math.max(T,b),te=(Z=Math.floor(B/I))*I),!(Z<1||na/2<te))){for(R=(R=function zt(){var h,g;return Ii||(h={96e3:[zr,[227,64],qe(154),[56]],88200:[zr,[231],qe(170),[56]],64e3:[zr,[248,192],qe(240),[56]],48e3:[zr,[255,192],qe(268),[55,148,128],qe(54),[112]],44100:[zr,[255,192],qe(268),[55,163,128],qe(84),[112]],32e3:[zr,[255,192],qe(268),[55,234],qe(226),[112]],24e3:[zr,[255,192],qe(268),[55,255,128],qe(268),[111,112],qe(126),[224]],16e3:[zr,[255,192],qe(268),[55,255,128],qe(268),[111,255],qe(269),[223,108],qe(195),[1,192]],12e3:[cl,qe(268),[3,127,248],qe(268),[6,255,240],qe(268),[13,255,224],qe(268),[27,253,128],qe(259),[56]],11025:[cl,qe(268),[3,127,248],qe(268),[6,255,240],qe(268),[13,255,224],qe(268),[27,255,192],qe(268),[55,175,128],qe(108),[112]],8e3:[cl,qe(268),[3,121,16],qe(47),[7]]},g=h,Ii=Object.keys(g).reduce(function(T,b){return T[b]=new Uint8Array(g[b].reduce(function(_,I){return _.concat(I)},[])),T},{})),Ii}()[h.samplerate])||g[0].data,q=0;q<Z;q++)g.splice(0,0,{data:R,dts:(ne=g[0]).dts-I,pts:ne.pts-I});return h.baseMediaDecodeTime-=Math.floor(function(h,g){return function(h,g){return h*g}(dl(h),g)}(te,h.samplerate)),te}}(h,R,_,I),h.samples=function(h){for(var T=[],b=0;b<h.length;b++)T.push({size:h[b].data.byteLength,duration:1024});return T}(R),q=un(function(h){for(var g,T=0,b=new Uint8Array(function(I){for(var B=0,R=0;R<I.length;R++)B+=I[R].data.byteLength;return B}(h)),_=0;_<h.length;_++)b.set((g=h[_]).data,T),T+=g.data.byteLength;return b}(R)),T=[],Z=es(B,[h]),ne=new Uint8Array(Z.byteLength+q.byteLength),B++,ne.set(Z),ne.set(q,Z.byteLength),ts(h),Z=Math.ceil(9216e4/h.samplerate),R.length&&(Z*=R.length,this.trigger("segmentTimingInfo",Tl(Wd(h.baseMediaDecodeTime,h.samplerate),R[0].dts,R[0].pts,R[0].dts+Z,R[0].pts+Z,te||0)),this.trigger("timingInfo",{start:R[0].pts,end:R[0].pts+Z})),this.trigger("data",{track:h,boxes:ne})),this.trigger("done","AudioSegmentStream")},this.reset=function(){ts(h),T=[],this.trigger("reset")}};function rh(h){var g=31&h[1];return(g<<=8)|h[2]}function ru(h){return!!(64&h[1])}function au(h){var g=0;return 1<(48&h[3])>>>4&&(g+=h[4]+1),g}function kl(h){switch(h){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}}Ks.prototype=new Tn,(iu=function(h,g){var T,b,_=[],I=[],B=(g=g||{}).firstSequenceNumber||0;iu.prototype.init.call(this),delete h.minPTS,this.gopCache_=[],this.push=function(R){pl(h,R),"seq_parameter_set_rbsp"!==R.nalUnitType||T||(T=R.config,h.sps=[R.data],xl.forEach(function(q){h[q]=T[q]},this)),"pic_parameter_set_rbsp"!==R.nalUnitType||b||(b=R.data,h.pps=[R.data]),_.push(R)},this.flush=function(){for(var R,q,ne,Z=0;_.length&&"access_unit_delimiter_rbsp"!==_[0].nalUnitType;)_.shift();if(0===_.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(R=function(h){var g,T,b=[],_=[];for(_.byteLength=0,_.nalCount=0,_.duration=0,g=b.byteLength=0;g<h.length;g++)"access_unit_delimiter_rbsp"===(T=h[g]).nalUnitType?(b.length&&(b.duration=T.dts-b.dts,_.byteLength+=b.byteLength,_.nalCount+=b.length,_.duration+=b.duration,_.push(b)),(b=[T]).byteLength=T.data.byteLength,b.pts=T.pts,b.dts=T.dts):("slice_layer_without_partitioning_rbsp_idr"===T.nalUnitType&&(b.keyFrame=!0),b.duration=T.dts-b.dts,b.byteLength+=T.data.byteLength,b.push(T));return _.length&&(!b.duration||b.duration<=0)&&(b.duration=_[_.length-1].duration),_.byteLength+=b.byteLength,_.nalCount+=b.length,_.duration+=b.duration,_.push(b),_}(_),(q=function(h){var g,T,b=[],_=[];for(b.byteLength=0,b.nalCount=0,b.duration=0,b.pts=h[0].pts,b.dts=h[0].dts,_.byteLength=0,_.nalCount=0,_.duration=0,_.pts=h[0].pts,_.dts=h[0].dts,g=0;g<h.length;g++)(T=h[g]).keyFrame?(b.length&&(_.push(b),_.byteLength+=b.byteLength,_.nalCount+=b.nalCount,_.duration+=b.duration),(b=[T]).nalCount=T.length,b.byteLength=T.byteLength,b.pts=T.pts,b.dts=T.dts,b.duration=T.duration):(b.duration+=T.duration,b.nalCount+=T.length,b.byteLength+=T.byteLength,b.push(T));return _.length&&b.duration<=0&&(b.duration=_[_.length-1].duration),_.byteLength+=b.byteLength,_.nalCount+=b.nalCount,_.duration+=b.duration,_.push(b),_}(R))[0][0].keyFrame||((ne=this.getGopForFusion_(_[0],h))?(Z=ne.duration,q.unshift(ne),q.byteLength+=ne.byteLength,q.nalCount+=ne.nalCount,q.pts=ne.pts,q.dts=ne.dts,q.duration+=ne.duration):q=function(h){var g;return!h[0][0].keyFrame&&1<h.length&&(g=h.shift(),h.byteLength-=g.byteLength,h.nalCount-=g.nalCount,h[0][0].dts=g.dts,h[0][0].pts=g.pts,h[0][0].duration+=g.duration),h}(q)),I.length){var te=g.alignGopsAtEnd?this.alignGopsAtEnd_(q):this.alignGopsAtStart_(q);if(!te)return this.gopCache_.unshift({gop:q.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),_=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");ts(h),q=te}pl(h,q),h.samples=function(h,g){for(var T,b,_,I=0,B=[],R=0;R<h.length;R++)for(b=h[R],T=0;T<b.length;T++)I+=(_=In(_=b[T],I)).size,B.push(_);return B}(q),R=un(function(h){for(var g,T,b,_,I,B=0,ne=new Uint8Array(h.byteLength+4*h.nalCount),Z=new DataView(ne.buffer),te=0;te<h.length;te++)for(b=h[te],g=0;g<b.length;g++)for(_=b[g],T=0;T<_.length;T++)Z.setUint32(B,(I=_[T]).data.byteLength),ne.set(I.data,B+=4),B+=I.data.byteLength;return ne}(q)),h.baseMediaDecodeTime=Gd(h,g.keepOriginalTimestamps),this.trigger("processedGopsInfo",q.map(function(Te){return{pts:Te.pts,dts:Te.dts,byteLength:Te.byteLength}})),this.trigger("segmentTimingInfo",Tl(h.baseMediaDecodeTime,(ne=q[0]).dts,ne.pts,(te=q[q.length-1]).dts+te.duration,te.pts+te.duration,Z)),this.trigger("timingInfo",{start:q[0].pts,end:q[q.length-1].pts+q[q.length-1].duration}),this.gopCache_.unshift({gop:q.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),_=[],this.trigger("baseMediaDecodeTime",h.baseMediaDecodeTime),this.trigger("timelineStartInfo",h.timelineStartInfo),Z=es(B,[h]),q=new Uint8Array(Z.byteLength+R.byteLength),B++,q.set(Z),q.set(R,Z.byteLength),this.trigger("data",{track:h,boxes:q}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),_=[],this.gopCache_.length=0,I.length=0,this.trigger("reset")},this.resetStream_=function(){ts(h),b=T=void 0},this.getGopForFusion_=function(R){for(var q,ne,Z,te=1/0,Te=0;Te<this.gopCache_.length;Te++)ne=(Z=this.gopCache_[Te]).gop,h.pps&&ih(h.pps[0],Z.pps[0])&&h.sps&&ih(h.sps[0],Z.sps[0])&&(ne.dts<h.timelineStartInfo.dts||-1e4<=(ne=R.dts-ne.dts-ne.duration)&&ne<=45e3&&(!q||ne<te)&&(q=Z,te=ne));return q?q.gop:null},this.alignGopsAtStart_=function(R){for(var q,ne,Z,te,Te=R.byteLength,Ye=R.nalCount,ht=R.duration,bt=q=0;bt<I.length&&q<R.length&&(ne=I[bt]).pts!==(Z=R[q]).pts;)Z.pts>ne.pts?bt++:(q++,Te-=Z.byteLength,Ye-=Z.nalCount,ht-=Z.duration);return 0===q?R:q===R.length?null:((te=R.slice(q)).byteLength=Te,te.duration=ht,te.nalCount=Ye,te.pts=te[0].pts,te.dts=te[0].dts,te)},this.alignGopsAtEnd_=function(R){for(var q,ne,Z=I.length-1,te=R.length-1,Te=null,Ye=!1;0<=Z&&0<=te;){if((q=I[Z]).pts===(ne=R[te]).pts){Ye=!0;break}q.pts>ne.pts?Z--:(Z===I.length-1&&(Te=te),te--)}if(!Ye&&null===Te)return null;if(0===(bt=Ye?te:Te))return R;var ht=R.slice(bt),bt=ht.reduce(function(Mt,Kt){return Mt.byteLength+=Kt.byteLength,Mt.duration+=Kt.duration,Mt.nalCount+=Kt.nalCount,Mt},{byteLength:0,duration:0,nalCount:0});return ht.byteLength=bt.byteLength,ht.duration=bt.duration,ht.nalCount=bt.nalCount,ht.pts=ht[0].pts,ht.dts=ht[0].dts,ht},this.alignGopsWith=function(R){I=R}}).prototype=new Tn,(ns=function(h,g){this.numberOfTracks=0,this.metadataStream=g,this.remuxTracks=!(typeof(h=h||{}).remux<"u"&&!h.remux),this.keepOriginalTimestamps="boolean"==typeof h.keepOriginalTimestamps&&h.keepOriginalTimestamps,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,ns.prototype.init.call(this),this.push=function(T){return T.text?this.pendingCaptions.push(T):T.frames?this.pendingMetadata.push(T):(this.pendingTracks.push(T.track),this.pendingBytes+=T.boxes.byteLength,"video"===T.track.type&&(this.videoTrack=T.track,this.pendingBoxes.push(T.boxes)),void("audio"===T.track.type&&(this.audioTrack=T.track,this.pendingBoxes.unshift(T.boxes))))}}).prototype=new Tn,ns.prototype.flush=function(h){var g,T,b,_=0,I={captions:[],captionStreams:{},metadata:[],info:{}},B=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==h&&"AudioSegmentStream"!==h||this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(B=this.videoTrack.timelineStartInfo.pts,xl.forEach(function(R){I.info[R]=this.videoTrack[R]},this)):this.audioTrack&&(B=this.audioTrack.timelineStartInfo.pts,Sl.forEach(function(R){I.info[R]=this.audioTrack[R]},this)),this.videoTrack||this.audioTrack){for(I.type=1===this.pendingTracks.length?this.pendingTracks[0].type:"combined",this.emittedTracks+=this.pendingTracks.length,h=function(b){var g=e(),T=s(b);return(b=new Uint8Array(g.byteLength+T.byteLength)).set(g),b.set(T,g.byteLength),b}(this.pendingTracks),I.initSegment=new Uint8Array(h.byteLength),I.initSegment.set(h),I.data=new Uint8Array(this.pendingBytes),b=0;b<this.pendingBoxes.length;b++)I.data.set(this.pendingBoxes[b],_),_+=this.pendingBoxes[b].byteLength;for(b=0;b<this.pendingCaptions.length;b++)(g=this.pendingCaptions[b]).startTime=hl(g.startPts,B,this.keepOriginalTimestamps),g.endTime=hl(g.endPts,B,this.keepOriginalTimestamps),I.captionStreams[g.stream]=!0,I.captions.push(g);for(b=0;b<this.pendingMetadata.length;b++)(T=this.pendingMetadata[b]).cueTime=hl(T.pts,B,this.keepOriginalTimestamps),I.metadata.push(T);for(I.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",I),b=0;b<I.captions.length;b++)this.trigger("caption",g=I.captions[b]);for(b=0;b<I.metadata.length;b++)this.trigger("id3Frame",T=I.metadata[b])}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},ns.prototype.setRemux=function(h){this.remuxTracks=h},(wl=function(h){var g,T,b=this,_=!0;wl.prototype.init.call(this),this.baseMediaDecodeTime=(h=h||{}).baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var I={};(this.transmuxPipeline_=I).type="aac",I.metadataStream=new _r.MetadataStream,I.aacStream=new pp,I.audioTimestampRolloverStream=new _r.TimestampRolloverStream("audio"),I.timedMetadataTimestampRolloverStream=new _r.TimestampRolloverStream("timed-metadata"),I.adtsStream=new Jd,I.coalesceStream=new ns(h,I.metadataStream),I.headOfPipeline=I.aacStream,I.aacStream.pipe(I.audioTimestampRolloverStream).pipe(I.adtsStream),I.aacStream.pipe(I.timedMetadataTimestampRolloverStream).pipe(I.metadataStream).pipe(I.coalesceStream),I.metadataStream.on("timestamp",function(B){I.aacStream.setTimestamp(B.timeStamp)}),I.aacStream.on("data",function(B){"timed-metadata"!==B.type&&"audio"!==B.type||I.audioSegmentStream||(T=T||{timelineStartInfo:{baseMediaDecodeTime:b.baseMediaDecodeTime},codec:"adts",type:"audio"},I.coalesceStream.numberOfTracks++,I.audioSegmentStream=new Ks(T,h),I.audioSegmentStream.on("log",b.getLogTrigger_("audioSegmentStream")),I.audioSegmentStream.on("timingInfo",b.trigger.bind(b,"audioTimingInfo")),I.adtsStream.pipe(I.audioSegmentStream).pipe(I.coalesceStream),b.trigger("trackinfo",{hasAudio:!!T,hasVideo:!!g}))}),I.coalesceStream.on("data",this.trigger.bind(this,"data")),I.coalesceStream.on("done",this.trigger.bind(this,"done")),nh(this,I)},this.setupTsPipeline=function(){var I={};(this.transmuxPipeline_=I).type="ts",I.metadataStream=new _r.MetadataStream,I.packetStream=new _r.TransportPacketStream,I.parseStream=new _r.TransportParseStream,I.elementaryStream=new _r.ElementaryStream,I.timestampRolloverStream=new _r.TimestampRolloverStream,I.adtsStream=new Jd,I.h264Stream=new fp,I.captionStream=new _r.CaptionStream(h),I.coalesceStream=new ns(h,I.metadataStream),I.headOfPipeline=I.packetStream,I.packetStream.pipe(I.parseStream).pipe(I.elementaryStream).pipe(I.timestampRolloverStream),I.timestampRolloverStream.pipe(I.h264Stream),I.timestampRolloverStream.pipe(I.adtsStream),I.timestampRolloverStream.pipe(I.metadataStream).pipe(I.coalesceStream),I.h264Stream.pipe(I.captionStream).pipe(I.coalesceStream),I.elementaryStream.on("data",function(B){var R;if("metadata"===B.type){for(R=B.tracks.length;R--;)g||"video"!==B.tracks[R].type?T||"audio"!==B.tracks[R].type||((T=B.tracks[R]).timelineStartInfo.baseMediaDecodeTime=b.baseMediaDecodeTime):(g=B.tracks[R]).timelineStartInfo.baseMediaDecodeTime=b.baseMediaDecodeTime;g&&!I.videoSegmentStream&&(I.coalesceStream.numberOfTracks++,I.videoSegmentStream=new iu(g,h),I.videoSegmentStream.on("log",b.getLogTrigger_("videoSegmentStream")),I.videoSegmentStream.on("timelineStartInfo",function(q){T&&!h.keepOriginalTimestamps&&(T.timelineStartInfo=q,I.audioSegmentStream.setEarliestDts(q.dts-b.baseMediaDecodeTime))}),I.videoSegmentStream.on("processedGopsInfo",b.trigger.bind(b,"gopInfo")),I.videoSegmentStream.on("segmentTimingInfo",b.trigger.bind(b,"videoSegmentTimingInfo")),I.videoSegmentStream.on("baseMediaDecodeTime",function(q){T&&I.audioSegmentStream.setVideoBaseMediaDecodeTime(q)}),I.videoSegmentStream.on("timingInfo",b.trigger.bind(b,"videoTimingInfo")),I.h264Stream.pipe(I.videoSegmentStream).pipe(I.coalesceStream)),T&&!I.audioSegmentStream&&(I.coalesceStream.numberOfTracks++,I.audioSegmentStream=new Ks(T,h),I.audioSegmentStream.on("log",b.getLogTrigger_("audioSegmentStream")),I.audioSegmentStream.on("timingInfo",b.trigger.bind(b,"audioTimingInfo")),I.audioSegmentStream.on("segmentTimingInfo",b.trigger.bind(b,"audioSegmentTimingInfo")),I.adtsStream.pipe(I.audioSegmentStream).pipe(I.coalesceStream)),b.trigger("trackinfo",{hasAudio:!!T,hasVideo:!!g})}}),I.coalesceStream.on("data",this.trigger.bind(this,"data")),I.coalesceStream.on("id3Frame",function(B){B.dispatchType=I.metadataStream.dispatchType,b.trigger("id3Frame",B)}),I.coalesceStream.on("caption",this.trigger.bind(this,"caption")),I.coalesceStream.on("done",this.trigger.bind(this,"done")),nh(this,I)},this.setBaseMediaDecodeTime=function(I){var B=this.transmuxPipeline_;h.keepOriginalTimestamps||(this.baseMediaDecodeTime=I),T&&(T.timelineStartInfo.dts=void 0,T.timelineStartInfo.pts=void 0,ts(T),B.audioTimestampRolloverStream&&B.audioTimestampRolloverStream.discontinuity()),g&&(B.videoSegmentStream&&(B.videoSegmentStream.gopCache_=[]),g.timelineStartInfo.dts=void 0,g.timelineStartInfo.pts=void 0,ts(g),B.captionStream.reset()),B.timestampRolloverStream&&B.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(I){T&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(I)},this.setRemux=function(I){var B=this.transmuxPipeline_;h.remux=I,B&&B.coalesceStream&&B.coalesceStream.setRemux(I)},this.alignGopsWith=function(I){g&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(I)},this.getLogTrigger_=function(I){var B=this;return function(R){R.stream=I,B.trigger("log",R)}},this.push=function(I){var B;_&&((B=mp(I))&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():B||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),_=!1),this.transmuxPipeline_.headOfPipeline.push(I)},this.flush=function(){_=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new Tn;var $s,vp={Transmuxer:wl,VideoSegmentStream:iu,AudioSegmentStream:Ks,AUDIO_PROPERTIES:Sl,VIDEO_PROPERTIES:xl,generateSegmentTimingInfo:Tl},is=function(h){var g="";return g+=String.fromCharCode(h[0]),g+=String.fromCharCode(h[1]),(g+=String.fromCharCode(h[2]))+String.fromCharCode(h[3])},bp=Bn=function(h){return h>>>0},Mn=function h(g,T){var b,_,I,B=[];if(!T.length)return null;for(b=0;b<g.byteLength;)_=bp(g[b]<<24|g[b+1]<<16|g[b+2]<<8|g[b+3]),I=is(g.subarray(b+4,b+8)),_=1<_?b+_:g.byteLength,I===T[0]&&(1===T.length?B.push(g.subarray(b+8,_)):(I=h(g.subarray(b+8,_),T.slice(1))).length&&(B=B.concat(I))),b=_;return B},_p=Bn,Tp=$s.getUint64,ah=function(h){return{isLeading:(12&h[0])>>>2,dependsOn:3&h[0],isDependedOn:(192&h[1])>>>6,hasRedundancy:(48&h[1])>>>4,paddingValue:(14&h[1])>>>1,isNonSyncSample:1&h[1],degradationPriority:h[2]<<8|h[3]}},El=(Tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tn=typeof window<"u"?window:typeof Tn<"u"?Tn:typeof self<"u"?self:{}),kp=Cl,Ep=$o.CaptionStream,Cp=function(){var h,g,T,b,_,I,B=!1;this.isInitialized=function(){return B},this.init=function(R){h=new Ep,B=!0,I=!!R&&R.isPartial,h.on("data",function(q){q.startTime=q.startPts/b,q.endTime=q.endPts/b,_.captions.push(q),_.captionStreams[q.stream]=!0}),h.on("log",function(q){_.logs.push(q)})},this.isNewInit=function(R,q){return!(R&&0===R.length||q&&"object"==typeof q&&0===Object.keys(q).length||T===R[0]&&b===q[T])},this.parse=function(R,q,ne){if(!this.isInitialized()||!q||!ne)return null;if(this.isNewInit(q,ne))b=ne[T=q[0]];else if(null===T||!b)return g.push(R),null;for(;0<g.length;){var Z=g.shift();this.parse(Z,q,ne)}return Ye=b,(R=null===(Te=T)?null:(Te=function yp(b,g){var T=Mn(b,["moof","traf"]),_=(b=Mn(b,["mdat"]),{}),I=[];return b.forEach(function(B,R){I.push({mdat:B,traf:R=T[R]})}),I.forEach(function(ht){var R,q,ne,Z,te,Te=ht.mdat,bt=Mn(Mt=ht.traf,["tfhd"]),Ye=function(Z){var g=new DataView(Z.buffer,Z.byteOffset,Z.byteLength),T={version:Z[0],flags:new Uint8Array(Z.subarray(1,4)),trackId:g.getUint32(4)},b=1&T.flags[2],_=2&T.flags[2],I=8&T.flags[2],B=16&T.flags[2],R=32&T.flags[2],q=65536&T.flags[0],ne=131072&T.flags[0];return Z=8,b&&(Z+=4,T.baseDataOffset=g.getUint32(12),Z+=4),_&&(T.sampleDescriptionIndex=g.getUint32(Z),Z+=4),I&&(T.defaultSampleDuration=g.getUint32(Z),Z+=4),B&&(T.defaultSampleSize=g.getUint32(Z),Z+=4),R&&(T.defaultSampleFlags=g.getUint32(Z)),q&&(T.durationIsEmpty=!0),!b&&ne&&(T.baseDataOffsetIsMoof=!0),T}(bt[0]),Mt=(ht=Ye.trackId,bt=0<(bt=Mn(Mt,["tfdt"])).length?function(h){var g={version:h[0],flags:new Uint8Array(h.subarray(1,4))};return g.baseMediaDecodeTime=1===g.version?Tp(h.subarray(4)):_p(h[4]<<24|h[5]<<16|h[6]<<8|h[7]),g}(bt[0]).baseMediaDecodeTime:0,Mn(Mt,["trun"]));g===ht&&0<Mt.length&&(R=bt,q=Ye.defaultSampleDuration||0,ne=Ye.defaultSampleSize||0,Z=Ye.trackId,te=[],Mt.forEach(function(Kt){(Kt=function(h){var g,T={version:h[0],flags:new Uint8Array(h.subarray(1,4)),samples:[]},b=new DataView(h.buffer,h.byteOffset,h.byteLength),_=1&T.flags[2],I=4&T.flags[2],B=1&T.flags[1],R=2&T.flags[1],q=4&T.flags[1],ne=8&T.flags[1],Z=b.getUint32(4),te=8;for(_&&(T.dataOffset=b.getInt32(te),te+=4),I&&Z&&(g={flags:ah(h.subarray(te,te+4))},te+=4,B&&(g.duration=b.getUint32(te),te+=4),R&&(g.size=b.getUint32(te),te+=4),ne&&(g.compositionTimeOffset=1===T.version?b.getInt32(te):b.getUint32(te),te+=4),T.samples.push(g),Z--);Z--;)g={},B&&(g.duration=b.getUint32(te),te+=4),R&&(g.size=b.getUint32(te),te+=4),q&&(g.flags=ah(h.subarray(te,te+4)),te+=4),ne&&(g.compositionTimeOffset=1===T.version?b.getInt32(te):b.getUint32(te),te+=4),T.samples.push(g);return T}(Kt).samples).forEach(function(Je){void 0===Je.duration&&(Je.duration=q),void 0===Je.size&&(Je.size=ne),Je.trackId=Z,Je.dts=R,void 0===Je.compositionTimeOffset&&(Je.compositionTimeOffset=0),"bigint"==typeof R?(Je.pts=R+El.BigInt(Je.compositionTimeOffset),R+=El.BigInt(Je.duration)):(Je.pts=R+Je.compositionTimeOffset,R+=Je.duration)}),te=te.concat(Kt)}),Te=function(Kt,Je,lt){for(var Hr,as,Al=new DataView(Kt.buffer,Kt.byteOffset,Kt.byteLength),Il={logs:[],seiNals:[]},Tr=0;Tr+4<Kt.length;Tr+=Hr)if(Hr=Al.getUint32(Tr),Tr+=4,!(Hr<=0))switch(31&Kt[Tr]){case 6:var qr=Kt.subarray(Tr+1,Tr+1+Hr),ou=function(Np,oh){for(var uh=Np,Ml=0;Ml<oh.length;Ml++){var Pl=oh[Ml];if(uh<Pl.size)return Pl;uh-=Pl.size}return null}(Tr,Je);if(qr={nalUnitType:"sei_rbsp",size:Hr,data:qr,escapedRBSP:kp(qr),trackId:lt},ou)qr.pts=ou.pts,qr.dts=ou.dts,as=ou;else{if(!as){Il.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+Tr+" for trackId "+lt+". See mux.js#223."});break}qr.pts=as.pts,qr.dts=as.dts}Il.seiNals.push(qr)}return Il}(Te,te,ht),_[ht]||(_[ht]={seiNals:[],logs:[]}),_[ht].seiNals=_[ht].seiNals.concat(Te.seiNals),_[ht].logs=_[ht].logs.concat(Te.logs))}),_}(R,Te)[Te]||{},{seiNals:Te.seiNals,logs:Te.logs,timescale:Ye}))&&R.logs&&(_.logs=_.logs.concat(R.logs)),null!==R&&R.seiNals?(this.pushNals(R.seiNals),this.flushStream(),_):_.logs.length?{logs:_.logs,captions:[],captionStreams:[]}:null;var Te,Ye},this.pushNals=function(R){if(!this.isInitialized()||!R||0===R.length)return null;R.forEach(function(q){h.push(q)})},this.flushStream=function(){if(!this.isInitialized())return null;I?h.partialFlush():h.flush()},this.clearParsedCaptions=function(){_.captions=[],_.captionStreams={},_.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;h.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){g=[],b=T=null,_?this.clearParsedCaptions():_={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},su=Bn,Ys=function(h){return("00"+h.toString(16)).slice(-2)},Ap=$s.getUint64,Mp=(Tn=function(h){return Mn(h,["moov","trak"]).reduce(function(g,T){var _,I=Mn(T,["tkhd"])[0];return I?(I=su(I[_=0===I[0]?12:20]<<24|I[1+_]<<16|I[2+_]<<8|I[3+_]),(T=Mn(T,["mdia","mdhd"])[0])?(g[I]=su(T[_=0===T[0]?12:20]<<24|T[1+_]<<16|T[2+_]<<8|T[3+_]),g):null):null},{})},Bn=function(g){g=Mn(g,["moov","trak"]);var T=[];return g.forEach(function(b){var _=Mn(b,["mdia","hdlr"]),I=Mn(b,["tkhd"]);_.forEach(function(B,R){B=is(B.subarray(8,12)),R=I[R],"vide"===B&&(R=0===(R=new DataView(R.buffer,R.byteOffset,R.byteLength)).getUint8(0)?R.getUint32(12):R.getUint32(20),T.push(R))})}),T},Cl=function(h,g){return"bigint"==typeof(g=Mn(g,["moof","traf"]).reduce(function(T,R){var _,I=Mn(R,["tfhd"])[0],B=su(I[4]<<24|I[5]<<16|I[6]<<8|I[7]);return I=h[B]||9e4,B=Mn(R,["tfdt"])[0],R=new DataView(B.buffer,B.byteOffset,B.byteLength),"bigint"==typeof(R=1===B[0]?Ap(B.subarray(4,12)):R.getUint32(4))?_=R/El.BigInt(I):"number"!=typeof R||isNaN(R)||(_=R/I),(_=_<Number.MAX_SAFE_INTEGER?Number(_):_)<T?_:T},1/0))||isFinite(g)?g:0}),Pp=$s=function(g){g=Mn(g,["moov","trak"]);var T=[];return g.forEach(function(b){var _={},I=Mn(b,["tkhd"])[0];I&&(I=(B=new DataView(I.buffer,I.byteOffset,I.byteLength)).getUint8(0),_.id=B.getUint32(0===I?12:20));var B=Mn(b,["mdia","hdlr"])[0];B&&(q=is(B.subarray(8,12)),_.type="vide"===q?"video":"soun"===q?"audio":q);var R,q=Mn(b,["mdia","minf","stbl","stsd"])[0];q&&(q=q.subarray(8),_.codec=is(q.subarray(4,8)),(q=Mn(q,[_.codec])[0])&&(/^[asm]vc[1-9]$/i.test(_.codec)?(R=q.subarray(78),"avcC"===is(R.subarray(4,8))&&11<R.length?(_.codec+=".",_.codec+=Ys(R[9]),_.codec+=Ys(R[10]),_.codec+=Ys(R[11])):_.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(_.codec)?(R=q.subarray(28),"esds"===is(R.subarray(4,8))&&20<R.length&&0!==R[19]?(_.codec+="."+Ys(R[19]),_.codec+="."+Ys(R[20]>>>2&63).replace(/^0/,"")):_.codec="mp4a.40.2"):_.codec=_.codec.toLowerCase())),(b=Mn(b,["mdia","mdhd"])[0])&&(_.timescale=function(h){var g=0===h[0]?12:20;return su(h[g]<<24|h[1+g]<<16|h[2+g]<<8|h[3+g])}(b)),T.push(_)}),T},rs=Si,jt={};function Op(h,g,T){for(var b,_,I,B,R=0,q=188,ne=!1;q<=h.byteLength;)if(71!==h[R]||71!==h[q]&&q!==h.byteLength)R++,q++;else{if(b=h.subarray(R,q),"pes"===jt.ts.parseType(b,g.pid)&&(_=jt.ts.parsePesType(b,g.table),I=jt.ts.parsePayloadUnitStartIndicator(b),"audio"===_&&I&&(B=jt.ts.parsePesTime(b))&&(B.type="audio",T.audio.push(B),ne=!0)),ne)break;R+=188,q+=188}for(R=(q=h.byteLength)-188,ne=!1;0<=R;)if(71!==h[R]||71!==h[q]&&q!==h.byteLength)R--,q--;else{if(b=h.subarray(R,q),"pes"===jt.ts.parseType(b,g.pid)&&(_=jt.ts.parsePesType(b,g.table),I=jt.ts.parsePayloadUnitStartIndicator(b),"audio"===_&&I&&(B=jt.ts.parsePesTime(b))&&(B.type="audio",T.audio.push(B),ne=!0)),ne)break;R-=188,q-=188}}function Lp(h){var g,T={pid:null,table:null},b={};for(g in function(_,I){for(var B,R=0,q=188;q<_.byteLength;)if(71!==_[R]||71!==_[q])R++,q++;else{switch(B=_.subarray(R,q),jt.ts.parseType(B,I.pid)){case"pat":I.pid=jt.ts.parsePat(B);break;case"pmt":var ne=jt.ts.parsePmt(B);I.table=I.table||{},Object.keys(ne).forEach(function(Z){I.table[Z]=ne[Z]})}R+=188,q+=188}}(h,T),T.table)if(T.table.hasOwnProperty(g))switch(T.table[g]){case Zn.H264_STREAM_TYPE:b.video=[],function(_,I,B){for(var R,q,ne,Z,te,Te,Ye,ht,bt=0,Mt=188,Kt=!1,Je={data:[],size:0};Mt<_.byteLength;)if(71!==_[bt]||71!==_[Mt])bt++,Mt++;else{if(R=_.subarray(bt,Mt),"pes"===jt.ts.parseType(R,I.pid)&&(q=jt.ts.parsePesType(R,I.table),ne=jt.ts.parsePayloadUnitStartIndicator(R),"video"===q&&(ne&&!Kt&&(Z=jt.ts.parsePesTime(R))&&(Z.type="video",B.video.push(Z),Kt=!0),!B.firstKeyFrame))){if(ne&&0!==Je.size){for(te=new Uint8Array(Je.size),Te=0;Je.data.length;)Ye=Je.data.shift(),te.set(Ye,Te),Te+=Ye.byteLength;!jt.ts.videoPacketContainsKeyFrame(te)||(ht=jt.ts.parsePesTime(te))&&(B.firstKeyFrame=ht,B.firstKeyFrame.type="video"),Je.size=0}Je.data.push(R),Je.size+=R.byteLength}if(Kt&&B.firstKeyFrame)break;bt+=188,Mt+=188}for(bt=(Mt=_.byteLength)-188,Kt=!1;0<=bt;)if(71!==_[bt]||71!==_[Mt])bt--,Mt--;else{if(R=_.subarray(bt,Mt),"pes"===jt.ts.parseType(R,I.pid)&&(q=jt.ts.parsePesType(R,I.table),ne=jt.ts.parsePayloadUnitStartIndicator(R),"video"===q&&ne&&(Z=jt.ts.parsePesTime(R))&&(Z.type="video",B.video.push(Z),Kt=!0)),Kt)break;bt-=188,Mt-=188}}(h,T,b),0===b.video.length&&delete b.video;break;case Zn.ADTS_STREAM_TYPE:b.audio=[],Op(h,T,b),0===b.audio.length&&delete b.audio}return b}jt.ts={parseType:function(h,g){return 0===(h=rh(h))?"pat":h===g?"pmt":g?"pes":null},parsePat:function(h){var g=ru(h),T=4+au(h);return g&&(T+=h[T]+1),(31&h[T+10])<<8|h[T+11]},parsePmt:function(h){var g={},T=ru(h),b=4+au(h);if(T&&(b+=h[b]+1),1&h[b+5]){for(var _=3+((15&h[b+1])<<8|h[b+2])-4,I=12+((15&h[b+10])<<8|h[b+11]);I<_;){var B=b+I;g[(31&h[B+1])<<8|h[B+2]]=h[B],I+=5+((15&h[B+3])<<8|h[B+4])}return g}},parsePayloadUnitStartIndicator:ru,parsePesType:function(h,g){switch(g[rh(h)]){case Zn.H264_STREAM_TYPE:return"video";case Zn.ADTS_STREAM_TYPE:return"audio";case Zn.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(h){if(!ru(h))return null;var g=4+au(h);if(g>=h.byteLength)return null;var T=null,b=h[g+7];return 192&b&&((T={}).pts=(14&h[g+9])<<27|(255&h[g+10])<<20|(254&h[g+11])<<12|(255&h[g+12])<<5|(254&h[g+13])>>>3,T.pts*=4,T.pts+=(6&h[g+13])>>>1,T.dts=T.pts,64&b&&(T.dts=(14&h[g+14])<<27|(255&h[g+15])<<20|(254&h[g+16])<<12|(255&h[g+17])<<5|(254&h[g+18])>>>3,T.dts*=4,T.dts+=(6&h[g+18])>>>1)),T},videoPacketContainsKeyFrame:function(h){for(var g=4+au(h),T=h.subarray(g),b=0,_=0,I=!1;_<T.byteLength-3;_++)if(1===T[_+2]){b=_+5;break}for(;b<T.byteLength;)switch(T[b]){case 0:if(0!==T[b-1]){b+=2;break}if(0!==T[b-2]){b++;break}for(_+3!==b-2&&"slice_layer_without_partitioning_rbsp_idr"===kl(31&T[_+3])&&(I=!0);1!==T[++b]&&b<T.length;);_=b-2,b+=3;break;case 1:if(0!==T[b-1]||0!==T[b-2]){b+=3;break}"slice_layer_without_partitioning_rbsp_idr"===kl(31&T[_+3])&&(I=!0),_=b-2,b+=3;break;default:b+=3}return T=T.subarray(_),b-=_,_=0,!!(T&&3<T.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===kl(31&T[_+3]))||I}},jt.aac=nu;var ra=na,Dp=function(h,g){var T,b,_=(jt.aac.isLikelyAacData(h)?function(I){for(var B,R=!1,q=0,ne=null,Z=null,te=0,Te=0;3<=I.length-Te;){switch(jt.aac.parseType(I,Te)){case"timed-metadata":if(I.length-Te<10){R=!0;break}if((te=jt.aac.parseId3TagSize(I,Te))>I.length){R=!0;break}null===Z&&(B=I.subarray(Te,Te+te),Z=jt.aac.parseAacTimestamp(B)),Te+=te;break;case"audio":if(I.length-Te<7){R=!0;break}if((te=jt.aac.parseAdtsSize(I,Te))>I.length){R=!0;break}null===ne&&(B=I.subarray(Te,Te+te),ne=jt.aac.parseSampleRate(B)),q++,Te+=te;break;default:Te++}if(R)return null}if(null===ne||null===Z)return null;var Ye=ra/ne;return{audio:[{type:"audio",dts:Z,pts:Z},{type:"audio",dts:Z+1024*q*Ye,pts:Z+1024*q*Ye}]}}:Lp)(h);return _&&(_.audio||_.video)?(h=g,(g=_).audio&&g.audio.length&&(typeof(T=h)<"u"&&!isNaN(T)||(T=g.audio[0].dts),g.audio.forEach(function(I){I.dts=rs(I.dts,T),I.pts=rs(I.pts,T),I.dtsTime=I.dts/ra,I.ptsTime=I.pts/ra})),g.video&&g.video.length&&(typeof(b=h)<"u"&&!isNaN(b)||(b=g.video[0].dts),g.video.forEach(function(I){I.dts=rs(I.dts,b),I.pts=rs(I.pts,b),I.dtsTime=I.dts/ra,I.ptsTime=I.pts/ra}),g.firstKeyFrame&&((g=g.firstKeyFrame).dts=rs(g.dts,b),g.pts=rs(g.pts,b),g.dtsTime=g.dts/ra,g.ptsTime=g.pts/ra)),_):null},sh=function(){function h(T,b){this.options=b||{},this.self=T,this.init()}var g=h.prototype;return g.init=function(){var T,b;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new vp.Transmuxer(this.options),T=this.self,(b=this.transmuxer).on("data",function(_){var I=_.initSegment;_.initSegment={data:I.buffer,byteOffset:I.byteOffset,byteLength:I.byteLength},_.data=(I=_.data).buffer,T.postMessage({action:"data",segment:_,byteOffset:I.byteOffset,byteLength:I.byteLength},[_.data])}),b.on("done",function(_){T.postMessage({action:"done"})}),b.on("gopInfo",function(_){T.postMessage({action:"gopInfo",gopInfo:_})}),b.on("videoSegmentTimingInfo",function(_){var I={start:{decode:ai(_.start.dts),presentation:ai(_.start.pts)},end:{decode:ai(_.end.dts),presentation:ai(_.end.pts)},baseMediaDecodeTime:ai(_.baseMediaDecodeTime)};_.prependedContentDuration&&(I.prependedContentDuration=ai(_.prependedContentDuration)),T.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:I})}),b.on("audioSegmentTimingInfo",function(_){var I={start:{decode:ai(_.start.dts),presentation:ai(_.start.pts)},end:{decode:ai(_.end.dts),presentation:ai(_.end.pts)},baseMediaDecodeTime:ai(_.baseMediaDecodeTime)};_.prependedContentDuration&&(I.prependedContentDuration=ai(_.prependedContentDuration)),T.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:I})}),b.on("id3Frame",function(_){T.postMessage({action:"id3Frame",id3Frame:_})}),b.on("caption",function(_){T.postMessage({action:"caption",caption:_})}),b.on("trackinfo",function(_){T.postMessage({action:"trackinfo",trackInfo:_})}),b.on("audioTimingInfo",function(_){T.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ai(_.start),end:ai(_.end)}})}),b.on("videoTimingInfo",function(_){T.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ai(_.start),end:ai(_.end)}})}),b.on("log",function(_){T.postMessage({action:"log",log:_})})},g.pushMp4Captions=function(_){this.captionParser||(this.captionParser=new Cp,this.captionParser.init());var b=new Uint8Array(_.data,_.byteOffset,_.byteLength);_=this.captionParser.parse(b,_.trackIds,_.timescales),this.self.postMessage({action:"mp4Captions",captions:_&&_.captions||[],logs:_&&_.logs||[],data:b.buffer},[b.buffer])},g.probeMp4StartTime=function(b){var _=Mp(_=b.timescales,b=b.data);this.self.postMessage({action:"probeMp4StartTime",startTime:_,data:b},[b.buffer])},g.probeMp4Tracks=function(_){var b=_.data;_=Pp(b),this.self.postMessage({action:"probeMp4Tracks",tracks:_,data:b},[b.buffer])},g.probeTs=function(I){var b=I.data,_=(I="number"!=typeof(_=I.baseStartTime)||isNaN(_)?void 0:_*na,Dp(b,I));I=null,_&&((I={hasVideo:_.video&&2===_.video.length||!1,hasAudio:_.audio&&2===_.audio.length||!1}).hasVideo&&(I.videoStart=_.video[0].ptsTime),I.hasAudio&&(I.audioStart=_.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:I,data:b},[b.buffer])},g.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},g.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},g.push=function(T){T=new Uint8Array(T.data,T.byteOffset,T.byteLength),this.transmuxer.push(T)},g.reset=function(){this.transmuxer.reset()},g.setTimestampOffset=function(T){T=T.timestampOffset||0,this.transmuxer.setBaseMediaDecodeTime(Math.round(Vd(T)))},g.setAudioAppendStart=function(T){this.transmuxer.setAudioAppendStart(Math.ceil(Vd(T.appendStart)))},g.setRemux=function(T){this.transmuxer.setRemux(T.remux)},g.flush=function(T){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},g.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},g.alignGopsWith=function(T){this.transmuxer.alignGopsWith(T.gopsToAlignWith.slice())},h}();self.onmessage=function(h){"init"===h.data.action&&h.data.options?this.messageHandlers=new sh(self,h.data.options):(this.messageHandlers||(this.messageHandlers=new sh(self)),h.data&&h.data.action&&"init"!==h.data.action&&this.messageHandlers[h.data.action]&&this.messageHandlers[h.data.action](h.data))}}))),Sd=function(t){t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),"function"==typeof t.currentTransmux?t.currentTransmux():sd(t.currentTransmux))},xd=function(t){!function s0(t,a){if(!a.currentTransmux)return a.currentTransmux=t,od(a,t),0;a.transmuxQueue.push(od.bind(null,a,t))}("reset",t)},jo=2,il=-101,rl=-102,_0=Gi("CodecUtils"),Vo=Gi("PlaylistSelector"),al=(ji=function(){var t=this.useDevicePixelRatio&&window.devicePixelRatio||1;return md(this.playlists.master,this.systemBandwidth,parseInt(Ho(this.tech_.el(),"width"),10)*t,parseInt(Ho(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},function(t){function a(e,n){var r=t.call(this)||this;if(!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return r.bandwidth=e.bandwidth,r.throughput={rate:0,count:0},r.roundTrip=NaN,r.resetStats_(),r.mediaIndex=null,r.partIndex=null,r.hasPlayed_=e.hasPlayed,r.currentTime_=e.currentTime,r.seekable_=e.seekable,r.seeking_=e.seeking,r.duration_=e.duration,r.mediaSource_=e.mediaSource,r.vhs_=e.vhs,r.loaderType_=e.loaderType,r.currentMediaInfo_=void 0,r.startingMediaInfo_=void 0,r.segmentMetadataTrack_=e.segmentMetadataTrack,r.goalBufferLength_=e.goalBufferLength,r.sourceType_=e.sourceType,r.sourceUpdater_=e.sourceUpdater,r.inbandTextTracks_=e.inbandTextTracks,r.state_="INIT",r.timelineChangeController_=e.timelineChangeController,r.shouldSaveSegmentTimingInfo_=!0,r.parse708captions_=e.parse708captions,r.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,r.captionServices_=e.captionServices,r.experimentalExactManifestTimings=e.experimentalExactManifestTimings,r.checkBufferTimeout_=null,r.error_=void 0,r.currentTimeline_=-1,r.pendingSegment_=null,r.xhrOptions_=null,r.pendingSegments_=[],r.audioDisabled_=!1,r.isPendingTimestampOffset_=!1,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=11<=x.browser.IE_VERSION,r.appendInitSegment_={audio:!0,video:!0},r.playlistOfLastInitSegment_={audio:null,video:null},r.callQueue_=[],r.loadQueue_=[],r.metadataQueue_={id3:[],caption:[]},r.waitingOnRemove_=!1,r.quotaExceededErrorRetryTimeout_=null,r.activeInitSegmentId_=null,r.initSegments_={},r.cacheEncryptionKeys_=e.cacheEncryptionKeys,r.keyCache_={},r.decrypter_=e.decrypter,r.syncController_=e.syncController,r.syncPoint_={segmentIndex:0,time:0},r.transmuxer_=r.createTransmuxer_(),r.triggerSyncInfoUpdate_=function(){return r.trigger("syncinfoupdate")},r.syncController_.on("syncinfoupdate",r.triggerSyncInfoUpdate_),r.mediaSource_.addEventListener("sourceopen",function(){r.isEndOfStream_()||(r.ended_=!1)}),r.fetchAtBuffer_=!1,r.logger_=Gi("SegmentLoader["+r.loaderType_+"]"),Object.defineProperty(Ke(r),"state",{get:function(){return this.state_},set:function(s){s!==this.state_&&(this.logger_(this.state_+" -> "+s),this.state_=s,this.trigger("statechange"))}}),r.sourceUpdater_.on("ready",function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()}),"main"===r.loaderType_&&r.timelineChangeController_.on("pendingtimelinechange",function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()}),"audio"===r.loaderType_&&r.timelineChangeController_.on("timelinechange",function(){r.hasEnoughInfoToLoad_()&&r.processLoadQueue_(),r.hasEnoughInfoToAppend_()&&r.processCallQueue_()}),r}he(a,t);var i=a.prototype;return i.createTransmuxer_=function(){return function(t){var a=new v0;a.currentTransmux=null,a.transmuxQueue=[];var i=a.terminate;return a.terminate=function(){return a.currentTransmux=null,a.transmuxQueue.length=0,i.call(a)},a.postMessage({action:"init",options:t}),a}({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},i.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},i.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},i.setAudio=function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},i.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},i.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,window.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},i.checkForAbort_=function(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)},i.error=function(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_},i.endOfStream=function(){this.ended_=!0,this.transmuxer_&&xd(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},i.buffered_=function(){var e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return x.createTimeRanges();if("main"===this.loaderType_){var n=e.hasAudio,r=e.hasVideo;if(e=e.isMuxed,r&&n&&!this.audioDisabled_&&!e)return this.sourceUpdater_.buffered();if(r)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},i.initSegmentForMap=function(e,n){if(void 0===n&&(n=!1),!e)return null;var r=Uo(e),s=this.initSegments_[r];return n&&!s&&e.bytes&&(this.initSegments_[r]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),s||e},i.segmentKey=function(e,n){if(void 0===n&&(n=!1),!e)return null;var r=Zc(e),s=this.keyCache_[r];return this.cacheEncryptionKeys_&&n&&!s&&e.bytes&&(this.keyCache_[r]=s={resolvedUri:e.resolvedUri,bytes:e.bytes}),e={resolvedUri:(s||e).resolvedUri},s&&(e.bytes=s.bytes),e},i.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},i.load=function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.playlist=function(e,n){if(void 0===n&&(n={}),e){var r=this.playlist_,s=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=n,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));var u=null;if(r&&(r.id?u=r.id:r.uri&&(u=r.uri)),this.logger_("playlist update ["+u+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!r||r.uri!==e.uri)return null!==this.mediaIndex&&(e.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");this.logger_("live window shift ["+(n=e.mediaSequence-r.mediaSequence)+"]"),null!==this.mediaIndex&&(this.mediaIndex-=n,this.mediaIndex<0?(this.mediaIndex=null,this.partIndex=null):(u=this.playlist_.segments[this.mediaIndex],!this.partIndex||u.parts&&u.parts.length&&u.parts[this.partIndex]||(u=this.mediaIndex,this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=u))),s&&(s.mediaIndex-=n,s.mediaIndex<0?(s.mediaIndex=null,s.partIndex=null):(0<=s.mediaIndex&&(s.segment=e.segments[s.mediaIndex]),0<=s.partIndex&&s.segment.parts&&(s.part=s.segment.parts[s.partIndex]))),this.syncController_.saveExpiredSegmentInfo(r,e)}},i.pause=function(){this.checkBufferTimeout_&&(window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},i.paused=function(){return null===this.checkBufferTimeout_},i.resetEverything=function(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},i.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},i.resyncLoader=function(){this.transmuxer_&&xd(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},i.remove=function(e,n,r,s){if(void 0===r&&(r=function(){}),void 0===s&&(s=!1),(n=n===1/0?this.duration_():n)<=e)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var u,d=1,f=function(){0==--d&&r()};for(u in!s&&this.audioDisabled_||(d++,this.sourceUpdater_.removeAudio(e,n,f)),!s&&"main"!==this.loaderType_||(this.gopBuffer_=function(m,w,C,M){for(var E=Math.ceil((w-M)*Do),D=Math.ceil((C-M)*Do),z=(M=m.slice(),m.length);z--&&!(m[z].pts<=D););if(-1===z)return M;for(var O=z+1;O--&&!(m[O].pts<=E););return O=Math.max(O,0),M.splice(O,z-O+1),M}(this.gopBuffer_,e,n,this.timeMapping_),d++,this.sourceUpdater_.removeVideo(e,n,f)),this.inbandTextTracks_)Ws(e,n,this.inbandTextTracks_[u]);Ws(e,n,this.segmentMetadataTrack_),f()}else this.logger_("skipping remove because no source updater or starting media info")},i.monitorBuffer_=function(){this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window.setTimeout(this.monitorBufferTick_.bind(this),1)},i.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window.setTimeout(this.monitorBufferTick_.bind(this),500)},i.fillBuffer_=function(){var e;this.sourceUpdater_.updating()||(e=this.chooseNextRequest_())&&("number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))},i.isEndOfStream_=function(s,n,r){if(void 0===s&&(s=this.mediaIndex),void 0===n&&(n=this.playlist_),void 0===r&&(r=this.partIndex),!n||!this.mediaSource_)return!1;var u="number"==typeof s&&n.segments[s];return s=s+1===n.segments.length,u=!u||!u.parts||r+1===u.parts.length,n.endList&&"open"===this.mediaSource_.readyState&&s&&u},i.chooseNextRequest_=function(){var s,u,e=Rc(s=this.buffered_())||0,n=qu(s,this.currentTime_()),d=!this.hasPlayed_()&&1<=n,r=n>=this.goalBufferLength_();if(!(s=this.playlist_.segments).length||d||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()),(d={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_}).isSyncRequest?d.mediaIndex=function(w,C,M){C=C||[];for(var E=[],D=0,z=0;z<C.length;z++){var O=C[z];if(w===O.timeline&&(E.push(z),M<(D+=O.duration)))return z}return 0===E.length?0:E[E.length-1]}(this.currentTimeline_,s,e):null!==this.mediaIndex?(u="number"==typeof this.partIndex?this.partIndex:-1,d.startOfSegment=(r=s[this.mediaIndex]).end||e,r.parts&&r.parts[u+1]?(d.mediaIndex=this.mediaIndex,d.partIndex=u+1):d.mediaIndex=this.mediaIndex+1):(u=(m=wi.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?e:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time})).segmentIndex,f=m.startTime,m=m.partIndex,d.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+e:"currentTime "+this.currentTime_(),d.mediaIndex=u,d.startOfSegment=f,d.partIndex=m);var f=s[d.mediaIndex],m=f&&"number"==typeof d.partIndex&&f.parts&&f.parts[d.partIndex];return!f||"number"==typeof d.partIndex&&!m?null:("number"!=typeof d.partIndex&&f.parts&&(d.partIndex=0,m=f.parts[0]),n||!m||m.independent||(0===d.partIndex?(m=(n=s[d.mediaIndex-1]).parts&&n.parts.length&&n.parts[n.parts.length-1])&&m.independent&&(--d.mediaIndex,d.partIndex=n.parts.length-1,d.independent="previous segment"):f.parts[d.partIndex-1].independent&&(--d.partIndex,d.independent="previous part")),f=this.mediaSource_&&"ended"===this.mediaSource_.readyState,d.mediaIndex>=s.length-1&&f&&!this.seeking_()?null:this.generateSegmentInfo_(d))},i.generateSegmentInfo_=function(w){var C=w.independent,n=w.playlist,r=w.mediaIndex,s=w.startOfSegment,u=w.isSyncRequest,d=w.partIndex,M=w.forceTimestampOffset,f=w.getMediaInfoForTime,m=n.segments[r];return w="number"==typeof d&&m.parts[d],C={requestId:"segment-loader-"+Math.random(),uri:w&&w.resolvedUri||m.resolvedUri,mediaIndex:r,partIndex:w?d:null,isSyncRequest:u,startOfSegment:s,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:m.timeline,duration:w&&w.duration||m.duration,segment:m,part:w,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:f,independent:C},M=typeof M<"u"?M:this.isPendingTimestampOffset_,C.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:m.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:M}),"number"==typeof(M=Rc(this.sourceUpdater_.audioBuffered()))&&(C.audioAppendStart=M-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(C.gopsToAlignWith=function(E,D,z){if(typeof D>"u"||null===D||!E.length)return[];for(var O=Math.ceil((D-z+3)*Do),W=0;W<E.length&&!(E[W].pts>O);W++);return E.slice(W)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),C},i.timestampOffsetForSegment_=function(e){return r=(n=e).segmentTimeline,s=n.currentTimeline,e=n.buffered,n.overrideCheck||r!==s?r<s||!e.length?n.startOfSegment:e.end(e.length-1):null;var n,r,s},i.earlyAbortWhenNeeded_=function(e){var n,r,s,u,d,f,m,w,C,M,E,D,z;!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3||(n=this.currentTime_(),z=wi.estimateSegmentRequestTime(d=this.pendingSegment_.duration,u=e.bandwidth,this.playlist_,e.bytesReceived),r=this.buffered_(),s=n,void 0===(e=this.vhs_.tech_.playbackRate())&&(e=1),z<=(e=((r.length?r.end(r.length-1):0)-s)/e-1)||(u={master:this.vhs_.playlists.master,currentTime:n,bandwidth:u,duration:this.duration_(),segmentDuration:d,timeUntilRebuffer:e,currentTimeline:this.currentTimeline_,syncController:this.syncController_},f=u.currentTime,m=u.bandwidth,w=u.duration,C=u.segmentDuration,M=u.timeUntilRebuffer,E=u.currentTimeline,D=u.syncController,$a(d=(u=(d=(d=(u=(d=u.master).playlists.filter(function(O){return!wi.isIncompatible(O)})).filter(wi.isEnabled)).length?d:u.filter(function(O){return!wi.isDisabled(O)})).filter(wi.hasAttribute.bind(null,"BANDWIDTH")).map(function(O){var W=D.getSyncPoint(O,w,E,f)?1:2;return{playlist:O,rebufferingImpact:wi.estimateSegmentRequestTime(C,m,O)*W-M}})).filter(function(O){return O.rebufferingImpact<=0}),function(O,W){return tl(W.playlist,O.playlist)}),(u=d.length?d[0]:($a(u,function(O,W){return O.rebufferingImpact-W.rebufferingImpact}),u[0]||null))&&(z=z-e-u.rebufferingImpact,!u.playlist||u.playlist.uri===this.playlist_.uri||z<(e<=ta?1:.5)||(this.bandwidth=u.playlist.attributes.BANDWIDTH*Kn.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))))))},i.handleAbort_=function(e){this.logger_("Aborting "+Qa(e)),this.mediaRequestsAborted+=1},i.handleProgress_=function(e,n){this.earlyAbortWhenNeeded_(n.stats),this.checkForAbort_(n.requestId)||this.trigger("progress")},i.handleTrackInfo_=function(e,n){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(n)||(function(r,s){if(!r&&!s||!r&&s||r&&!s)return!1;if(r===s)return!0;var u=Object.keys(r).sort(),d=Object.keys(s).sort();if(u.length!==d.length)return!1;for(var f=0;f<u.length;f++){var m=u[f];if(m!==d[f]||r[m]!==s[m])return!1}return!0}(this.currentMediaInfo_,n=n||{})||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},i.handleTimingInfo_=function(e,n,r,s){var u;this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||((u=this.pendingSegment_)[e=yd(n)]=u[e]||{},u[e][r]=s,this.logger_("timinginfo: "+n+" - "+r+" - "+s),this.hasEnoughInfoToAppend_()&&this.processCallQueue_())},i.handleCaptions_=function(e,n){var r,s,u=this;this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||(0!==n.length?this.pendingSegment_.hasAppendedData_?(r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={},n.forEach(function(d){s[d.stream]=s[d.stream]||{startTime:1/0,captions:[],endTime:0};var f=s[d.stream];f.startTime=Math.min(f.startTime,d.startTime+r),f.endTime=Math.max(f.endTime,d.endTime+r),f.captions.push(d)}),Object.keys(s).forEach(function(d){var f,m,w,C,M,E,D,z,O,W,K=s[d],Y=K.startTime,ee=K.endTime,ce=K.captions,pe=u.inbandTextTracks_;u.logger_("adding cues from "+Y+" -> "+ee+" for "+d),m=u.vhs_.tech_,(f=pe)[w=d]||(m.trigger({type:"usage",name:"vhs-608"}),m.trigger({type:"usage",name:"hls-608"}),/^cc708_/.test(C=w)&&(C="SERVICE"+w.split("_")[1]),(D=m.textTracks().getTrackById(C))?f[w]=D:(E=M=w,K=!1,(D=(m.options_.vhs&&m.options_.vhs.captionServices||{})[C])&&(M=D.label,E=D.language,K=D.default),f[w]=m.addRemoteTextTrack({kind:"captions",id:C,default:K,label:M,language:E},!1).track)),Ws(Y,ee,pe[d]),O=(ce={captionArray:ce,inbandTextTracks:pe,timestampOffset:r}).inbandTextTracks,W=ce.timestampOffset,(pe=ce.captionArray)&&(z=window.WebKitDataCue||window.VTTCue,pe.forEach(function(Me){O[Me.stream].addCue(new z(Me.startTime+W,Me.endTime+W,Me.text))}))}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})):this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n)):this.logger_("SegmentLoader received no captions from a caption event"))},i.handleId3_=function(e,n,r){var s,u,d;this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||(this.pendingSegment_.hasAppendedData_?(s=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),d=r,(u=this.inbandTextTracks_).metadataTrack_||(u.metadataTrack_=this.vhs_.tech_.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,u.metadataTrack_.inBandMetadataTrackDispatchType=d),function p0(t){var i=t.metadataArray,e=t.timestampOffset,n=t.videoDuration;if(i){var r=window.WebKitDataCue||window.VTTCue,s=t.inbandTextTracks.metadataTrack_;if(s&&(i.forEach(function(C){var M=C.cueTime+e;!("number"!=typeof M||window.isNaN(M)||M<0)&&M<1/0&&C.frames.forEach(function(E){var D,z=new r(M,M,E.value||E.url||E.data||"");z.frame=E,z.value=E,D=z,Object.defineProperties(D.frame,{id:{get:function(){return x.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),D.value.key}},value:{get:function(){return x.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),D.value.data}},privateData:{get:function(){return x.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),D.value.data}}}),s.addCue(z)})}),s.cues&&s.cues.length)){for(var u=s.cues,d=[],f=0;f<u.length;f++)u[f]&&d.push(u[f]);var m=d.reduce(function(C,M){var E=C[M.startTime]||[];return E.push(M),C[M.startTime]=E,C},{}),w=Object.keys(m).sort(function(C,M){return Number(C)-Number(M)});w.forEach(function(E,M){E=m[E];var D=Number(w[M+1])||n;E.forEach(function(z){z.endTime=D})})}}}({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:s,videoDuration:this.duration_()})):this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,n,r)))},i.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(e){return e()}),this.metadataQueue_.caption.forEach(function(e){return e()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},i.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach(function(n){return n()})},i.processLoadQueue_=function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach(function(n){return n()})},i.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var e=this.pendingSegment_;return!(!e||this.getCurrentMediaInfo_()&&vd({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.getCurrentMediaInfo_=function(e){return(e=void 0===e?this.pendingSegment_:e)&&e.trackInfo||this.currentMediaInfo_},i.getMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),this.getCurrentMediaInfo_(e)||this.startingMediaInfo_},i.getPendingSegmentPlaylist=function(){return this.pendingSegment_?this.pendingSegment_.playlist:null},i.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var e=this.pendingSegment_,s=this.getCurrentMediaInfo_();if(!e||!s)return!1;var n=s.hasAudio,r=s.hasVideo;return s=s.isMuxed,!(r&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||vd({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.handleData_=function(e,n){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var r,s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),s.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),s.isFmp4=e.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4?(this.trigger("fmp4"),s.timingInfo.start=s[yd(n.type)].start):(r=this.getCurrentMediaInfo_(),(r="main"===this.loaderType_&&r&&r.hasVideo)&&(u=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:r,firstVideoFrameTimeForData:u,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})),this.updateAppendInitSegmentStatus(s,n.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:"main"===this.loaderType_});var u=this.chooseNextRequest_();if(u.mediaIndex!==s.mediaIndex||u.partIndex!==s.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,n)}}else this.callQueue_.push(this.handleData_.bind(this,e,n))},i.updateAppendInitSegmentStatus=function(e,n){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==e.playlist&&(this.appendInitSegment_[n]=!0)},i.getInitSegmentAndUpdateState_=function(e){var n=e.type,r=e.initSegment,s=e.map,u=e.playlist;if(s){if(e=Uo(s),this.activeInitSegmentId_===e)return null;r=this.initSegmentForMap(s,!0).bytes,this.activeInitSegmentId_=e}return r&&this.appendInitSegment_[n]?(this.playlistOfLastInitSegment_[n]=u,this.appendInitSegment_[n]=!1,this.activeInitSegmentId_=null,r):null},i.handleQuotaExceededError_=function(E,n){var r=this,s=E.segmentInfo,u=E.type,d=E.bytes,f=this.sourceUpdater_.audioBuffered(),m=this.sourceUpdater_.videoBuffered();1<f.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+ea(f).join(", ")),1<m.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+ea(m).join(", "));var w=f.length?f.start(0):0,C=f.length?f.end(f.length-1):0,M=m.length?m.start(0):0;if(E=m.length?m.end(m.length-1):0,C-w<=1&&E-M<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+d.byteLength+", audio buffer: "+ea(f).join(", ")+", video buffer: "+ea(m).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:s,type:u,bytes:d})),d=this.currentTime_()-1,this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+d),this.remove(0,d,function(){r.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),r.waitingOnRemove_=!1,r.quotaExceededErrorRetryTimeout_=window.setTimeout(function(){r.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),r.quotaExceededErrorRetryTimeout_=null,r.processCallQueue_()},1e3)},!0)},i.handleAppendError_=function(u,n){var r=u.segmentInfo,s=u.type;u=u.bytes,n&&(22!==n.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",n),this.error(s+" append of "+u.length+"b failed for segment #"+r.mediaIndex+" in playlist "+r.playlist.id),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:r,type:s,bytes:u}))},i.appendToSourceBuffer_=function(e){var n,r,s=e.segmentInfo,u=e.type,d=e.initSegment,f=e.data,m=e.bytes;m||(e=[f],f=f.byteLength,d&&(e.unshift(d),f+=d.byteLength),r=0,(e={bytes:f,segments:e}).bytes&&(n=new Uint8Array(e.bytes),e.segments.forEach(function(w){n.set(w,r),r+=w.byteLength})),m=n),this.sourceUpdater_.appendBuffer({segmentInfo:s,type:u,bytes:m},this.handleAppendError_.bind(this,{segmentInfo:s,type:u,bytes:m}))},i.handleSegmentTimingInfo_=function(e,n,r){this.pendingSegment_&&n===this.pendingSegment_.requestId&&((n=this.pendingSegment_.segment)[e+="TimingInfo"]||(n[e]={}),n[e].transmuxerPrependedSeconds=r.prependedContentDuration||0,n[e].transmuxedPresentationStart=r.start.presentation,n[e].transmuxedDecodeStart=r.start.decode,n[e].transmuxedPresentationEnd=r.end.presentation,n[e].transmuxedDecodeEnd=r.end.decode,n[e].baseMediaDecodeTime=r.baseMediaDecodeTime)},i.appendData_=function(e,n){var r=n.type,s=n.data;s&&s.byteLength&&("audio"===r&&this.audioDisabled_||(n=this.getInitSegmentAndUpdateState_({type:r,initSegment:n.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null}),this.appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:n,data:s})))},i.loadSegment_=function(e){var n=this;this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push(function(){var r=xe({},e,{forceTimestampOffset:!0});xe(e,n.generateSegmentInfo_(r)),n.isPendingTimestampOffset_=!1,n.updateTransmuxerAndRequestSegment_(e)})},i.updateTransmuxerAndRequestSegment_=function(e){var n=this;this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));var r=this.createSimplifiedSegmentObj_(e),s=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),d=e.timeline!==this.currentTimeline_&&0<e.timeline;d=s||null!==this.mediaIndex&&d,this.logger_("Requesting "+Qa(e)),r.map&&!r.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=function h0(K){var a,i,e,n=K.xhr,r=K.xhrOptions,u=K.segment,d=K.abortFn,f=K.progressFn,m=K.trackInfoFn,w=K.timingInfoFn,C=K.videoSegmentTimingInfoFn,M=K.audioSegmentTimingInfoFn,E=K.id3Fn,D=K.captionsFn,z=K.isEndOfTimeline,O=K.endedTimelineFn,W=K.dataFn,Y=[],ee=function c0(t){var a=t.activeXhrs,i=t.decryptionWorker,e=t.trackInfoFn,n=t.timingInfoFn,r=t.videoSegmentTimingInfoFn,s=t.audioSegmentTimingInfoFn,u=t.id3Fn,d=t.captionsFn,f=t.isEndOfTimeline,m=t.endedTimelineFn,w=t.dataFn,C=t.doneFn,M=t.onTransmuxerLog,E=0,D=!1;return function(z,O){if(!D){if(z)return D=!0,Zu(a),C(z,O);if((E+=1)===a.length){var W=function(){if(O.encryptedBytes)return Y=(K={decryptionWorker:i,segment:O,trackInfoFn:e,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:u,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:m,dataFn:w,doneFn:C,onTransmuxerLog:M}).decryptionWorker,ce=K.trackInfoFn,pe=K.timingInfoFn,Me=K.videoSegmentTimingInfoFn,ke=K.audioSegmentTimingInfoFn,je=K.id3Fn,Ne=K.captionsFn,Ot=K.isEndOfTimeline,tt=K.endedTimelineFn,qt=K.dataFn,Lt=K.doneFn,vt=K.onTransmuxerLog,void dd({id:(ee=K.segment).requestId,key:ee.key,encryptedBytes:ee.encryptedBytes,decryptionWorker:Y},function(fi){ee.bytes=fi,cd({segment:ee,bytes:ee.bytes,trackInfoFn:ce,timingInfoFn:pe,videoSegmentTimingInfoFn:Me,audioSegmentTimingInfoFn:ke,id3Fn:je,captionsFn:Ne,isEndOfTimeline:Ot,endedTimelineFn:tt,dataFn:qt,doneFn:Lt,onTransmuxerLog:vt})});var K,Y,ee,ce,pe,Me,ke,je,Ne,Ot,tt,qt,Lt,vt;cd({segment:O,bytes:O.bytes,trackInfoFn:e,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:u,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:m,dataFn:w,doneFn:C,onTransmuxerLog:M})};if(O.endOfAllRequests=Date.now(),O.map&&O.map.encryptedBytes&&!O.map.bytes)return dd({decryptionWorker:i,id:O.requestId+"-init",encryptedBytes:O.map.encryptedBytes,key:O.map.key},function(K){O.map.bytes=K,ld(O,function(Y){return Y?(Zu(a),C(Y,O)):void W()})});W()}}}}({activeXhrs:Y,decryptionWorker:K.decryptionWorker,trackInfoFn:m,timingInfoFn:w,videoSegmentTimingInfoFn:C,audioSegmentTimingInfoFn:M,id3Fn:E,captionsFn:D,isEndOfTimeline:z,endedTimelineFn:O,dataFn:W,doneFn:ee=K.doneFn,onTransmuxerLog:K=K.onTransmuxerLog});u.key&&!u.key.bytes&&(K=[u.key],u.map&&!u.map.bytes&&u.map.key&&u.map.key.resolvedUri===u.key.resolvedUri&&K.push(u.map.key),K=n(x.mergeOptions(r,{uri:u.key.resolvedUri,responseType:"arraybuffer"}),ud(u,K,ee)),Y.push(K)),u.map&&!u.map.bytes&&(!u.map.key||u.key&&u.key.resolvedUri===u.map.key.resolvedUri||(a=n(x.mergeOptions(r,{uri:u.map.key.resolvedUri,responseType:"arraybuffer"}),ud(u,[u.map.key],ee)),Y.push(a)),a=n(x.mergeOptions(r,{uri:u.map.resolvedUri,responseType:"arraybuffer",headers:Ju(u.map)}),(i=(a={segment:u,finishProcessingFn:ee}).segment,e=a.finishProcessingFn,function(pe,Me){return(pe=el(pe,Me))?e(pe,i):(pe=new Uint8Array(Me.response),i.map.key?(i.map.encryptedBytes=pe,e(null,i)):(i.map.bytes=pe,void ld(i,function(ke){return ke?(ke.xhr=Me,ke.status=Me.status,e(ke,i)):void e(null,i)})))})),Y.push(a)),(r=n(r=x.mergeOptions(r,{uri:u.part&&u.part.resolvedUri||u.resolvedUri,responseType:"arraybuffer",headers:Ju(u)}),function u0(t){var a=t.segment,i=t.finishProcessingFn,e=t.responseType;return function(n,r){return(n=el(n,r))?i(n,a):(n="arraybuffer"!==e&&r.responseText?function(s){for(var u=new Uint8Array(new ArrayBuffer(s.length)),d=0;d<s.length;d++)u[d]=s.charCodeAt(d);return u.buffer}(r.responseText.substring(a.lastReachedChar||0)):r.response,a.stats={bandwidth:r.bandwidth,bytesReceived:r.bytesReceived||0,roundTripTime:r.roundTripTime||0},a.key?a.encryptedBytes=new Uint8Array(n):a.bytes=new Uint8Array(n),i(null,a))}}({segment:u,finishProcessingFn:ee,responseType:r.responseType}))).addEventListener("progress",function d0(t){var a=t.segment,i=t.progressFn;return function(e){var n,r=e.target;if(!r.aborted)return a.stats=x.mergeOptions(a.stats,(r=(n=e).target,(r={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-r.requestTime||0}).bytesReceived=n.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r)),!a.stats.firstBytesReceivedAt&&a.stats.bytesReceived&&(a.stats.firstBytesReceivedAt=Date.now()),i(e,a)}}({segment:u,progressFn:f,trackInfoFn:m,timingInfoFn:w,videoSegmentTimingInfoFn:C,audioSegmentTimingInfoFn:M,id3Fn:E,captionsFn:D,isEndOfTimeline:z,endedTimelineFn:O,dataFn:W})),Y.push(r);var ce={};return Y.forEach(function(pe){var Me,ke;pe.addEventListener("loadend",(Me=(pe={loadendState:ce,abortFn:d}).loadendState,ke=pe.abortFn,function(je){je.target.aborted&&ke&&!Me.calledAbortFn&&(ke(),Me.calledAbortFn=!0)}))}),function(){return Zu(Y)}}({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:r,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:d,endedTimelineFn:function(){n.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(C){var m=C.message,w=C.level;C=C.stream,n.logger_(Qa(e)+" logged from transmuxer stream "+C+" as a "+w+": "+m)}})},i.trimBackBuffer_=function(e){var n,r,s,u;0<(n=this.seekable_(),r=this.currentTime_(),s=this.playlist_.targetDuration||10,u=r-Kn.BACK_BUFFER_LENGTH,n.length&&(u=Math.max(u,n.start(0))),u=Math.min(r-s,u))&&this.remove(0,u)},i.createSimplifiedSegmentObj_=function(e){var s,n=e.segment,r={resolvedUri:((s=e.part)||n).resolvedUri,byterange:(s||n).byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part};return(s=e.playlist.segments[e.mediaIndex-1])&&s.timeline===n.timeline&&(s.videoTimingInfo?r.baseStartTime=s.videoTimingInfo.transmuxedDecodeEnd:s.audioTimingInfo&&(r.baseStartTime=s.audioTimingInfo.transmuxedDecodeEnd)),n.key&&(e=n.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]),r.key=this.segmentKey(n.key),r.key.iv=e),n.map&&(r.map=this.initSegmentForMap(n.map)),r},i.saveTransferStats_=function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},i.saveBandwidthRelatedStats_=function(e,n){this.pendingSegment_.byteLength=n.bytesReceived,e<1/60?this.logger_("Ignoring segment's bandwidth because its duration of "+e+" is less than the min to record "+1/60):(this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime)},i.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")},i.segmentRequestFinished_=function(e,n,r){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,n,r));else if(this.saveTransferStats_(n.stats),this.pendingSegment_&&n.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===rl?void 0:(this.pause(),e.code===il?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.saveBandwidthRelatedStats_((e=this.pendingSegment_).duration,n.stats),e.endOfAllRequests=n.endOfAllRequests,r.gopInfo&&(this.gopBuffer_=function(s,u,d){if(!u.length)return s;if(d)return u.slice();for(var f=u[0].pts,m=0;m<s.length&&!(s[m].pts>=f);m++);return s.slice(0,m).concat(u)}(this.gopBuffer_,r.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(e)}},i.setTimeMapping_=function(e){null!==(e=this.syncController_.mappingForTimeline(e))&&(this.timeMapping_=e)},i.updateMediaSecondsLoaded_=function(e){this.mediaSecondsLoaded+="number"==typeof e.start&&"number"==typeof e.end?e.end-e.start:e.duration},i.shouldUpdateTransmuxerTimestampOffset_=function(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())},i.trueSegmentStart_=function(w){var n=w.currentStart,r=w.playlist,s=w.mediaIndex,u=w.firstVideoFrameTimeForData,d=w.currentVideoTimestampOffset,f=w.useVideoTimingInfo,m=w.videoTimingInfo;return w=w.audioTimingInfo,typeof n<"u"?n:f?(r=r.segments[s-1],0!==s&&r&&typeof r.start<"u"&&r.end===u+d?m.start:u):w.start},i.waitForAppendsToComplete_=function(e){if(!(s=this.getCurrentMediaInfo_(e)))return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var n=s.hasAudio,r=s.hasVideo,s=s.isMuxed;if(r="main"===this.loaderType_&&r,s=!this.audioDisabled_&&n&&!s,e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);r&&e.waitingOnAppends++,s&&e.waitingOnAppends++,r&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),s&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))},i.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())},i.checkForIllegalMediaSwitch=function(s){var n,r;return!(n=this.loaderType_,r=this.getCurrentMediaInfo_(),!(s="main"===n&&r&&s?s.hasAudio||s.hasVideo?r.hasVideo&&!s.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!r.hasVideo&&s.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null)||(this.error({message:s,blacklistDuration:1/0}),this.trigger("error"),0))},i.updateSourceBufferTimestampOffset_=function(e){var n;null===e.timestampOffset||"number"!=typeof e.timingInfo.start||e.changedTimestampOffset||"main"!==this.loaderType_||(n=!1,e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),n=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),n=!0),n&&this.trigger("timestampoffset"))},i.getSegmentStartTimeForTimestampOffsetCalculation_=function(s){var n=s.videoTimingInfo,r=s.audioTimingInfo;return s=s.timingInfo,this.useDtsForTimestampOffset_?n&&"number"==typeof n.transmuxedDecodeStart?n.transmuxedDecodeStart:r&&"number"==typeof r.transmuxedDecodeStart?r.transmuxedDecodeStart:s.start:s.start},i.updateTimingInfoEnd_=function(e){e.timingInfo=e.timingInfo||{};var n=this.getMediaInfo_();(n="main"===this.loaderType_&&n&&n.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo)&&(e.timingInfo.end="number"==typeof n.end?n.end:n.start+e.duration)},i.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});var n=function f0(t,s){if("hls"!==s)return null;var i,e,n=(i={audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo},e=0,["video","audio"].forEach(function(d){var f,m=i[d+"TimingInfo"];m&&(d=m.start,m=m.end,"bigint"==typeof d||"bigint"==typeof m?f=window.BigInt(m)-window.BigInt(d):"number"==typeof d&&"number"==typeof m&&(f=m-d),typeof f<"u"&&e<f&&(e=f))}),e="bigint"==typeof e&&e<Number.MAX_SAFE_INTEGER?Number(e):e);if(!n)return null;var r=bd({segmentDuration:n,maxDuration:2*(u=t.playlist.targetDuration)}),u=(s=bd({segmentDuration:n,maxDuration:u}),"Segment with index "+t.mediaIndex+" from playlist "+t.playlist.id+" has a duration of "+n+" when the reported duration is "+t.duration+" and the target duration is "+u+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1");return r||s?{severity:r?"warn":"info",message:u}:null}(e,this.sourceType_);if(n&&("warn"===n.severity?x.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",!e.isSyncRequest||(this.trigger("syncinfoupdate"),e.hasAppendedData_)){this.logger_("Appended "+Qa(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),n=e.part;var r=(r=e.segment).end&&this.currentTime_()-r.end>3*e.playlist.targetDuration;if(n=n&&n.end&&this.currentTime_()-n.end>3*e.playlist.partTargetDuration,r||n)return this.logger_("bad "+(r?"segment":"part")+" "+Qa(e)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+Qa(e))},i.recordThroughput_=function(e){var n,r;e.duration<1/60?this.logger_("Ignoring segment's throughput because its duration of "+e.duration+" is less than the min to record "+1/60):(n=this.throughput.rate,r=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/r*8*1e3),this.throughput.rate+=(r-n)/++this.throughput.count)},i.addSegmentMetadataCue_=function(e){var n,r,s,u;this.segmentMetadataTrack_&&(r=(n=e.segment).start,u=n.end,gd(r)&&gd(u)&&(Ws(r,u,this.segmentMetadataTrack_),s=window.WebKitDataCue||window.VTTCue,e={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:r,end:u},(u=new s(r,u,JSON.stringify(e))).value=e,this.segmentMetadataTrack_.addCue(u)))},a}(x.EventTarget));function gr(){}function kd(t){return"string"!=typeof t?t:t.replace(/./,function(a){return a.toUpperCase()})}function sl(t,a){var i=a[t+"Buffer"];return i&&i.updating||a.queuePending[t]}function Za(t,a){if(0!==a.queue.length){var i=0,e=a.queue[i];if("mediaSource"!==e.type){if("mediaSource"!==t&&a.ready()&&"closed"!==a.mediaSource.readyState&&!sl(t,a)){if(e.type!==t){if(null===(i=function(n,r){for(var s=0;s<r.length;s++){var u=r[s];if("mediaSource"===u.type)return null;if(u.type===n)return s}return null}(t,a.queue)))return;e=a.queue[i]}a.queue.splice(i,1),(a.queuePending[t]=e).action(t,a),e.doneFn||(a.queuePending[t]=null,Za(t,a))}}else a.updating()||"closed"===a.mediaSource.readyState||(a.queue.shift(),e.action(a),e.doneFn&&e.doneFn(),Za("audio",a),Za("video",a))}}function Ed(t,a){var i=a[t+"Buffer"],e=kd(t);i&&(i.removeEventListener("updateend",a["on"+e+"UpdateEnd_"]),i.removeEventListener("error",a["on"+e+"Error_"]),a.codecs[t]=null,a[t+"Buffer"]=null)}function Zi(t,a){return t&&a&&-1!==Array.prototype.indexOf.call(t.sourceBuffers,a)}function Ai(r){var a=r.type,i=r.sourceUpdater;i.queue.push({type:a,action:r.action,doneFn:r.doneFn,name:r=r.name}),Za(a,i)}function Cd(t,a){return function(i){var e;a.queuePending[t]&&(e=a.queuePending[t].doneFn,a.queuePending[t]=null,e&&e(a[t+"Error_"])),Za(t,a)}}function Ad(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))}function Wo(t,a){t.abort(),t.pause(),a&&a.activePlaylistLoader&&(a.activePlaylistLoader.pause(),a.activePlaylistLoader=null)}function Id(t,a){(a.activePlaylistLoader=t).load()}function Md(t,a){for(var i=0;i<t.length;i++)if(Xu(a,t[i])||t[i].playlists&&Md(t[i].playlists,a))return!0;return!1}function w0(t,a,i){var e,n,r,s,u=t.masterPlaylistController_,d=u[(t.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(u);a.attributes&&(this.width=(e=a.attributes.RESOLUTION)&&e.width,this.height=e&&e.height,this.bandwidth=a.attributes.BANDWIDTH,this.frameRate=a.attributes["FRAME-RATE"]),this.codecs=Vs(u.master(),a),this.playlist=a,this.id=i,this.enabled=(n=t.playlists,r=a.id,s=d,function(f){var m=n.master.playlists[r],w=Wu(m),C=Bo(m);return typeof f>"u"?C:(f?delete m.disabled:m.disabled=!0,f===C||w||(s(),n.trigger(f?"renditionenabled":"renditiondisabled")),f)})}function Pd(t,a){var i=0,e=0,n=x.mergeOptions(H0,a);function r(){e&&t.currentTime(e)}function s(f){null!=f&&(e=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",r),t.src(f),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())}function u(){return Date.now()-i<1e3*n.errorInterval?(t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void t.trigger({type:"usage",name:"hls-error-reload-canceled"})):n.getSource&&"function"==typeof n.getSource?(i=Date.now(),n.getSource.call(t,s)):void x.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}function d(){t.off("loadedmetadata",r),t.off("error",u),t.off("dispose",d)}t.ready(function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})}),t.on("error",u),t.on("dispose",d),t.reloadSourceOnError=function(f){d(),Pd(t,f)}}var yr,S0=["video","audio"],x0=function(t,a,i){return function(e,n){var r=n[e+"Buffer"];if(Zi(n.mediaSource,r)){n.logger_("Appending segment "+a.mediaIndex+"'s "+t.length+" bytes to "+e+"Buffer");try{r.appendBuffer(t)}catch(s){n.logger_("Error with code "+s.code+" "+(22===s.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+a.mediaIndex+" to "+e+"Buffer"),n.queuePending[e]=null,i(s)}}}},Od=function(t,a){return function(i,e){var n=e[i+"Buffer"];if(Zi(e.mediaSource,n)){e.logger_("Removing "+t+" to "+a+" from "+i+"Buffer");try{n.remove(t,a)}catch{e.logger_("Remove "+t+" to "+a+" from "+i+"Buffer failed")}}}},Ld=function(t){return function(a,i){var e=i[a+"Buffer"];Zi(i.mediaSource,e)&&(i.logger_("Setting "+a+"timestampOffset to "+t),e.timestampOffset=t)}},Dd=function(t){return function(a,i){t()}},k0=function(t){return function(a){if("open"===a.mediaSource.readyState){a.logger_("Calling mediaSource endOfStream("+(t||"")+")");try{a.mediaSource.endOfStream(t)}catch(i){x.log.warn("Failed to call media source endOfStream",i)}}}},E0=function(t){return function(a){a.logger_("Setting mediaSource duration to "+t);try{a.mediaSource.duration=t}catch(i){x.log.warn("Failed to set media source duration",i)}}},A0=function(t,a){return function(i){var e=kd(t),n=ct(a);i.logger_("Adding "+t+"Buffer with codec "+a+" to mediaSource"),(n=i.mediaSource.addSourceBuffer(n)).addEventListener("updateend",i["on"+e+"UpdateEnd_"]),n.addEventListener("error",i["on"+e+"Error_"]),i.codecs[t]=a,i[t+"Buffer"]=n}},I0=function(t){return function(a){var i=a[t+"Buffer"];if(Ed(t,a),Zi(a.mediaSource,i)){a.logger_("Removing "+t+"Buffer with codec "+a.codecs[t]+" from mediaSource");try{a.mediaSource.removeSourceBuffer(i)}catch(e){x.log.warn("Failed to removeSourceBuffer "+t+"Buffer",e)}}}},M0=function(t){return function(a,i){var e=i[a+"Buffer"],n=ct(t);if(Zi(i.mediaSource,e)&&i.codecs[a]!==t){i.logger_("changing "+a+"Buffer codec from "+i.codecs[a]+" to "+t);try{e.changeType(n),i.codecs[a]=t}catch(r){x.log.warn("Failed to changeType on "+a+"Buffer",r)}}}},Nd=function(t){function a(e){var n=t.call(this)||this;return n.mediaSource=e,n.sourceopenListener_=function(){return Za("mediaSource",Ke(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=Gi("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=Cd("video",Ke(n)),n.onAudioUpdateEnd_=Cd("audio",Ke(n)),n.onVideoError_=function(r){n.videoError_=r},n.onAudioError_=function(r){n.audioError_=r},n.createdSourceBuffers_=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}he(a,t);var i=a.prototype;return i.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},i.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},i.hasInitializedAnyEme=function(){return this.initializedEme_},i.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},i.createSourceBuffers=function(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},i.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},i.addSourceBuffer=function(e,n){Ai({type:"mediaSource",sourceUpdater:this,action:A0(e,n),name:"addSourceBuffer"})},i.abort=function(e){Ai({type:e,sourceUpdater:this,action:function(t,a){if("open"===a.mediaSource.readyState){var i=a[t+"Buffer"];if(Zi(a.mediaSource,i)){a.logger_("calling abort on "+t+"Buffer");try{i.abort()}catch(e){x.log.warn("Failed to abort on "+t+"Buffer",e)}}}},name:"abort"})},i.removeSourceBuffer=function(e){this.canRemoveSourceBuffer()?Ai({type:"mediaSource",sourceUpdater:this,action:I0(e),name:"removeSourceBuffer"}):x.log.error("removeSourceBuffer is not supported!")},i.canRemoveSourceBuffer=function(){return!x.browser.IE_VERSION&&!x.browser.IS_FIREFOX&&window.MediaSource&&window.MediaSource.prototype&&"function"==typeof window.MediaSource.prototype.removeSourceBuffer},a.canChangeType=function(){return window.SourceBuffer&&window.SourceBuffer.prototype&&"function"==typeof window.SourceBuffer.prototype.changeType},i.canChangeType=function(){return this.constructor.canChangeType()},i.changeType=function(e,n){this.canChangeType()?Ai({type:e,sourceUpdater:this,action:M0(n),name:"changeType"}):x.log.error("changeType is not supported!")},i.addOrChangeSourceBuffers=function(e){var n=this;if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(function(r){var s=e[r];if(!n.hasCreatedSourceBuffers())return n.addSourceBuffer(r,s);n.canChangeType()&&n.changeType(r,s)})},i.appendBuffer=function(e,n){var r=this,s=e.segmentInfo,u=e.type,d=e.bytes;if(this.processedAppend_=!0,"audio"===u&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,n]),void this.logger_("delayed audio append of "+d.length+" until video append");Ai({type:u,sourceUpdater:this,action:x0(d,s||{mediaIndex:-1},n),doneFn:n,name:"appendBuffer"}),"video"===u&&(this.videoAppendQueued_=!0,this.delayedAudioAppendQueue_.length&&(u=this.delayedAudioAppendQueue_.slice(),this.logger_("queuing delayed audio "+u.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,u.forEach(function(f){r.appendBuffer.apply(r,f)})))},i.audioBuffered=function(){return Zi(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered||x.createTimeRange()},i.videoBuffered=function(){return Zi(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered||x.createTimeRange()},i.buffered=function(){var e=Zi(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=Zi(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!e?this.audioBuffered():e&&!n?this.videoBuffered():function(r,s){var u=null,d=null,f=0,m=[],w=[];if(!(r&&r.length&&s&&s.length))return x.createTimeRange();for(var C=r.length;C--;)m.push({time:r.start(C),type:"start"}),m.push({time:r.end(C),type:"end"});for(C=s.length;C--;)m.push({time:s.start(C),type:"start"}),m.push({time:s.end(C),type:"end"});for(m.sort(function(M,E){return M.time-E.time}),C=0;C<m.length;C++)"start"===m[C].type?2==++f&&(u=m[C].time):"end"===m[C].type&&1==--f&&(d=m[C].time),null!==u&&null!==d&&(w.push([u,d]),d=u=null);return x.createTimeRanges(w)}(this.audioBuffered(),this.videoBuffered())},i.setDuration=function(e,n){void 0===n&&(n=gr),Ai({type:"mediaSource",sourceUpdater:this,action:E0(e),name:"duration",doneFn:n})},i.endOfStream=function(e,n){void 0===n&&(n=gr),Ai({type:"mediaSource",sourceUpdater:this,action:k0(e="string"!=typeof(e=void 0===e?null:e)?void 0:e),name:"endOfStream",doneFn:n})},i.removeAudio=function(e,n,r){void 0===r&&(r=gr),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Ai({type:"audio",sourceUpdater:this,action:Od(e,n),doneFn:r,name:"remove"}):r()},i.removeVideo=function(e,n,r){void 0===r&&(r=gr),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Ai({type:"video",sourceUpdater:this,action:Od(e,n),doneFn:r,name:"remove"}):r()},i.updating=function(){return!(!sl("audio",this)&&!sl("video",this))},i.audioTimestampOffset=function(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Ai({type:"audio",sourceUpdater:this,action:Ld(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},i.videoTimestampOffset=function(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset!==e&&(Ai({type:"video",sourceUpdater:this,action:Ld(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},i.audioQueueCallback=function(e){this.audioBuffer&&Ai({type:"audio",sourceUpdater:this,action:Dd(e),name:"callback"})},i.videoQueueCallback=function(e){this.videoBuffer&&Ai({type:"video",sourceUpdater:this,action:Dd(e),name:"callback"})},i.dispose=function(){var e=this;this.trigger("dispose"),S0.forEach(function(n){e.abort(n),e.canRemoveSourceBuffer()?e.removeSourceBuffer(n):e[n+"QueueCallback"](function(){return Ed(n,e)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},a}(x.EventTarget),Rd=new Uint8Array("\n\n".split("").map(function(t){return t.charCodeAt(0)})),P0=function(t){function a(){return t.call(this,"Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return he(a,t),a}(An(Error)),O0=function(t){function a(e,n){return(n=t.call(this,e,n=void 0===n?{}:n)||this).mediaSource_=null,n.subtitlesTrack_=null,n.loaderType_="subtitle",n.featuresNativeTextTracks_=e.featuresNativeTextTracks,n.loadVttJs=e.loadVttJs,n.shouldSaveSegmentTimingInfo_=!1,n}he(a,t);var i=a.prototype;return i.createTransmuxer_=function(){return null},i.buffered_=function(){return this.subtitlesTrack_&&this.subtitlesTrack_.cues&&this.subtitlesTrack_.cues.length?x.createTimeRanges([[(n=this.subtitlesTrack_.cues)[0].startTime,n=n[n.length-1].startTime]]):x.createTimeRanges();var n},i.initSegmentForMap=function(e,n){if(void 0===n&&(n=!1),!e)return null;var r=Uo(e),s=this.initSegments_[r];return n&&!s&&e.bytes&&(n=Rd.byteLength+e.bytes.byteLength,(n=new Uint8Array(n)).set(e.bytes),n.set(Rd,e.bytes.byteLength),this.initSegments_[r]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:n}),s||e},i.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.track=function(e){return typeof e>"u"||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},i.remove=function(e,n){Ws(e,n,this.subtitlesTrack_)},i.fillBuffer_=function(){var e=this,n=this.chooseNextRequest_();if(n){if(null===this.syncController_.timestampOffsetForTimeline(n.timeline))return this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(n)}},i.timestampOffsetForSegment_=function(){return null},i.chooseNextRequest_=function(){return this.skipEmptySegments_(t.prototype.chooseNextRequest_.call(this))},i.skipEmptySegments_=function(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e},i.stopForError=function(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")},i.segmentRequestFinished_=function(e,n,r){var s=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(n.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===il&&this.handleTimeout_(),e.code===rl?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);var u=this.pendingSegment_;this.saveBandwidthRelatedStats_(u.duration,n.stats),n.key&&this.segmentKey(n.key,!0),this.state="APPENDING",this.trigger("appending");var d=u.segment;if(d.map&&(d.map.bytes=n.map.bytes),u.bytes=n.bytes,"function"!=typeof window.WebVTT&&"function"==typeof this.loadVttJs)return this.state="WAITING_ON_VTTJS",void this.loadVttJs().then(function(){return s.segmentRequestFinished_(e,n,r)},function(){return s.stopForError({message:"Error loading vtt.js"})});d.requested=!0;try{this.parseVTTCues_(u)}catch(f){return void this.stopForError({message:f.message})}if(this.updateTimeMapping_(u,this.syncController_.timelines[u.timeline],this.playlist_),u.timingInfo=u.cues.length?{start:u.cues[0].startTime,end:u.cues[u.cues.length-1].endTime}:{start:u.startOfSegment,end:u.startOfSegment+u.duration},u.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");u.byteLength=u.bytes.byteLength,this.mediaSecondsLoaded+=d.duration,u.cues.forEach(function(f){s.subtitlesTrack_.addCue(s.featuresNativeTextTracks_?new window.VTTCue(f.startTime,f.endTime,f.text):f)}),function(f){var m=f.cues;if(m)for(var w=0;w<m.length;w++){for(var C=[],M=0,E=0;E<m.length;E++)m[w].startTime===m[E].startTime&&m[w].endTime===m[E].endTime&&m[w].text===m[E].text&&1<++M&&C.push(m[E]);C.length&&C.forEach(function(D){return f.removeCue(D)})}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},i.handleData_=function(){},i.updateTimingInfoEnd_=function(){},i.parseVTTCues_=function(e){var n=!1;if("function"!=typeof window.WebVTT)throw new P0;"function"==typeof window.TextDecoder?r=new window.TextDecoder("utf8"):(r=window.WebVTT.StringDecoder(),n=!0);var r=new window.WebVTT.Parser(window,window.vttjs,r);e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(u){e.timestampmap=u},r.onparsingerror=function(u){x.log.warn("Error encountered when parsing cues: "+u.message)},e.segment.map&&(s=e.segment.map.bytes,n&&(s=Ad(s)),r.parse(s));var s=e.bytes;n&&(s=Ad(s)),r.parse(s),r.flush()},i.updateTimeMapping_=function(e,n,r){var s,u,d=e.segment;n&&(e.cues.length?(s=(u=e.timestampmap).MPEGTS/Do-u.LOCAL+n.mapping,e.cues.forEach(function(f){f.startTime+=s,f.endTime+=s}),r.syncInfo||(u=e.cues[0].startTime,n=e.cues[e.cues.length-1].startTime,r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:Math.min(u,n-d.duration)})):d.empty=!0)},a}(al),Bd=[{name:"VOD",run:function(t,a,i,e,n){return i===1/0?null:{time:0,segmentIndex:0,partIndex:null}}},{name:"ProgramDateTime",run:function(t,a,i,e,n){if(!Object.keys(t.timelineToDatetimeMappings).length)return null;var r=null,s=null,u=Vu(a);n=n||0;for(var d=0;d<u.length;d++){var f=u[a.endList||0===n?d:u.length-(d+1)],m=f.segment,w=t.timelineToDatetimeMappings[m.timeline];if(w&&m.dateTimeObject){var C=m.dateTimeObject.getTime()/1e3+w;if(m.parts&&"number"==typeof f.partIndex)for(var M=0;M<f.partIndex;M++)C+=m.parts[M].duration;if(w=Math.abs(n-C),null!==s&&(0===w||s<w))break;s=w,r={time:C,segmentIndex:f.segmentIndex,partIndex:f.partIndex}}}return r}},{name:"Segment",run:function(t,a,i,e,n){var r=null,s=null;n=n||0;for(var u=Vu(a),d=0;d<u.length;d++){var f=u[a.endList||0===n?d:u.length-(d+1)],m=f.segment,w=f.part&&f.part.start||m&&m.start;if(m.timeline===e&&typeof w<"u"){if(m=Math.abs(n-w),null!==s&&s<m)break;(!r||null===s||m<=s)&&(s=m,r={time:w,segmentIndex:f.segmentIndex,partIndex:f.partIndex})}}return r}},{name:"Discontinuity",run:function(t,a,i,e,n){var r=null;if(n=n||0,a.discontinuityStarts&&a.discontinuityStarts.length)for(var s=null,u=0;u<a.discontinuityStarts.length;u++){var d=a.discontinuityStarts[u],f=a.discontinuitySequence+u+1,m=t.discontinuities[f];if(m){if(f=Math.abs(n-m.time),null!==s&&s<f)break;(!r||null===s||f<=s)&&(s=f,r={time:m.time,segmentIndex:d,partIndex:null})}}return r}},{name:"Playlist",run:function(t,a,i,e,n){return a.syncInfo?{time:a.syncInfo.time,segmentIndex:a.syncInfo.mediaSequence-a.mediaSequence,partIndex:null}:null}}],L0=function(t){function a(e){var n=t.call(this)||this;return n.timelines=[],n.discontinuities=[],n.timelineToDatetimeMappings={},n.logger_=Gi("SyncController"),n}he(a,t);var i=a.prototype;return i.getSyncPoint=function(e,n,r,s){return(r=this.runStrategies_(e,n,r,s)).length?this.selectSyncPoint_(r,{key:"time",value:s}):null},i.getExpiredTime=function(e,n){return e&&e.segments&&(n=this.runStrategies_(e,n,e.discontinuitySequence,0)).length?(0<(n=this.selectSyncPoint_(n,{key:"segmentIndex",value:0})).segmentIndex&&(n.time*=-1),Math.abs(n.time+qs({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:n.segmentIndex,endIndex:0}))):null},i.runStrategies_=function(e,n,r,s){for(var u=[],d=0;d<Bd.length;d++){var f=Bd[d],m=f.run(this,e,n,r,s);m&&(m.strategy=f.name,u.push({strategy:f.name,syncPoint:m}))}return u},i.selectSyncPoint_=function(e,n){for(var r=e[0].syncPoint,s=Math.abs(e[0].syncPoint[n.key]-n.value),u=e[0].strategy,d=1;d<e.length;d++){var f=Math.abs(e[d].syncPoint[n.key]-n.value);f<s&&(s=f,r=e[d].syncPoint,u=e[d].strategy)}return this.logger_("syncPoint for ["+n.key+": "+n.value+"] chosen with strategy ["+u+"]: [time:"+r.time+", segmentIndex:"+r.segmentIndex+("number"==typeof r.partIndex?",partIndex:"+r.partIndex:"")+"]"),r},i.saveExpiredSegmentInfo=function(e,n){var r=n.mediaSequence-e.mediaSequence;if(86400<r)x.log.warn("Not saving expired segment info. Media sequence gap "+r+" is too large.");else for(var s=r-1;0<=s;s--){var u=e.segments[s];if(u&&typeof u.start<"u"){n.syncInfo={mediaSequence:e.mediaSequence+s,time:u.start},this.logger_("playlist refresh sync: [time:"+n.syncInfo.time+", mediaSequence: "+n.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},i.setDateTimeMappingForStart=function(e){var n;this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject&&(e=(n=e.segments[0]).dateTimeObject.getTime()/1e3,this.timelineToDatetimeMappings[n.timeline]=-e)},i.saveSegmentTimingInfo=function(u){var n=u.segmentInfo,r=u.shouldSaveTimelineMapping,s=this.calculateSegmentTimeMapping_(n,n.timingInfo,r);u=n.segment,s&&(this.saveDiscontinuitySyncInfo_(n),n.playlist.syncInfo||(n.playlist.syncInfo={mediaSequence:n.playlist.mediaSequence+n.mediaIndex,time:u.start})),n=u.dateTimeObject,u.discontinuity&&r&&n&&(this.timelineToDatetimeMappings[u.timeline]=-n.getTime()/1e3)},i.timestampOffsetForTimeline=function(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time},i.mappingForTimeline=function(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping},i.calculateSegmentTimeMapping_=function(e,n,r){var s,u,d=e.segment,f=e.part,m=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)m={time:e.startOfSegment,mapping:e.startOfSegment-n.start},r&&(this.timelines[e.timeline]=m,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+m.time+"] [mapping: "+m.mapping+"]")),s=e.startOfSegment,u=n.end+m.mapping;else{if(!m)return!1;s=n.start+m.mapping,u=n.end+m.mapping}return f&&(f.start=s,f.end=u),(!d.start||s<d.start)&&(d.start=s),d.end=u,!0},i.saveDiscontinuitySyncInfo_=function(e){var n=e.playlist,r=e.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(var s=0;s<n.discontinuityStarts.length;s++){var u,d=n.discontinuityStarts[s],f=n.discontinuitySequence+s+1,m=d-e.mediaIndex,w=Math.abs(m);(!this.discontinuities[f]||this.discontinuities[f].accuracy>w)&&(u=m<0?r.start-qs({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex,endIndex:d}):r.end+qs({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex+1,endIndex:d}),this.discontinuities[f]={time:u,accuracy:w})}},i.dispose=function(){this.trigger("dispose"),this.off()},a}(x.EventTarget),D0=function(t){function a(){var e=t.call(this)||this;return e.pendingTimelineChanges_={},e.lastTimelineChanges_={},e}he(a,t);var i=a.prototype;return i.clearPendingTimelineChange=function(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")},i.pendingTimelineChange=function(s){var n=s.type,r=s.from;return s=s.to,"number"==typeof r&&"number"==typeof s&&(this.pendingTimelineChanges_[n]={type:n,from:r,to:s},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[n]},i.lastTimelineChange=function(s){var n=s.type,r=s.from;return s=s.to,"number"==typeof r&&"number"==typeof s&&(this.lastTimelineChanges_[n]={type:n,from:r,to:s},delete this.pendingTimelineChanges_[n],this.trigger("timelinechange")),this.lastTimelineChanges_[n]},i.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},a}(x.EventTarget),N0=mr(qi(gn(function(){var m=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t(C,M,E){return C(E={path:M,exports:{},require:function(D,z){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},E.exports),E.exports}var a=t(function(C){function M(E,D){for(var z=0;z<D.length;z++){var O=D[z];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}C.exports=function(E,D,z){return D&&M(E.prototype,D),z&&M(E,z),E},C.exports.default=C.exports,C.exports.__esModule=!0}),i=t(function(C){function M(E,D){return C.exports=M=Object.setPrototypeOf||function(z,O){return z.__proto__=O,z},C.exports.default=C.exports,C.exports.__esModule=!0,M(E,D)}C.exports=M,C.exports.default=C.exports,C.exports.__esModule=!0}),e=t(function(C){C.exports=function(M,E){M.prototype=Object.create(E.prototype),M.prototype.constructor=M,i(M,E)},C.exports.default=C.exports,C.exports.__esModule=!0}),n=function(){function C(){this.listeners={}}var M=C.prototype;return M.on=function(E,D){this.listeners[E]||(this.listeners[E]=[]),this.listeners[E].push(D)},M.off=function(E,D){return!!this.listeners[E]&&(D=this.listeners[E].indexOf(D),this.listeners[E]=this.listeners[E].slice(0),this.listeners[E].splice(D,1),-1<D)},M.trigger=function(E){var D=this.listeners[E];if(D)if(2===arguments.length)for(var z=D.length,O=0;O<z;++O)D[O].call(this,arguments[1]);else for(var W=Array.prototype.slice.call(arguments,1),K=D.length,Y=0;Y<K;++Y)D[Y].apply(this,W)},M.dispose=function(){this.listeners={}},M.pipe=function(E){this.on("data",function(D){E.push(D)})},C}(),r=null,s=function(){function C(M){var E,D,z;r=r||function(){for(var pe,Me,ke,je,Ne,Ot,tt,qt=[[[],[],[],[],[]],[[],[],[],[],[]]],Lt=qt[0],vt=qt[1],fi=Lt[4],Ee=vt[4],ye=[],St=[],nt=0;nt<256;nt++)St[(ye[nt]=nt<<1^283*(nt>>7))^nt]=nt;for(pe=Me=0;!fi[pe];pe^=ke||1,Me=St[Me]||1)for(tt=16843009*ye[je=ye[ke=ye[Ee[fi[pe]=Ne=(Ne=Me^Me<<1^Me<<2^Me<<3^Me<<4)>>8^255&Ne^99]=pe]]]^65537*je^257*ke^16843008*pe,Ot=257*ye[Ne]^16843008*Ne,nt=0;nt<4;nt++)Lt[nt][pe]=Ot=Ot<<24^Ot>>>8,vt[nt][Ne]=tt=tt<<24^tt>>>8;for(nt=0;nt<5;nt++)Lt[nt]=Lt[nt].slice(0),vt[nt]=vt[nt].slice(0);return qt}(),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];var O=this._tables[0][4],W=this._tables[1],K=M.length,Y=1;if(4!==K&&6!==K&&8!==K)throw new Error("Invalid aes key size");var ee=M.slice(0),ce=[];for(this._key=[ee,ce],E=K;E<4*K+28;E++)z=ee[E-1],(E%K==0||8===K&&E%K==4)&&(z=O[z>>>24]<<24^O[z>>16&255]<<16^O[z>>8&255]<<8^O[255&z],E%K==0&&(z=z<<8^z>>>24^Y<<24,Y=Y<<1^283*(Y>>7))),ee[E]=ee[E-K]^z;for(D=0;E;D++,E--)z=ee[3&D?E:E-4],ce[D]=E<=4||D<4?z:W[0][O[z>>>24]]^W[1][O[z>>16&255]]^W[2][O[z>>8&255]]^W[3][O[255&z]]}return C.prototype.decrypt=function(M,E,D,z,O,W){for(var K,Y,ee,ce=this._key[1],pe=M^ce[0],Me=z^ce[1],ke=D^ce[2],je=E^ce[3],Ne=ce.length/4-2,Ot=4,tt=(E=this._tables[1])[0],qt=E[1],Lt=E[2],vt=E[3],fi=E[4],Ee=0;Ee<Ne;Ee++)K=tt[pe>>>24]^qt[Me>>16&255]^Lt[ke>>8&255]^vt[255&je]^ce[Ot],Y=tt[Me>>>24]^qt[ke>>16&255]^Lt[je>>8&255]^vt[255&pe]^ce[Ot+1],ee=tt[ke>>>24]^qt[je>>16&255]^Lt[pe>>8&255]^vt[255&Me]^ce[Ot+2],je=tt[je>>>24]^qt[pe>>16&255]^Lt[Me>>8&255]^vt[255&ke]^ce[Ot+3],Ot+=4,pe=K,Me=Y,ke=ee;for(Ee=0;Ee<4;Ee++)O[(3&-Ee)+W]=fi[pe>>>24]<<24^fi[Me>>16&255]<<16^fi[ke>>8&255]<<8^fi[255&je]^ce[Ot++],K=pe,pe=Me,Me=ke,ke=je,je=K},C}(),u=function(C){function M(){var D=C.call(this,n)||this;return D.jobs=[],D.delay=1,D.timeout_=null,D}e(M,C);var E=M.prototype;return E.processJob_=function(){this.jobs.shift()(),this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null},E.push=function(D){this.jobs.push(D),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},M}(n),d=function(C){return C<<24|(65280&C)<<8|(16711680&C)>>8|C>>>24},f=function(){function C(M,E,D,z){var O=C.STEP,W=new Int32Array(M.buffer),K=new Uint8Array(M.byteLength),Y=0;for(this.asyncStream_=new u,this.asyncStream_.push(this.decryptChunk_(W.subarray(Y,Y+O),E,D,K)),Y=O;Y<W.length;Y+=O)D=new Uint32Array([d(W[Y-4]),d(W[Y-3]),d(W[Y-2]),d(W[Y-1])]),this.asyncStream_.push(this.decryptChunk_(W.subarray(Y,Y+O),E,D,K));this.asyncStream_.push(function(){var ee;z(null,(ee=K).subarray(0,ee.byteLength-ee[ee.byteLength-1]))})}return C.prototype.decryptChunk_=function(M,E,D,z){return function(){var O=function(W,K,Y){for(var ee,ce,pe,Me,ke=new Int32Array(W.buffer,W.byteOffset,W.byteLength>>2),je=new s(Array.prototype.slice.call(K)),Ne=(W=new Uint8Array(W.byteLength),new Int32Array(W.buffer)),Ot=Y[0],tt=Y[1],qt=Y[2],Lt=Y[3],vt=0;vt<ke.length;vt+=4)ee=d(ke[vt]),ce=d(ke[vt+1]),pe=d(ke[vt+2]),Me=d(ke[vt+3]),je.decrypt(ee,ce,pe,Me,Ne,vt),Ne[vt]=d(Ne[vt]^Ot),Ne[vt+1]=d(Ne[vt+1]^tt),Ne[vt+2]=d(Ne[vt+2]^qt),Ne[vt+3]=d(Ne[vt+3]^Lt),Ot=ee,tt=ce,qt=pe,Lt=Me;return W}(M,E,D);z.set(O,M.byteOffset)}},a(C,null,[{key:"STEP",get:function(){return 32e3}}]),C}();(m=(m=typeof window<"u"?window:typeof m<"u"?m:typeof self<"u"?self:{}).BigInt||Number)("0x1"),m("0x100"),m("0x10000"),m("0x1000000"),m("0x100000000"),m("0x10000000000"),m("0x1000000000000"),m("0x100000000000000"),m("0x10000000000000000"),self.onmessage=function(z){var M=z.data,E=new Uint8Array(M.encrypted.bytes,M.encrypted.byteOffset,M.encrypted.byteLength),D=new Uint32Array(M.key.bytes,M.key.byteOffset,M.key.byteLength/4);z=new Uint32Array(M.iv.bytes,M.iv.byteOffset,M.iv.byteLength/4),new f(E,D,z,function(O,W){self.postMessage(function w(C){var M={};return Object.keys(C).forEach(function(E){var D,z=C[E];D=z,M[E]=("function"===ArrayBuffer.isView?ArrayBuffer.isView(D):D&&D.buffer instanceof ArrayBuffer)?{bytes:z.buffer,byteOffset:z.byteOffset,byteLength:z.byteLength}:z}),M}({source:M.source,decrypted:W}),[W.buffer])})}}))),Go={AUDIO:function(t,a){return function(){var i=a.mediaTypes[t],e=a.blacklistCurrentPlaylist;Wo(r=a.segmentLoaders[t],i);var n=i.activeTrack(),r=((r=i.activeGroup()).filter(function(d){return d.default})[0]||r[0]).id,s=i.tracks[r];if(n!==s){for(var u in x.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),i.tracks)i.tracks[u].enabled=i.tracks[u]===s;i.onTrackChanged()}else e({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,a){return function(){var i=a.segmentLoaders[t],e=a.mediaTypes[t];x.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Wo(i,e),(i=e.activeTrack())&&(i.mode="disabled"),e.onTrackChanged()}}},Ud={AUDIO:function(t,a,i){var e,n,r;a&&(e=i.tech,n=i.requestOptions,r=i.segmentLoaders[t],a.on("loadedmetadata",function(){var s=a.media();r.playlist(s,n),(!e.paused()||s.endList&&"none"!==e.preload())&&r.load()}),a.on("loadedplaylist",function(){r.playlist(a.media(),n),e.paused()||r.load()}),a.on("error",Go[t](t,i)))},SUBTITLES:function(t,a,i){var e=i.tech,n=i.requestOptions,r=i.segmentLoaders[t],s=i.mediaTypes[t];a.on("loadedmetadata",function(){var u=a.media();r.playlist(u,n),r.track(s.activeTrack()),(!e.paused()||u.endList&&"none"!==e.preload())&&r.load()}),a.on("loadedplaylist",function(){r.playlist(a.media(),n),e.paused()||r.load()}),a.on("error",Go[t](t,i))}},R0={AUDIO:function(t,a){var i,e,n=a.vhs,r=a.sourceType,s=a.segmentLoaders[t],u=a.requestOptions,d=a.master.mediaGroups,f=a.mediaTypes[t],m=f.groups,w=f.tracks,C=f.logger_,M=a.masterPlaylistLoader,E=js(M.master);for(i in d[t]&&0!==Object.keys(d[t]).length||(d[t]={main:{default:{default:!0}}},E&&(d[t].main.default.playlists=M.master.playlists)),d[t])for(var D in m[i]||(m[i]=[]),d[t][i]){var O=d[t][i][D],z=void 0;z=E?(C("AUDIO group '"+i+"' label '"+D+"' is a master playlist"),O.isMasterPlaylist=!0,null):"vhs-json"===r&&O.playlists?new Ja(O.playlists[0],n,u):O.resolvedUri?new Ja(O.resolvedUri,n,u):O.playlists&&"dash"===r?new nl(O.playlists[0],n,u,M):null,O=x.mergeOptions({id:D,playlistLoader:z},O),Ud[t](t,O.playlistLoader,a),m[i].push(O),typeof w[D]>"u"&&(O=new x.AudioTrack({id:D,kind:(e=void 0,e=(z=O).default?"main":"alternative",e=z.characteristics&&0<=z.characteristics.indexOf("public.accessibility.describes-video")?"main-desc":e),enabled:!1,language:O.language,default:O.default,label:D}),w[D]=O)}s.on("error",Go[t](t,a))},SUBTITLES:function(t,a){var i,e=a.tech,n=a.vhs,r=a.sourceType,s=a.segmentLoaders[t],u=a.requestOptions,d=a.master.mediaGroups,f=a.mediaTypes[t],m=f.groups,w=f.tracks,C=a.masterPlaylistLoader;for(i in d[t])for(var M in m[i]||(m[i]=[]),d[t][i])if(!d[t][i][M].forced){var E=d[t][i][M],D=void 0;if("hls"===r)D=new Ja(E.resolvedUri,n,u);else if("dash"===r){if(!E.playlists.filter(function(z){return z.excludeUntil!==1/0}).length)return;D=new nl(E.playlists[0],n,u,C)}else"vhs-json"===r&&(D=new Ja(E.playlists?E.playlists[0]:E.resolvedUri,n,u));E=x.mergeOptions({id:M,playlistLoader:D},E),Ud[t](t,E.playlistLoader,a),m[i].push(E),typeof w[M]>"u"&&(E=e.addRemoteTextTrack({id:M,kind:"subtitles",default:E.default&&E.autoselect,language:E.language,label:M},!1).track,w[M]=E)}s.on("error",Go[t](t,a))},"CLOSED-CAPTIONS":function(t,r){var i,e=r.tech,n=r.master.mediaGroups,s=(r=r.mediaTypes[t]).groups,u=r.tracks;for(i in n[t])for(var d in s[i]||(s[i]=[]),n[t][i]){var f,m,w=n[t][i][d];/^(?:CC|SERVICE)/.test(w.instreamId)&&(void 0===(m=(f=e.options_.vhs&&e.options_.vhs.captionServices||{})[(m={label:d,language:w.language,instreamId:w.instreamId,default:w.default&&w.autoselect}).instreamId]?x.mergeOptions(m,f[m.instreamId]):m).default&&delete m.default,s[i].push(x.mergeOptions({id:d},w)),typeof u[d]>"u"&&(m=e.addRemoteTextTrack({id:m.instreamId,kind:"captions",default:m.default,language:m.language,label:m.label},!1).track,u[d]=m))}}},B0={AUDIO:function(t,a){return function(){var i,e=a.mediaTypes[t].tracks;for(i in e)if(e[i].enabled)return e[i];return null}},SUBTITLES:function(t,a){return function(){var i,e=a.mediaTypes[t].tracks;for(i in e)if("showing"===e[i].mode||"hidden"===e[i].mode)return e[i];return null}}},U0=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],F0=function(t){function a(e){var n=t.call(this)||this,r=e.src,s=e.handleManifestRedirects,u=e.withCredentials,d=e.tech,f=e.bandwidth,m=e.externVhs,w=e.useCueTags,C=e.blacklistDuration,M=e.enableLowInitialPlaylist,E=e.sourceType,D=e.cacheEncryptionKeys,z=e.experimentalBufferBasedABR,O=e.experimentalLeastPixelDiffSelector,W=e.captionServices;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");var K,Y=e.maxPlaylistRetries;return null!==Y&&typeof Y<"u"||(Y=1/0),yr=m,n.experimentalBufferBasedABR=!!z,n.experimentalLeastPixelDiffSelector=!!O,n.withCredentials=u,n.tech_=d,n.vhs_=d.vhs,n.sourceType_=E,n.useCueTags_=w,n.blacklistDuration=C,n.maxPlaylistRetries=Y,n.enableLowInitialPlaylist=M,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:u,handleManifestRedirects:s,maxPlaylistRetries:Y,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=(K={},["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(ee){K[ee]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:gr,activeTrack:gr,getActiveGroup:gr,onGroupChanged:gr,onTrackChanged:gr,lastTrack_:null,logger_:Gi("MediaGroups["+ee+"]")}}),K),n.mediaSource=new window.MediaSource,n.handleDurationChange_=n.handleDurationChange_.bind(Ke(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(Ke(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(Ke(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=x.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new L0(e),n.segmentMetadataTrack_=d.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new N0,n.sourceUpdater_=new Nd(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new D0,D={vhs:n.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:W,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:f,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:D,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:e.experimentalExactManifestTimings},n.masterPlaylistLoader_=new("dash"===n.sourceType_?nl:Ja)(r,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new al(x.mergeOptions(D,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),e),n.audioSegmentLoader_=new al(x.mergeOptions(D,{loaderType:"audio"}),e),n.subtitleSegmentLoader_=new O0(x.mergeOptions(D,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks,loadVttJs:function(){return new Promise(function(ee,ce){function pe(){d.off("vttjserror",Me),ee()}function Me(){d.off("vttjsloaded",pe),ce()}d.one("vttjsloaded",pe),d.one("vttjserror",Me),d.addWebVttScript_()})}}),e),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",function(){return n.startABRTimer_()}),n.tech_.on("pause",function(){return n.stopABRTimer_()}),n.tech_.on("play",function(){return n.startABRTimer_()})),U0.forEach(function(ee){n[ee+"_"]=function(ce){return this.audioSegmentLoader_[ce]+this.mainSegmentLoader_[ce]}.bind(Ke(n),ee)}),n.logger_=Gi("MPC"),n.triggeredFmp4Usage=!1,"none"===n.tech_.preload()?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1,e="none"===n.tech_.preload()?"play":"loadstart",n.tech_.one(e,function(){var ee=Date.now();n.tech_.one("loadeddata",function(){n.timeToLoadedData__=Date.now()-ee,n.mainAppendsToLoadedData__=n.mainSegmentLoader_.mediaAppends,n.audioAppendsToLoadedData__=n.audioSegmentLoader_.mediaAppends})}),n}he(a,t);var i=a.prototype;return i.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},i.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},i.appendsToLoadedData_=function(){var e=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return-1===e||-1===n?-1:e+n},i.timeToLoadedData_=function(){return this.timeToLoadedData__},i.checkABR_=function(e){void 0===e&&(e="abr");var n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,e)},i.switchMedia_=function(e,n,r){var s=(u=this.media())&&(u.id||u.uri),u=e.id||e.uri;s&&s!==u&&(this.logger_("switch media "+s+" -> "+u+" from "+n),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+n})),this.masterPlaylistLoader_.media(e,r)},i.startABRTimer_=function(){var e=this;this.stopABRTimer_(),this.abrTimer_=window.setInterval(function(){return e.checkABR_()},250)},i.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(window.clearInterval(this.abrTimer_),this.abrTimer_=null)},i.getAudioTrackPlaylists_=function(){var e=this.master(),n=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return n;var r,s=e.mediaGroups.AUDIO,u=Object.keys(s);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)r=this.mediaTypes_.AUDIO.activeTrack();else{var d,f=s.main||u.length&&s[u[0]];for(d in f)if(f[d].default){r={label:d};break}}if(!r)return n;var m,w=[];for(m in s)if(s[m][r.label]){var C=s[m][r.label];if(C.playlists&&C.playlists.length)w.push.apply(w,C.playlists);else if(C.uri)w.push(C);else if(e.playlists.length)for(var M=0;M<e.playlists.length;M++){var E=e.playlists[M];E.attributes&&E.attributes.AUDIO&&E.attributes.AUDIO===m&&w.push(E)}}return w.length?w:n},i.setupMasterPlaylistLoaderListeners_=function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var n=e.masterPlaylistLoader_.media(),r=1.5*n.targetDuration*1e3;e.requestOptions_.timeout=Gu(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?0:r,n.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(n,e.requestOptions_),e.mainSegmentLoader_.load()),function T0(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(m){R0[m](m,t)});var a,i=t.mediaTypes,e=t.masterPlaylistLoader,n=t.tech,r=t.vhs,s=t.segmentLoaders,u=s.AUDIO,d=s.main;function f(){i.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"}),n.trigger({type:"usage",name:"hls-audio-change"})}for(a in["AUDIO","SUBTITLES"].forEach(function(m){var w,C,M,E,D,z,O,W,K,Y;i[m].activeGroup=(w=m,C=t,function(ee){var pe=C.mediaTypes[w].groups,Me=C.masterPlaylistLoader.media();if(!Me)return null;var ke=null;Me.attributes[w]&&(ke=pe[Me.attributes[w]]);var je=Object.keys(pe);if(!ke)if("AUDIO"===w&&1<je.length&&js(C.master))for(var Ne=0;Ne<je.length;Ne++){var Ot=pe[je[Ne]];if(Md(Ot,Me)){ke=Ot;break}}else pe.main?ke=pe.main:1===je.length&&(ke=pe[je[0]]);return typeof ee>"u"?ke:null!==ee&&ke&&ke.filter(function(tt){return tt.id===ee.id})[0]||null}),i[m].activeTrack=B0[m](m,t),i[m].onGroupChanged=(M=m,E=t,function(){var ee=(Ne=E.segmentLoaders)[M],ce=Ne.main,pe=E.mediaTypes[M],Me=pe.activeTrack(),ke=pe.getActiveGroup(),je=pe.activePlaylistLoader,Ne=pe.lastGroup_;ke&&Ne&&ke.id===Ne.id||(pe.lastGroup_=ke,pe.lastTrack_=Me,Wo(ee,pe),ke&&!ke.isMasterPlaylist&&(ke.playlistLoader?(ee.resyncLoader(),Id(ke.playlistLoader,pe)):je&&ce.resetEverything()))}),i[m].onGroupChanging=(D=m,z=t,function(){var ee=z.segmentLoaders[D];z.mediaTypes[D].lastGroup_=null,ee.abort(),ee.pause()}),i[m].onTrackChanged=(O=m,W=t,function(){var ee=W.masterPlaylistLoader,pe=(ce=W.segmentLoaders)[O],Me=ce.main,ke=W.mediaTypes[O],je=ke.activeTrack(),Ne=ke.getActiveGroup(),Ot=ke.activePlaylistLoader,tt=ke.lastTrack_;if((!tt||!je||tt.id!==je.id)&&(ke.lastGroup_=Ne,ke.lastTrack_=je,Wo(pe,ke),Ne)){if(Ne.isMasterPlaylist){if(!je||!tt||je.id===tt.id)return;var qt=W.vhs.masterPlaylistController_,ce=qt.selectPlaylist();return qt.media()===ce?void 0:(ke.logger_("track change. Switching master audio from "+tt.id+" to "+je.id),ee.pause(),Me.resetEverything(),void qt.fastQualityChange_(ce))}if("AUDIO"===O){if(!Ne.playlistLoader)return Me.setAudio(!0),void Me.resetEverything();pe.setAudio(!0),Me.setAudio(!1)}Ot!==Ne.playlistLoader&&(pe.track&&pe.track(je),pe.resetEverything()),Id(Ne.playlistLoader,ke)}}),i[m].getActiveGroup=(K=m,Y=t.mediaTypes,function(){var ee=Y[K].activeTrack();return ee?Y[K].activeGroup(ee):null})}),(s=i.AUDIO.activeGroup())&&(s=(s.filter(function(m){return m.default})[0]||s[0]).id,i.AUDIO.tracks[s].enabled=!0,i.AUDIO.onGroupChanged(),i.AUDIO.onTrackChanged(),i.AUDIO.getActiveGroup().playlistLoader?(d.setAudio(!1),u.setAudio(!0)):d.setAudio(!0)),e.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(m){return i[m].onGroupChanged()})}),e.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(m){return i[m].onGroupChanging()})}),n.audioTracks().addEventListener("change",f),n.remoteTextTracks().addEventListener("change",i.SUBTITLES.onTrackChanged),r.on("dispose",function(){n.audioTracks().removeEventListener("change",f),n.remoteTextTracks().removeEventListener("change",i.SUBTITLES.onTrackChanged)}),n.clearTracks("audio"),i.AUDIO.tracks)n.audioTracks().addTrack(i.AUDIO.tracks[a])}({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,vhs:e.vhs_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),n),e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){e.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){e.loadOnPlay_&&e.tech_.off("play",e.loadOnPlay_);var n,r=e.masterPlaylistLoader_.media();if(!r){if(e.excludeUnsupportedVariants_(),!(n=(n=e.enableLowInitialPlaylist?e.selectInitialPlaylist():n)||e.selectPlaylist())||!e.shouldSwitchToMedia_(n)||(e.initialMedia_=n,e.switchMedia_(e.initialMedia_,"initial"),"vhs-json"!==e.sourceType_||!e.initialMedia_.segments))return;r=e.initialMedia_}e.handleUpdatedMediaPlaylist(r)}),this.masterPlaylistLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var n=e.masterPlaylistLoader_.media(),r=1.5*n.targetDuration*1e3;e.requestOptions_.timeout=Gu(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?0:r,e.masterPlaylistLoader_.load(),e.mainSegmentLoader_.playlist(n,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var n=e.masterPlaylistLoader_.media();"playlist-unchanged"!==n.lastExcludeReason_&&e.stuckAtPlaylistEnd_(n)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),e.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},i.handleUpdatedMediaPlaylist=function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},i.triggerPresenceUsage_=function(d,n){var r,s=d.mediaGroups||{},u=!0;for(r in d=Object.keys(s.AUDIO),s.AUDIO)for(var f in s.AUDIO[r])s.AUDIO[r][f].uri||(u=!1);u&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),yr.Playlist.isAes(n)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),d.length&&1<Object.keys(s.AUDIO[d[0]]).length&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},i.shouldSwitchToMedia_=function(e){var n=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,r=this.tech_.currentTime(),s=this.bufferLowWaterLine(),u=this.bufferHighWaterLine();return function(d){var f=d.currentPlaylist,m=d.buffered,w=d.currentTime,C=d.nextPlaylist,M=d.bufferLowWaterLine,E=d.bufferHighWaterLine,D=d.duration,z=d.experimentalBufferBasedABR,O=d.log;if(!C)return x.log.warn("We received no playlist to switch to. Please check your stream."),!1;var W="allowing switch "+(f&&f.id||"null")+" -> "+C.id;return f?!(C.id===f.id||(d=!!Ka(m,w).length,f.endList?(m=qu(m,w),D<(w=z?Kn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Kn.MAX_BUFFER_LOW_WATER_LINE)?(O(W+" as duration < max low water line ("+D+" < "+w+")"),0):(w=C.attributes.BANDWIDTH)<(C=f.attributes.BANDWIDTH)&&(!z||m<E)?(f=W+" as next bandwidth < current bandwidth ("+w+" < "+C+")",z&&(f+=" and forwardBuffer < bufferHighWaterLine ("+m+" < "+E+")"),O(f),0):(!z||C<w)&&M<=m?(M=W+" as forwardBuffer >= bufferLowWaterLine ("+m+" >= "+M+")",z&&(M+=" and next bandwidth > current bandwidth ("+w+" > "+C+")"),O(M),0):(O("not "+W+" as no switching criteria met"),1)):d||"number"!=typeof f.partTargetDuration?(O(W+" as current playlist is live"),0):(O("not "+W+" as current playlist is live llhls, but currentTime isn't in buffered."),1))):(O(W+" as current playlist is not set"),!0)}({buffered:this.tech_.buffered(),currentTime:r,currentPlaylist:n,nextPlaylist:e,bufferLowWaterLine:s,bufferHighWaterLine:u,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},i.setupSegmentLoaderListeners_=function(){var e=this;function n(){if(!e.sourceUpdater_.hasCreatedSourceBuffers())return e.tryToCreateSourceBuffers_();var r=e.getCodecsOrExclude_();r&&e.sourceUpdater_.addOrChangeSourceBuffers(r)}this.mainSegmentLoader_.on("bandwidthupdate",function(){e.checkABR_("bandwidthupdate"),e.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",function(){e.experimentalBufferBasedABR&&e.mainSegmentLoader_.load()}),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){e.error=e.mainSegmentLoader_.error_,e.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){e.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){e.error=e.audioSegmentLoader_.error_,e.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){e.logger_("main segment loader ended"),e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(r){e.experimentalBufferBasedABR||(e.delegateLoaders_("all",["abort"]),e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))}),this.mainSegmentLoader_.on("trackinfo",n),this.audioSegmentLoader_.on("trackinfo",n),this.mainSegmentLoader_.on("fmp4",function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){e.logger_("audioSegmentLoader ended"),e.onEndOfStream()})},i.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},i.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},i.smoothQualityChange_=function(e){void 0===e&&(e=this.selectPlaylist()),this.fastQualityChange_(e)},i.fastQualityChange_=function(e){var n=this;(e=void 0===e?this.selectPlaylist():e)!==this.masterPlaylistLoader_.media()?(this.switchMedia_(e,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){n.tech_.setCurrentTime(x.browser.IE_VERSION||x.browser.IS_EDGE?n.tech_.currentTime()+.04:n.tech_.currentTime())})):this.logger_("skipping fastQualityChange because new media is same as old")},i.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}},i.setupFirstPlay=function(){var e=this,n=this.masterPlaylistLoader_.media();if(!n||this.tech_.paused()||this.hasPlayed_)return!1;if(!n.endList){var r=this.seekable();if(!r.length)return!1;if(x.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.tech_.setCurrentTime(r.end(0)),e.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(r.end(0))}return this.hasPlayed_=!0,this.load(),!0},i.handleSourceOpen_=function(){var e;this.tryToCreateSourceBuffers_(),!this.tech_.autoplay()||typeof(e=this.tech_.play())<"u"&&"function"==typeof e.then&&e.then(null,function(n){}),this.trigger("sourceopen")},i.handleSourceEnded_=function(){var e,n;!this.inbandTextTracks_.metadataTrack_||(e=this.inbandTextTracks_.metadataTrack_.cues)&&e.length&&(n=this.duration(),e[e.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n)},i.handleDurationChange_=function(){this.tech_.trigger("durationchange")},i.onEndOfStream=function(){var e,n=this.mainSegmentLoader_.ended_;(n=this.mediaTypes_.AUDIO.activePlaylistLoader?((e=this.mainSegmentLoader_.getCurrentMediaInfo_())&&!e.hasVideo||n)&&this.audioSegmentLoader_.ended_:n)&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},i.stuckAtPlaylistEnd_=function(r){if(!this.seekable().length)return!1;if(null===(s=this.syncController_.getExpiredTime(r,this.duration())))return!1;var s,n=yr.Playlist.playlistEnd(r,s);return r=this.tech_.currentTime(),(s=this.tech_.buffered()).length?(s=s.end(s.length-1))-r<=.1&&n-s<=.1:n-r<=.1},i.blacklistCurrentPlaylist=function(e,n){var r=(e=void 0===e?{}:e).playlist||this.masterPlaylistLoader_.media();if(n=n||e.blacklistDuration||this.blacklistDuration,!r)return this.error=e,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));r.playlistErrors_++;var s,u=this.masterPlaylistLoader_.master.playlists,d=u.filter(Bo),f=1===d.length&&d[0]===r;return 1===u.length&&n!==1/0?(x.log.warn("Problem encountered with playlist "+r.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(f)):(f&&(s=!1,u.forEach(function(m){var w;m===r||typeof(w=m.excludeUntil)<"u"&&w!==1/0&&(s=!0,delete m.excludeUntil)}),s&&(x.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))),d=r.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*n,r.excludeUntil=d,e.reason&&(r.lastExcludeReason_=e.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),(u=this.selectPlaylist())?((n=e.internal?this.logger_:x.log.warn)((e.internal?"Internal problem":"Problem")+" encountered with playlist "+r.id+"."+(d=e.message?" "+e.message:"")+" Switching to playlist "+u.id+"."),u.attributes.AUDIO!==r.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),u.attributes.SUBTITLES!==r.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]),d=u.targetDuration/2*1e3||5e3,d="number"==typeof u.lastRequest&&Date.now()-u.lastRequest<=d,this.switchMedia_(u,"exclude",f||d)):(this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error")))},i.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},i.delegateLoaders_=function(e,n){var r=this,s=[],u="all"===e;!u&&"main"!==e||s.push(this.masterPlaylistLoader_);var d=[];!u&&"audio"!==e||d.push("AUDIO"),!u&&"subtitle"!==e||(d.push("CLOSED-CAPTIONS"),d.push("SUBTITLES")),d.forEach(function(f){(f=r.mediaTypes_[f]&&r.mediaTypes_[f].activePlaylistLoader)&&s.push(f)}),["main","audio","subtitle"].forEach(function(f){var m=r[f+"SegmentLoader_"];!m||e!==f&&"all"!==e||s.push(m)}),s.forEach(function(f){return n.forEach(function(m){"function"==typeof f[m]&&f[m]()})})},i.setCurrentTime=function(e){var n=Ka(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?n&&n.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},i.duration=function(){if(!this.masterPlaylistLoader_)return 0;var e=this.masterPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:yr.Playlist.duration(e):1/0:0},i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=function(){var e;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var r=this.syncController_.getExpiredTime(n,this.duration());if(null!==r){var s,u,d=this.masterPlaylistLoader_.master,f=yr.Playlist.seekable(n,r,yr.Playlist.liveEdgeDelay(d,n));if(0!==f.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(r=this.syncController_.getExpiredTime(n,this.duration()))||0===(e=yr.Playlist.seekable(n,r,yr.Playlist.liveEdgeDelay(d,n))).length))return;this.seekable_&&this.seekable_.length&&(s=this.seekable_.end(0),u=this.seekable_.start(0)),this.seekable_=!e||e.start(0)>f.end(0)||f.start(0)>e.end(0)?f:x.createTimeRanges([[(e.start(0)>f.start(0)?e:f).start(0),(e.end(0)<f.end(0)?e:f).end(0)]]),this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===s&&this.seekable_.start(0)===u||(this.logger_("seekable updated ["+Nc(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},i.updateDuration=function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){var n=this.seekable();return n.length?void((isNaN(this.mediaSource.duration)||this.mediaSource.duration<n.end(n.length-1))&&this.sourceUpdater_.setDuration(n.end(n.length-1))):void 0}e=this.tech_.buffered(),n=yr.Playlist.duration(this.masterPlaylistLoader_.media()),0<e.length&&(n=Math.max(n,e.end(e.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)},i.dispose=function(){var e=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(n){var r,s=e.mediaTypes_[n].groups;for(r in s)s[r].forEach(function(u){u.playlistLoader&&u.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},i.master=function(){return this.masterPlaylistLoader_.master},i.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},i.areMediaTypesKnown_=function(){var n=!!this.mediaTypes_.AUDIO.activePlaylistLoader,e=!!this.mainSegmentLoader_.getCurrentMediaInfo_();return n=!n||!!this.audioSegmentLoader_.getCurrentMediaInfo_(),e&&n},i.getCodecsOrExclude_=function(){var e=this,n={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},r=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();n.video=n.main;var s=Vs(this.master(),r),u={},d=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(n.main.hasVideo&&(u.video=s.video||n.main.videoCodec||"avc1.4d400d"),n.main.isMuxed&&(u.video+=","+(s.audio||n.main.audioCodec||Zr)),(n.main.hasAudio&&!n.main.isMuxed||n.audio.hasAudio||d)&&(u.audio=s.audio||n.main.audioCodec||n.audio.audioCodec||Zr,n.audio.isFmp4=(n.main.hasAudio&&!n.main.isMuxed?n.main:n.audio).isFmp4),u.audio||u.video){var f,m,w={};if(["video","audio"].forEach(function(M){var D;u.hasOwnProperty(M)&&!(n[M].isFmp4?$e:yt)(D=u[M])&&(w[D=n[M].isFmp4?"browser":"muxer"]=w[D]||[],w[D].push(u[M]),"audio"===M&&(f=D))}),d&&f&&r.attributes.AUDIO&&(m=r.attributes.AUDIO,this.master().playlists.forEach(function(M){(M.attributes&&M.attributes.AUDIO)===m&&M!==r&&(M.excludeUntil=1/0)}),this.logger_("excluding audio group "+m+" as "+f+' does not support codec(s): "'+u.audio+'"')),!Object.keys(w).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var C=[];if(["video","audio"].forEach(function(M){var E=(Oe(e.sourceUpdater_.codecs[M]||"")[0]||{}).type,D=(Oe(u[M]||"")[0]||{}).type;E&&D&&E.toLowerCase()!==D.toLowerCase()&&C.push('"'+e.sourceUpdater_.codecs[M]+'" -> "'+u[M]+'"')}),C.length)return void this.blacklistCurrentPlaylist({playlist:r,message:"Codec switching not supported: "+C.join(", ")+".",blacklistDuration:1/0,internal:!0})}return u}d=Object.keys(w).reduce(function(M,E){return M&&(M+=", "),M+(E+' does not support codec(s): "')+w[E].join(",")+'"'},"")+".",this.blacklistCurrentPlaylist({playlist:r,internal:!0,message:d,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:r,message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},i.tryToCreateSourceBuffers_=function(){var e;"open"!==this.mediaSource.readyState||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_()||(e=this.getCodecsOrExclude_())&&(this.sourceUpdater_.createSourceBuffers(e),e=[e.video,e.audio].filter(Boolean).join(","),this.excludeIncompatibleVariants_(e))},i.excludeUnsupportedVariants_=function(){var e=this,n=this.master().playlists,r=[];Object.keys(n).forEach(function(s){var u,d=n[s];-1===r.indexOf(d.id)&&(r.push(d.id),u=[],!(s=Vs(e.master,d)).audio||yt(s.audio)||$e(s.audio)||u.push("audio codec "+s.audio),!s.video||yt(s.video)||$e(s.video)||u.push("video codec "+s.video),s.text&&"stpp.ttml.im1t"===s.text&&u.push("text codec "+s.text),u.length&&(d.excludeUntil=1/0,e.logger_("excluding "+d.id+" for unsupported: "+u.join(", "))))})},i.excludeIncompatibleVariants_=function(u){var n=this,r=[],s=this.master().playlists,d=pd(u=zo(Oe(u))),f=u.video&&Oe(u.video)[0]||null,m=u.audio&&Oe(u.audio)[0]||null;Object.keys(s).forEach(function(w){var C,M,E=s[w];-1===r.indexOf(E.id)&&E.excludeUntil!==1/0&&(r.push(E.id),C=[],w=pd(M=Vs(n.masterPlaylistLoader_.master,E)),(M.audio||M.video)&&(w!==d&&C.push('codec count "'+w+'" !== "'+d+'"'),n.sourceUpdater_.canChangeType()||(w=M.video&&Oe(M.video)[0]||null,M=M.audio&&Oe(M.audio)[0]||null,w&&f&&w.type.toLowerCase()!==f.type.toLowerCase()&&C.push('video codec "'+w.type+'" !== "'+f.type+'"'),M&&m&&M.type.toLowerCase()!==m.type.toLowerCase()&&C.push('audio codec "'+M.type+'" !== "'+m.type+'"')),C.length&&(E.excludeUntil=1/0,n.logger_("blacklisting "+E.id+": "+C.join(" && ")))))})},i.updateAdCues_=function(e){var n=0,r=this.seekable();r.length&&(n=r.start(0)),function(s,u,d){if(void 0===d&&(d=0),s.segments)for(var f=d,m=0;m<s.segments.length;m++){var w,C,M,E=s.segments[m];if(M=M||function(D,z){for(var O=D.cues,W=0;W<O.length;W++){var K=O[W];if(z>=K.adStartTime&&z<=K.adEndTime)return K}return null}(u,f+E.duration/2)){if("cueIn"in E){M.endTime=f,M.adEndTime=f,f+=E.duration,M=null;continue}if(f<M.endTime){f+=E.duration;continue}M.endTime+=E.duration}else"cueOut"in E&&((M=new window.VTTCue(f,f+E.duration,E.cueOut)).adStartTime=f,M.adEndTime=f+parseFloat(E.cueOut),u.addCue(M)),"cueOutCont"in E&&(w=(C=E.cueOutCont.split("/").map(parseFloat))[0],C=C[1],(M=new window.VTTCue(f,f+E.duration,"")).adStartTime=f-w,M.adEndTime=M.adStartTime+C,u.addCue(M));f+=E.duration}}(e,this.cueTagsTrack_,n)},i.goalBufferLength=function(){var e=this.tech_.currentTime(),n=Kn.GOAL_BUFFER_LENGTH,r=Kn.GOAL_BUFFER_LENGTH_RATE,s=Math.max(n,Kn.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+e*r,s)},i.bufferLowWaterLine=function(){var e=this.tech_.currentTime(),n=Kn.BUFFER_LOW_WATER_LINE,r=Kn.BUFFER_LOW_WATER_LINE_RATE,s=Math.max(n,Kn.MAX_BUFFER_LOW_WATER_LINE),u=Math.max(n,Kn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+e*r,this.experimentalBufferBasedABR?u:s)},i.bufferHighWaterLine=function(){return Kn.BUFFER_HIGH_WATER_LINE},a}(x.EventTarget),Fd=["seeking","seeked","pause","playing","error"],z0=function(){function t(i){var e=this;function n(){return e.monitorCurrentTime_()}function r(){return e.monitorCurrentTime_()}function s(){return e.techWaiting_()}function u(){return e.cancelTimer_()}this.masterPlaylistController_=i.masterPlaylistController,this.tech_=i.tech,this.seekable=i.seekable,this.allowSeeksWithinUnsafeLiveWindow=i.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=i.liveRangeSafeTimeDelta,this.media=i.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Gi("PlaybackWatcher"),this.logger_("initialize");var d=this.masterPlaylistController_,f=["main","subtitle","audio"],m={};function w(C){["main","audio"].forEach(function(M){d[M+"SegmentLoader_"][C]("appended",e.seekingAppendCheck_)})}f.forEach(function(C){m[C]={reset:function(){return e.resetSegmentDownloads_(C)},updateend:function(){return e.checkSegmentDownloads_(C)}},d[C+"SegmentLoader_"].on("appendsdone",m[C].updateend),d[C+"SegmentLoader_"].on("playlistupdate",m[C].reset),e.tech_.on(["seeked","seeking"],m[C].reset)}),this.seekingAppendCheck_=function(){e.fixesBadSeeks_()&&(e.consecutiveUpdates=0,e.lastRecordedTime=e.tech_.currentTime(),w("off"))},this.clearSeekingAppendCheck_=function(){return w("off")},this.watchForBadSeeking_=function(){e.clearSeekingAppendCheck_(),w("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(Fd,u),this.tech_.on("canplay",r),this.tech_.one("play",n),this.dispose=function(){e.clearSeekingAppendCheck_(),e.logger_("dispose"),e.tech_.off("waiting",s),e.tech_.off(Fd,u),e.tech_.off("canplay",r),e.tech_.off("play",n),e.tech_.off("seeking",e.watchForBadSeeking_),e.tech_.off("seeked",e.clearSeekingAppendCheck_),f.forEach(function(C){d[C+"SegmentLoader_"].off("appendsdone",m[C].updateend),d[C+"SegmentLoader_"].off("playlistupdate",m[C].reset),e.tech_.off(["seeked","seeking"],m[C].reset)}),e.checkCurrentTimeTimeout_&&window.clearTimeout(e.checkCurrentTimeTimeout_),e.cancelTimer_()}}var a=t.prototype;return a.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&window.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=window.setTimeout(this.monitorCurrentTime_.bind(this),250)},a.resetSegmentDownloads_=function(i){var e=this.masterPlaylistController_[i+"SegmentLoader_"];0<this[i+"StalledDownloads_"]&&this.logger_("resetting possible stalled download count for "+i+" loader"),this[i+"StalledDownloads_"]=0,this[i+"Buffered_"]=e.buffered_()},a.checkSegmentDownloads_=function(i){var e=this.masterPlaylistController_,n=e[i+"SegmentLoader_"],r=n.buffered_(),s=function(u,d){if(u===d)return!1;if(!u&&d||!d&&u||u.length!==d.length)return!0;for(var f=0;f<u.length;f++)if(u.start(f)!==d.start(f)||u.end(f)!==d.end(f))return!0;return!1}(this[i+"Buffered_"],r);this[i+"Buffered_"]=r,s?this.resetSegmentDownloads_(i):(this[i+"StalledDownloads_"]++,this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:n.playlist_&&n.playlist_.id,buffered:ea(r)}),this[i+"StalledDownloads_"]<10||(this.logger_(i+" loader stalled download exclusion"),this.resetSegmentDownloads_(i),this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"}),"subtitle"!==i&&e.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},1/0)))},a.checkCurrentTime_=function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var i=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===i&&(!e.length||i+.1>=e.end(e.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}},a.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},a.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var i,e=this.seekable(),n=this.tech_.currentTime();if(this.afterSeekableWindow_(e,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(i=e.end(e.length-1)),typeof(i=this.beforeSeekableWindow_(e,n)?(s=e.start(0))+(s===e.end(0)?0:.1):i)<"u")return this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+Nc(e)+". Seeking to "+i+"."),this.tech_.setCurrentTime(i),!0;for(var u=this.masterPlaylistController_.sourceUpdater_,r=this.tech_.buffered(),s=u.audioBuffer?u.audioBuffered():null,d=(e=u.videoBuffer?u.videoBuffered():null,(u=this.media()).partTargetDuration||2*(u.targetDuration-ta)),f=[s,e],m=0;m<f.length;m++)if(f[m]&&qu(f[m],n)<d)return!1;return 0!==(r=Ro(r,n)).length&&(i=r.start(0)+.1,this.logger_("Buffered region starts ("+r.start(0)+")  just beyond seek point ("+n+"). Seeking to "+i+"."),this.tech_.setCurrentTime(i),!0)},a.waiting_=function(){var i,e;this.techWaiting_()||(i=this.tech_.currentTime(),(e=Ka(e=this.tech_.buffered(),i)).length&&i+3<=e.end(0)&&(this.cancelTimer_(),this.tech_.setCurrentTime(i),this.logger_("Stopped at "+i+" while inside a buffered region ["+e.start(0)+" -> "+e.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})))},a.techWaiting_=function(){var i=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(i,e)){var n=i.end(i.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}return i=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,n=this.tech_.buffered(),this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:e})?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0):0<(i=Ro(n,e)).length&&(n=i.start(0)-e,this.logger_("Stopped at "+e+", setting timer for "+n+", seeking to "+i.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*n,e),!0)},a.afterSeekableWindow_=function(i,e,n,r){if(void 0===r&&(r=!1),!i.length)return!1;var s=i.end(i.length-1)+.1;return(s=!n.endList&&r?i.end(i.length-1)+3*n.targetDuration:s)<e},a.beforeSeekableWindow_=function(i,e){return!!(i.length&&0<i.start(0)&&e<i.start(0)-this.liveRangeSafeTimeDelta)},a.videoUnderflow_=function(i){var e,n,r=i.videoBuffered,s=i.audioBuffered,u=i.currentTime;if(r)return r.length&&s.length?(n=Ka(r,u-3),i=Ka(r,u),(s=Ka(s,u)).length&&!i.length&&n.length&&(e={start:n.end(0),end:s.end(0)})):Ro(r,u).length||(e=this.gapFromVideoUnderflow_(r,u)),!!e&&(this.logger_("Encountered a gap in video from "+e.start+" to "+e.end+". Seeking to current time "+u),!0)},a.skipTheGap_=function(i){var n=this.tech_.buffered(),e=this.tech_.currentTime();n=Ro(n,e),this.cancelTimer_(),0!==n.length&&e===i&&(this.logger_("skipTheGap_:","currentTime:",e,"scheduled currentTime:",i,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+ta),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},a.gapFromVideoUnderflow_=function(i,e){for(var n=function(d){if(d.length<2)return x.createTimeRanges();for(var f=[],m=1;m<d.length;m++){var w=d.end(m-1),C=d.start(m);f.push([w,C])}return x.createTimeRanges(f)}(i),r=0;r<n.length;r++){var s=n.start(r),u=n.end(r);if(e-s<4&&2<e-s)return{start:s,end:u}}return null},t}(),H0={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},Jn={PlaylistLoader:Ja,Playlist:wi,utils:Hi,STANDARD_PLAYLIST_SELECTOR:ji,INITIAL_PLAYLIST_SELECTOR:function(){var t=this,a=this.playlists.master.playlists.filter(wi.isEnabled);return $a(a,tl),a.filter(function(i){return!!Vs(t.playlists.master,i).video})[0]||null},lastBandwidthSelector:ji,movingAverageBandwidthSelector:function(t){var a=-1,i=-1;if(t<0||1<t)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var e=this.useDevicePixelRatio&&window.devicePixelRatio||1;return a<0&&(a=this.systemBandwidth,i=this.systemBandwidth),0<this.systemBandwidth&&this.systemBandwidth!==i&&(a=t*this.systemBandwidth+(1-t)*a,i=this.systemBandwidth),md(this.playlists.master,a,parseInt(Ho(this.tech_.el(),"width"),10)*e,parseInt(Ho(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:tl,comparePlaylistResolution:function(t,a){var i,e;return(i=(i=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width?t.attributes.RESOLUTION.width:i)||window.Number.MAX_VALUE)===(e=(e=a.attributes.RESOLUTION&&a.attributes.RESOLUTION.width?a.attributes.RESOLUTION.width:e)||window.Number.MAX_VALUE)&&t.attributes.BANDWIDTH&&a.attributes.BANDWIDTH?t.attributes.BANDWIDTH-a.attributes.BANDWIDTH:i-e},xhr:Qc()};function zd(t,a){for(var i=a.media(),e=-1,n=0;n<t.length;n++)if(t[n].id===i.id){e=n;break}t.selectedIndex_=e,t.trigger({selectedIndex:e,type:"change"})}Object.keys(Kn).forEach(function(t){Object.defineProperty(Jn,t,{get:function(){return x.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),Kn[t]},set:function(a){x.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof a||a<0?x.log.warn("value of Vhs."+t+" must be greater than or equal to 0"):Kn[t]=a}})});var Hd="videojs-vhs";function qd(){if(!window.localStorage)return null;var t=window.localStorage.getItem(Hd);if(!t)return null;try{return JSON.parse(t)}catch{return null}}Jn.canPlaySource=function(){return x.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},Jn.supportsNativeHls=function(){if(!document||!document.createElement)return!1;var t=document.createElement("video");return!!x.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(a){return/maybe|probably/i.test(t.canPlayType(a))})}(),Jn.supportsNativeDash=!!(document&&document.createElement&&x.getTech("Html5").isSupported())&&/maybe|probably/i.test(document.createElement("video").canPlayType("application/dash+xml")),Jn.supportsTypeNatively=function(t){return"hls"===t?Jn.supportsNativeHls:"dash"===t&&Jn.supportsNativeDash},Jn.isSupported=function(){return x.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ol=function(t){function a(e,n,r){var s=t.call(this,n,x.mergeOptions(r.hls,r.vhs))||this;if(r.hls&&Object.keys(r.hls).length&&x.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),"number"==typeof r.initialBandwidth&&(s.options_.bandwidth=r.initialBandwidth),s.logger_=Gi("VhsHandler"),n.options_&&n.options_.playerId&&((r=x(n.options_.playerId)).hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return x.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),Ke(s)},configurable:!0}),r.hasOwnProperty("vhs")||Object.defineProperty(r,"vhs",{get:function(){return x.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),Ke(s)},configurable:!0}),r.hasOwnProperty("dash")||Object.defineProperty(r,"dash",{get:function(){return x.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),Ke(s)},configurable:!0}),s.player_=r),s.tech_=n,s.source_=e,s.stats={},s.ignoreNextSeekingEvent_=!1,s.setOptions_(),s.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(s.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return s.on(document,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(u){var d=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;d&&d.contains(s.tech_.el())?s.masterPlaylistController_.fastQualityChange_():s.masterPlaylistController_.checkABR_()}),s.on(s.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),s.on(s.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),s.on(s.tech_,"play",s.play),s}he(a,t);var i=a.prototype;return i.setOptions_=function(){var e,n=this;this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage&&((e=qd())&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Kn.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Kn.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(r){typeof n.source_[r]<"u"&&(n.options_[r]=n.source_[r])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},i.src=function(e,n){var r=this;e&&(this.setOptions_(),this.options_.src=0===(e=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(e.substring(e.indexOf(",")+1)):e,this.options_.tech=this.tech_,this.options_.externVhs=Jn,this.options_.sourceType=wt(n),this.options_.seekTo=function(s){r.tech_.setCurrentTime(s)},this.options_.smoothQualityChange&&x.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new F0(this.options_),n=x.mergeOptions({liveRangeSafeTimeDelta:.1},this.options_,{seekable:function(){return r.seekable()},media:function(){return r.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_}),this.playbackWatcher_=new z0(n),this.masterPlaylistController_.on("error",function(){var s=x.players[r.tech_.options_.playerId],u=r.masterPlaylistController_.error;"object"!=typeof u||u.code?"string"==typeof u&&(u={message:u,code:3}):u.code=3,s.error(u)}),n=this.options_.experimentalBufferBasedABR?Jn.movingAverageBandwidthSelector(.55):Jn.STANDARD_PLAYLIST_SELECTOR,this.masterPlaylistController_.selectPlaylist=(this.selectPlaylist||n).bind(this),this.masterPlaylistController_.selectInitialPlaylist=Jn.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(s){this.masterPlaylistController_.selectPlaylist=s.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(s){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=s,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var s=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,u=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection;return this.options_.useNetworkInformationApi&&u?1e7<=(u=1e3*u.downlink*1e3)&&1e7<=s?Math.max(s,u):u:s},set:function(s){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=s,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){return Math.floor(1/(1/(this.bandwidth||1)+(0<this.throughput?1/this.throughput:0)))},set:function(){x.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return r.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return r.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return r.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return r.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return r.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return r.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return ea(r.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return r.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return r.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return r.tech_.name_},enumerable:!0},duration:{get:function(){return r.tech_.duration()},enumerable:!0},master:{get:function(){return r.playlists.master},enumerable:!0},playerDimensions:{get:function(){return r.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return ea(r.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return r.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){r.options_.useBandwidthFromLocalStorage&&function(s){if(window.localStorage){var u=(u=qd())?x.mergeOptions(u,s):s;try{window.localStorage.setItem(Hd,JSON.stringify(u))}catch{return}}}({bandwidth:r.bandwidth,throughput:Math.round(r.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){var s;(s=r).representations=function(){var u;return(u=js(u=s.masterPlaylistController_.master())?s.masterPlaylistController_.getAudioTrackPlaylists_():u.playlists)?u.filter(function(d){return!Wu(d)}).map(function(d,f){return new w0(s,d,d.id)}):[]}}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){r.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=window.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_)))},i.createKeySessions_=function(){var e=this,n=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),function q0(r){var a=r.player,i=r.sourceKeySystems,e=r.audioMedia;if(r=r.mainPlaylists,!a.eme.initializeMediaKeys)return Promise.resolve();r=r=e?r.concat([e]):r,n=Object.keys(i),r=r.reduce(function(d,f){if(!f.contentProtection)return d;var m=n.reduce(function(w,C){var M=f.contentProtection[C];return M&&M.pssh&&(w[C]={pssh:M.pssh}),w},{});return Object.keys(m).length&&d.push(m),d},[]);var n,s=[],u=[];return r.forEach(function(d){u.push(new Promise(function(f,m){a.tech_.one("keysessioncreated",f)})),s.push(new Promise(function(f,m){a.eme.initializeMediaKeys({keySystems:d},function(w){w?m(w):f()})}))}),Promise.race([Promise.all(s),Promise.race(u)])}({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:n&&n.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){e.logger_("created EME key session"),e.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(r){e.logger_("error while creating EME key session",r),e.player_.error({message:"Failed to initialize media keys for EME",code:3})})},i.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},i.setupEme_=function(){var e=this,n=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;n=function j0(t){var a=t.player;return!(!(t=function(i,e,n){if(!i)return i;var r={};e&&e.attributes&&e.attributes.CODECS&&(r=zo(Oe(e.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(r.audio=n.attributes.CODECS);var s,u=ct(r.video),d=ct(r.audio),f={};for(s in i)f[s]={},d&&(f[s].audioContentType=d),u&&(f[s].videoContentType=u),e.contentProtection&&e.contentProtection[s]&&e.contentProtection[s].pssh&&(f[s].pssh=e.contentProtection[s].pssh),"string"==typeof i[s]&&(f[s].url=i[s]);return x.mergeOptions(i,f)}(t.sourceKeySystems,t.media,t.audioMedia))||(a.currentSource().keySystems=t)&&!a.eme&&(x.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1))}({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:n&&n.media()}),this.player_.tech_.on("keystatuschange",function(r){var s;"output-restricted"!==r.status||(r=e.masterPlaylistController_.master())&&r.playlists&&(s=[],r.playlists.forEach(function(u){u&&u.attributes&&u.attributes.RESOLUTION&&720<=u.attributes.RESOLUTION.height&&(!u.excludeUntil||u.excludeUntil<1/0)&&(u.excludeUntil=1/0,s.push(u))}),s.length&&((r=x.log).warn.apply(r,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(s)),e.masterPlaylistController_.fastQualityChange_()))}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==x.browser.IE_VERSION&&n?this.createKeySessions_():this.masterPlaylistController_.sourceUpdater_.initializedEme()},i.setupQualityLevels_=function(){var e=this,n=x.players[this.tech_.options_.playerId];n&&n.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=n.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var r,s;r=e.qualityLevels_,(s=e).representations().forEach(function(u){r.addQualityLevel(u)}),zd(r,s.playlists)}),this.playlists.on("mediachange",function(){zd(e.qualityLevels_,e.playlists)}))},a.version=function(){return{"@videojs/http-streaming":"2.16.3","mux.js":"6.0.1","mpd-parser":"0.22.1","m3u8-parser":"4.8.0","aes-decrypter":"3.1.3"}},i.version=function(){return this.constructor.version()},i.canChangeType=function(){return Nd.canChangeType()},i.play=function(){this.masterPlaylistController_.play()},i.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},i.duration=function(){return this.masterPlaylistController_.duration()},i.seekable=function(){return this.masterPlaylistController_.seekable()},i.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&window.URL.revokeObjectURL&&(window.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),t.prototype.dispose.call(this)},i.convertToProgramTime=function(e,n){return function n0(t){var a=t.playlist,i=t.time,e=void 0===i?void 0:i;if(!(i=t.callback))throw new Error("getProgramTime: callback must be provided");return a&&void 0!==e?(t=function(n,r){if(!r||!r.segments||0===r.segments.length)return null;for(var s,u=0,d=0;d<r.segments.length&&!(n<=(u=(s=r.segments[d]).videoTimingInfo?s.videoTimingInfo.transmuxedPresentationEnd:u+s.duration));d++);var f=r.segments[r.segments.length-1];if(f.videoTimingInfo&&f.videoTimingInfo.transmuxedPresentationEnd<n)return null;if(u<n){if(n>u+.25*f.duration)return null;s=f}return{segment:s,estimatedStart:s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationStart:u-s.duration,type:s.videoTimingInfo?"accurate":"estimate"}}(e,a))?"estimate"===t.type?i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:t.estimatedStart}):(a={mediaSeconds:e},(t=function(n,r){if(!r.dateTimeObject)return null;var s=n-(r.videoTimingInfo.transmuxedPresentationStart+(s=r.videoTimingInfo.transmuxerPrependedSeconds));return new Date(r.dateTimeObject.getTime()+1e3*s)}(e,t.segment))&&(a.programDateTime=t.toISOString()),i(null,a)):i({message:"valid programTime was not found"}):i({message:"getProgramTime: playlist and time must be provided"})}({playlist:this.masterPlaylistController_.media(),time:e,callback:n})},i.seekToProgramTime=function(e,n,r,s){return void 0===r&&(r=!0),void 0===s&&(s=2),td({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:s,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})},a}(x.getComponent("Component")),Gs={name:"videojs-http-streaming",VERSION:"2.16.3",canHandleSource:function(t,a){return a=x.mergeOptions(x.options,a=void 0===a?{}:a),Gs.canPlayType(t.type,a)},handleSource:function(t,a,i){return i=x.mergeOptions(x.options,i=void 0===i?{}:i),a.vhs=new ol(t,a,i),x.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return x.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),a.vhs},configurable:!0}),a.vhs.xhr=Qc(),a.vhs.src(t.src,t.type),a.vhs},canPlayType:function(t,a){return(t=wt(t))?(a=Gs.getOverrideNative(a),!Jn.supportsTypeNatively(t)||a?"maybe":""):""},getOverrideNative:function(a){var i=(a=void 0===a?{}:a).vhs,e=a.hls;return a=!(x.browser.IS_ANY_SAFARI||x.browser.IS_IOS),i=(void 0===i?{}:i).overrideNative,void 0!==(e=(void 0===e?{}:e).overrideNative)&&e||(void 0===i?a:i)}};return $e("avc1.4d400d,mp4a.40.2")&&x.getTech("Html5").registerSourceHandler(Gs,0),x.VhsHandler=ol,Object.defineProperty(x,"HlsHandler",{get:function(){return x.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),ol},configurable:!0}),x.VhsSourceHandler=Gs,Object.defineProperty(x,"HlsSourceHandler",{get:function(){return x.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Gs},configurable:!0}),x.Vhs=Jn,Object.defineProperty(x,"Hls",{get:function(){return x.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Jn},configurable:!0}),x.use||(x.registerComponent("Hls",Jn),x.registerComponent("Vhs",Jn)),x.options.vhs=x.options.vhs||{},x.options.hls=x.options.hls||{},x.getPlugin&&x.getPlugin("reloadSourceOnError")||(x.registerPlugin||x.plugin)("reloadSourceOnError",function(t){Pd(this,t)}),x}),function(){"use strict";var le;le=typeof window.videojs>"u"&&"function"==typeof require?require("video.js"):window.videojs,function(Dt,Pt){var ae,Yn={ui:!0},xt=Pt.getComponent("MenuItem"),Et=Pt.extend(xt,{constructor:function(Vt,dt){dt.selectable=!0,xt.call(this,Vt,dt),this.src=dt.src,Vt.on("resolutionchange",Pt.bind(this,this.update))}});Et.prototype.handleClick=function(Vt){xt.prototype.handleClick.call(this,Vt),this.player_.currentResolution(this.options_.label)},Et.prototype.update=function(){var Vt=this.player_.currentResolution();this.selected(this.options_.label===Vt.label)},xt.registerComponent("ResolutionMenuItem",Et);var Qt=Pt.getComponent("MenuButton"),Se=Pt.extend(Qt,{constructor:function(Vt,dt){if(this.label=document.createElement("span"),dt.label="Quality",Qt.call(this,Vt,dt),this.el().setAttribute("aria-label","Quality"),this.controlText("Quality"),dt.dynamicLabel)Pt.dom.addClass(this.label,"vjs-resolution-button-label"),this.el().appendChild(this.label);else{var Ve=document.createElement("span");Pt.dom.addClass(Ve,"vjs-menu-icon"),this.el().appendChild(Ve)}Vt.on("updateSources",Pt.bind(this,this.update))}});Se.prototype.createItems=function(){var Vt=[],dt=this.sources&&this.sources.label||{};for(var Ve in dt)dt.hasOwnProperty(Ve)&&Vt.push(new Et(this.player_,{label:Ve,src:dt[Ve],selected:Ve===(!!this.currentSelection&&this.currentSelection.label)}));return Vt},Se.prototype.update=function(){return this.sources=this.player_.getGroupedSrc(),this.currentSelection=this.player_.currentResolution(),this.label.innerHTML=this.currentSelection?this.currentSelection.label:"",Qt.prototype.update.call(this)},Se.prototype.buildCSSClass=function(){return Qt.prototype.buildCSSClass.call(this)+" vjs-resolution-button"},Qt.registerComponent("ResolutionMenuButton",Se),ae=function(Vt){var dt=Pt.mergeOptions(Yn,Vt),Ve=this;function xe(Pe,Fe){return Pe.res&&Fe.res?+Fe.res-+Pe.res:0}function ut(Pe){var Fe={label:{},res:{},type:{}};return Pe.map(function(De){Nt(Fe,"label",De),Nt(Fe,"res",De),Nt(Fe,"type",De),pt(Fe,"label",De),pt(Fe,"res",De),pt(Fe,"type",De)}),Fe}function Nt(Pe,Fe,De){null==Pe[Fe][De[Fe]]&&(Pe[Fe][De[Fe]]=[])}function pt(Pe,Fe,De){Pe[Fe][De[Fe]].push(De)}Ve.updateSrc=function(Pe){if(!Pe)return Ve.src();Pe=Pe.filter(function(De){try{return""!==Ve.canPlayType(De.type)}catch{return!0}}),this.currentSources=Pe.sort(xe),this.groupedSrc=ut(this.currentSources);var Fe=function rt(Pe,Fe){var De=dt.default,mt="";return"high"===De?(De=Fe[0].res,mt=Fe[0].label):"low"!==De&&null!=De&&Pe.res[De]?Pe.res[De]&&(mt=Pe.res[De][0].label):(De=Fe[Fe.length-1].res,mt=Fe[Fe.length-1].label),{res:De,label:mt,sources:Pe.res[De]}}(this.groupedSrc,this.currentSources);return this.currentResolutionState={label:Fe.label,sources:Fe.sources},Ve.trigger("updateSources"),Ve.setSourcesSanitized(Fe.sources,Fe.label),Ve.trigger("resolutionchange"),Ve},Ve.currentResolution=function(Pe,Fe){if(null==Pe)return this.currentResolutionState;if(this.groupedSrc&&this.groupedSrc.label&&this.groupedSrc.label[Pe]){var De=this.groupedSrc.label[Pe],mt=Ve.currentTime();!Ve.paused()&&this.player_.options_.bigPlayButton&&this.player_.bigPlayButton.hide();var On="loadeddata";return"Youtube"!==this.player_.techName_&&"none"===this.player_.preload()&&"Flash"!==this.player_.techName_&&(On="timeupdate"),Ve.setSourcesSanitized(De,Pe,Fe||dt.customSourcePicker).one(On,function(){Ve.currentTime(mt),Ve.trigger("resolutionchange")}),Ve}},Ve.getGroupedSrc=function(){return this.groupedSrc},Ve.setSourcesSanitized=function(Pe,Fe,De){return this.currentResolutionState={label:Fe,sources:Pe},"function"==typeof De?De(Ve,Pe,Fe):(Ve.src(Pe.map(function(mt){return{src:mt.src,type:mt.type,res:mt.res}})),Ve)},Ve.ready(function(){if(dt.ui){var Pe=new Se(Ve,dt);Ve.controlBar.resolutionSwitcher=Ve.controlBar.el_.insertBefore(Pe.el_,Ve.controlBar.getChild("fullscreenToggle").el_),Ve.controlBar.resolutionSwitcher.dispose=function(){this.parentNode.removeChild(this)}}Ve.options_.sources.length>1&&Ve.updateSrc(Ve.options_.sources),"Youtube"===Ve.techName_&&function ge(Pe){var Fe={highres:{res:1080,label:"1080",yt:"highres"},hd1080:{res:1080,label:"1080",yt:"hd1080"},hd720:{res:720,label:"720",yt:"hd720"},large:{res:480,label:"480",yt:"large"},medium:{res:360,label:"360",yt:"medium"},small:{res:240,label:"240",yt:"small"},tiny:{res:144,label:"144",yt:"tiny"},auto:{res:0,label:"auto",yt:"auto"}},De=function(mt,Pn,On){return Pe.tech_.ytPlayer.setPlaybackQuality(Pn[0]._yt),Pe.trigger("updateSources"),Pe};dt.customSourcePicker=De,Pe.tech_.ytPlayer.setPlaybackQuality("auto"),Pe.tech_.ytPlayer.addEventListener("onPlaybackQualityChange",function(mt){for(var Pn in Fe)if(Pn.yt===mt.data)return void Pe.currentResolution(Pn.label,De)}),Pe.one("play",function(){var mt=Pe.tech_.ytPlayer.getAvailableQualityLevels(),Pn=[];mt.map(function(Ln){Pn.push({src:Pe.src().src,type:Pe.src().type,label:Fe[Ln].label,res:Fe[Ln].res,_yt:Fe[Ln].yt})}),Pe.groupedSrc=ut(Pn);var On={label:"auto",res:0,sources:Pe.groupedSrc.label.auto};this.currentResolutionState={label:On.label,sources:On.sources},Pe.trigger("updateSources"),Pe.setSourcesSanitized(On.sources,On.label,De)})}(Ve)})},Pt.registerPlugin("videoJsResolutionSwitcher",ae)}(window,le)}(),function(le){var Dt="object"==typeof window&&window||"object"==typeof self&&self;typeof exports<"u"&&!exports.nodeType?le(exports):Dt&&(Dt.hljs=le({}),"function"==typeof define&&define.amd&&define([],function(){return Dt.hljs}))}(function(le){var Dt=!1,Pt=[],ae=Object.keys,Yn=Object.create(null),xt=Object.create(null),Et=!0,Qt=/^(no-?highlight|plain|text)$/i,Se=/\blang(?:uage)?-([\w-]+)\b/i,Vt=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,Ve="</span>",Re="Could not find the language '{}', did you forget to load/include a language module?",We={hideUpgradeWarningAcceptNoSupportOrSecurityUpdates:!1,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},it="of and for in not or if then".split(" ");function xe(Q){return Q.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ut(Q){return Q.nodeName.toLowerCase()}function pt(Q){return Qt.test(Q)}function ge(Q){var ve,we={},Ae=Array.prototype.slice.call(arguments,1);for(ve in Q)we[ve]=Q[ve];return Ae.forEach(function(Ce){for(ve in Ce)we[ve]=Ce[ve]}),we}function Pe(Q){var ve=[];return function we(Ae,Ce){for(var ze=Ae.firstChild;ze;ze=ze.nextSibling)3===ze.nodeType?Ce+=ze.nodeValue.length:1===ze.nodeType&&(ve.push({event:"start",offset:Ce,node:ze}),Ce=we(ze,Ce),ut(ze).match(/br|hr|img|input/)||ve.push({event:"stop",offset:Ce,node:ze}));return Ce}(Q,0),ve}function De(Q){return!!Q&&(Q.endsWithParent||De(Q.starts))}function mt(Q){return Q.variants&&!Q.cached_variants&&(Q.cached_variants=Q.variants.map(function(ve){return ge(Q,{variants:null},ve)})),Q.cached_variants?Q.cached_variants:De(Q)?[ge(Q,{starts:Q.starts?ge(Q.starts):null})]:Object.isFrozen(Q)?[ge(Q)]:[Q]}function Ln(Q,ve){return ve?Number(ve):function Mi(Q){return-1!=it.indexOf(Q.toLowerCase())}(Q)?0:1}function mi(Q){function ve(fe){return fe&&fe.source||fe}function we(fe,nn){return new RegExp(ve(fe),"m"+(Q.case_insensitive?"i":"")+(nn?"g":""))}if(Q.contains&&-1!=Q.contains.indexOf("self")){if(!Et)throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");Q.contains=Q.contains.filter(function(fe){return"self"!=fe})}!function Rt(fe,nn){fe.compiled||(fe.compiled=!0,fe.keywords=fe.keywords||fe.beginKeywords,fe.keywords&&(fe.keywords=function On(Q,ve){var we={};return"string"==typeof Q?Ae("keyword",Q):ae(Q).forEach(function(Ce){Ae(Ce,Q[Ce])}),we;function Ae(Ce,ze){ve&&(ze=ze.toLowerCase()),ze.split(" ").forEach(function(Rt){var fe=Rt.split("|");we[fe[0]]=[Ce,Ln(fe[0],fe[1])]})}}(fe.keywords,Q.case_insensitive)),fe.lexemesRe=we(fe.lexemes||/\w+/,!0),nn&&(fe.beginKeywords&&(fe.begin="\\b("+fe.beginKeywords.split(" ").join("|")+")\\b"),fe.begin||(fe.begin=/\B|\b/),fe.beginRe=we(fe.begin),fe.endSameAsBegin&&(fe.end=fe.begin),!fe.end&&!fe.endsWithParent&&(fe.end=/\B|\b/),fe.end&&(fe.endRe=we(fe.end)),fe.terminator_end=ve(fe.end)||"",fe.endsWithParent&&nn.terminator_end&&(fe.terminator_end+=(fe.end?"|":"")+nn.terminator_end)),fe.illegal&&(fe.illegalRe=we(fe.illegal)),null==fe.relevance&&(fe.relevance=1),fe.contains||(fe.contains=[]),fe.contains=Array.prototype.concat.apply([],fe.contains.map(function(En){return mt("self"===En?fe:En)})),fe.contains.forEach(function(En){Rt(En,fe)}),fe.starts&&Rt(fe.starts,nn),fe.terminators=function ze(fe){var En,nn={},kt=[],Be={},v=1;function S(re,Bt){nn[v]=re,kt.push([re,Bt]),v+=function Ae(fe){return new RegExp(fe.toString()+"|").exec("").length-1}(Bt)+1}for(var ie,A=0;A<fe.contains.length;A++)S(ie=fe.contains[A],ie.beginKeywords?"\\.?(?:"+ie.begin+")\\.?":ie.begin);fe.terminator_end&&S("end",fe.terminator_end),fe.illegal&&S("illegal",fe.illegal);var gt=kt.map(function(re){return re[1]});return En=we(function Ce(fe,nn){for(var En=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,kt=0,Be="",v=0;v<fe.length;v++){var S=kt+=1,ie=ve(fe[v]);for(v>0&&(Be+=nn),Be+="(";ie.length>0;){var A=En.exec(ie);if(null==A){Be+=ie;break}Be+=ie.substring(0,A.index),ie=ie.substring(A.index+A[0].length),"\\"==A[0][0]&&A[1]?Be+="\\"+String(Number(A[1])+S):(Be+=A[0],"("==A[0]&&kt++)}Be+=")"}return Be}(gt,"|"),!0),Be.lastIndex=0,Be.exec=function(re){var Bt;if(0===kt.length)return null;En.lastIndex=Be.lastIndex;var At=En.exec(re);if(!At)return null;for(var _e=0;_e<At.length;_e++)if(null!=At[_e]&&null!=nn[""+_e]){Bt=nn[""+_e];break}return"string"==typeof Bt?(At.type=Bt,At.extra=[fe.illegal,fe.terminator_end]):(At.type="begin",At.rule=Bt),At},Be}(fe))}(Q)}function gi(Q,ve,we,Ae){(function wr(){if(We.hideUpgradeWarningAcceptNoSupportOrSecurityUpdates||"object"==typeof process&&"object"==typeof process.env&&process.env.HLJS_HIDE_UPGRADE_WARNING)return!0})()||Dt||(Dt=!0,console.log("Version 9 of Highlight.js has reached EOL and is no longer supported.\nPlease upgrade or ask whatever dependency you are using to upgrade.\nhttps://github.com/highlightjs/highlight.js/issues/2877"));var Ce=ve;function Rt(H,Ge){if(function Nt(Q,ve){var we=Q&&Q.exec(ve);return we&&0===we.index}(H.endRe,Ge)){for(;H.endsParent&&H.parent;)H=H.parent;return H}if(H.endsWithParent)return Rt(H.parent,Ge)}function fe(H,Ge){var et=gt.case_insensitive?Ge[0].toLowerCase():Ge[0];return H.keywords.hasOwnProperty(et)&&H.keywords[et]}function nn(H,Ge,et,Jt){if(!et&&""===Ge)return"";if(!H)return Ge;var Ue='<span class="'+(Jt?"":We.classPrefix);return(Ue+=H+'">')+Ge+(et?"":Ve)}function Be(){At+=null!=re.subLanguage?function kt(){var H="string"==typeof re.subLanguage;if(H&&!Yn[re.subLanguage])return xe(at);var Ge=H?gi(re.subLanguage,at,!0,Bt[re.subLanguage]):Sr(at,re.subLanguage.length?re.subLanguage:void 0);return re.relevance>0&&(wn+=Ge.relevance),H&&(Bt[re.subLanguage]=Ge.top),nn(Ge.language,Ge.value,!1,!0)}():function En(){var H,Ge,et,Jt;if(!re.keywords)return xe(at);for(Jt="",Ge=0,re.lexemesRe.lastIndex=0,et=re.lexemesRe.exec(at);et;)Jt+=xe(at.substring(Ge,et.index)),(H=fe(re,et))?(wn+=H[1],Jt+=nn(H[0],xe(et[0]))):Jt+=xe(et[0]),Ge=re.lexemesRe.lastIndex,et=re.lexemesRe.exec(at);return Jt+xe(at.substr(Ge))}(),at=""}function v(H){At+=H.className?nn(H.className,"",!0):"",re=Object.create(H,{parent:{value:re}})}function ie(H){var Ge=H[0],et=Ce.substr(H.index),Jt=Rt(re,et);if(Jt){var Gt=re;Gt.skip?at+=Ge:(Gt.returnEnd||Gt.excludeEnd||(at+=Ge),Be(),Gt.excludeEnd&&(at=Ge));do{re.className&&(At+=Ve),!re.skip&&!re.subLanguage&&(wn+=re.relevance),re=re.parent}while(re!==Jt.parent);return Jt.starts&&(Jt.endSameAsBegin&&(Jt.starts.endRe=Jt.endRe),v(Jt.starts)),Gt.returnEnd?0:Ge.length}}var A={};function U(H,Ge){var et=Ge&&Ge[0];if(at+=H,null==et)return Be(),0;if("begin"==A.type&&"end"==Ge.type&&A.index==Ge.index&&""===et||"illegal"===A.type&&""===et)return at+=Ce.slice(Ge.index,Ge.index+1),1;if(A=Ge,"begin"===Ge.type)return function S(H){var Ge=H[0],et=H.rule;return et&&et.endSameAsBegin&&(et.endRe=function ze(H){return new RegExp(H.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}(Ge)),et.skip?at+=Ge:(et.excludeBegin&&(at+=Ge),Be(),!et.returnBegin&&!et.excludeBegin&&(at=Ge)),v(et),et.returnBegin?0:Ge.length}(Ge);if("illegal"===Ge.type&&!we)throw new Error('Illegal lexeme "'+et+'" for mode "'+(re.className||"<unnamed>")+'"');if("end"===Ge.type){var Jt=ie(Ge);if(null!=Jt)return Jt}return at+=et,et.length}var gt=Ze(Q);if(!gt)throw console.error(Re.replace("{}",Q)),new Error('Unknown language: "'+Q+'"');mi(gt);var _e,re=Ae||gt,Bt={},At="";for(_e=re;_e!==gt;_e=_e.parent)_e.className&&(At=nn(_e.className,"",!0)+At);var at="",wn=0;try{for(var Li,F,Un=0;re.terminators.lastIndex=Un,Li=re.terminators.exec(Ce);)F=U(Ce.substring(Un,Li.index),Li),Un=Li.index+F;for(U(Ce.substr(Un)),_e=re;_e.parent;_e=_e.parent)_e.className&&(At+=Ve);return{relevance:wn,value:At,illegal:!1,language:Q,top:re}}catch(H){if(H.message&&-1!==H.message.indexOf("Illegal"))return{illegal:!0,relevance:0,value:xe(Ce)};if(Et)return{relevance:0,value:xe(Ce),language:Q,top:re,errorRaised:H};throw H}}function Sr(Q,ve){ve=ve||We.languages||ae(Yn);var we={relevance:0,value:xe(Q)},Ae=we;return ve.filter(Ze).filter(ki).forEach(function(Ce){var ze=gi(Ce,Q,!1);ze.language=Ce,ze.relevance>Ae.relevance&&(Ae=ze),ze.relevance>we.relevance&&(Ae=we,we=ze)}),Ae.language&&(we.second_best=Ae),we}function Pi(Q){return We.tabReplace||We.useBR?Q.replace(Vt,function(ve,we){return We.useBR&&"\n"===ve?"<br>":We.tabReplace?we.replace(/\t/g,We.tabReplace):""}):Q}function Wt(Q){var ve,we,Ae,Ce,ze,Rt=function rt(Q){var ve,we,Ae,Ce,ze=Q.className+" ";if(we=Se.exec(ze+=Q.parentNode?Q.parentNode.className:"")){var Rt=Ze(we[1]);return Rt||(console.warn(Re.replace("{}",we[1])),console.warn("Falling back to no-highlight mode for this block.",Q)),Rt?we[1]:"no-highlight"}for(ve=0,Ae=(ze=ze.split(/\s+/)).length;ve<Ae;ve++)if(pt(Ce=ze[ve])||Ze(Ce))return Ce}(Q);pt(Rt)||(We.useBR?(ve=document.createElement("div")).innerHTML=Q.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n"):ve=Q,ze=ve.textContent,Ae=Rt?gi(Rt,ze,!0):Sr(ze),(we=Pe(ve)).length&&((Ce=document.createElement("div")).innerHTML=Ae.value,Ae.value=function Fe(Q,ve,we){var Ae=0,Ce="",ze=[];function Rt(){return Q.length&&ve.length?Q[0].offset!==ve[0].offset?Q[0].offset<ve[0].offset?Q:ve:"start"===ve[0].event?Q:ve:Q.length?Q:ve}function fe(Be){Ce+="<"+ut(Be)+Pt.map.call(Be.attributes,function v(S){return" "+S.nodeName+'="'+xe(S.value).replace(/"/g,"&quot;")+'"'}).join("")+">"}function nn(Be){Ce+="</"+ut(Be)+">"}function En(Be){("start"===Be.event?fe:nn)(Be.node)}for(;Q.length||ve.length;){var kt=Rt();if(Ce+=xe(we.substring(Ae,kt[0].offset)),Ae=kt[0].offset,kt===Q){ze.reverse().forEach(nn);do{En(kt.splice(0,1)[0]),kt=Rt()}while(kt===Q&&kt.length&&kt[0].offset===Ae);ze.reverse().forEach(fe)}else"start"===kt[0].event?ze.push(kt[0].node):ze.pop(),En(kt.splice(0,1)[0])}return Ce+xe(we.substr(Ae))}(we,Pe(Ce),ze)),Ae.value=Pi(Ae.value),Q.innerHTML=Ae.value,Q.className=function xr(Q,ve,we){var Ae=ve?xt[ve]:we,Ce=[Q.trim()];return Q.match(/\bhljs\b/)||Ce.push("hljs"),-1===Q.indexOf(Ae)&&Ce.push(Ae),Ce.join(" ").trim()}(Q.className,Rt,Ae.language),Q.result={language:Ae.language,re:Ae.relevance},Ae.second_best&&(Q.second_best={language:Ae.second_best.language,re:Ae.second_best.relevance}))}function Oi(){if(!Oi.called){Oi.called=!0;var Q=document.querySelectorAll("pre code");Pt.forEach.call(Q,Wt)}}var Vi={disableAutodetect:!0};function Ze(Q){return Q=(Q||"").toLowerCase(),Yn[Q]||Yn[xt[Q]]}function ki(Q){var ve=Ze(Q);return ve&&!ve.disableAutodetect}function ei(Q){Object.freeze(Q);var ve="function"==typeof Q;return Object.getOwnPropertyNames(Q).forEach(function(we){Q.hasOwnProperty(we)&&null!==Q[we]&&("object"==typeof Q[we]||"function"==typeof Q[we])&&(!ve||"caller"!==we&&"callee"!==we&&"arguments"!==we)&&!Object.isFrozen(Q[we])&&ei(Q[we])}),Q}return le.highlight=gi,le.highlightAuto=Sr,le.fixMarkup=Pi,le.highlightBlock=Wt,le.configure=function kr(Q){We=ge(We,Q)},le.initHighlighting=Oi,le.initHighlightingOnLoad=function aa(){window.addEventListener("DOMContentLoaded",Oi,!1),window.addEventListener("load",Oi,!1)},le.registerLanguage=function Ct(Q,ve){var we;try{we=ve(le)}catch(Ae){if(console.error("Language definition for '{}' could not be registered.".replace("{}",Q)),!Et)throw Ae;console.error(Ae),we=Vi}Yn[Q]=we,we.rawDefinition=ve.bind(null,le),we.aliases&&we.aliases.forEach(function(Ae){xt[Ae]=Q})},le.listLanguages=function de(){return ae(Yn)},le.getLanguage=Ze,le.requireLanguage=function xi(Q){var ve=Ze(Q);if(ve)return ve;throw new Error("The '{}' language is required, but not loaded.".replace("{}",Q))},le.autoDetection=ki,le.inherit=ge,le.debugMode=function(){Et=!1},le.IDENT_RE="[a-zA-Z]\\w*",le.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",le.NUMBER_RE="\\b\\d+(\\.\\d+)?",le.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",le.BINARY_NUMBER_RE="\\b(0b[01]+)",le.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",le.BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},le.APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[le.BACKSLASH_ESCAPE]},le.QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[le.BACKSLASH_ESCAPE]},le.PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},le.COMMENT=function(Q,ve,we){var Ae=le.inherit({className:"comment",begin:Q,end:ve,contains:[]},we||{});return Ae.contains.push(le.PHRASAL_WORDS_MODE),Ae.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0}),Ae},le.C_LINE_COMMENT_MODE=le.COMMENT("//","$"),le.C_BLOCK_COMMENT_MODE=le.COMMENT("/\\*","\\*/"),le.HASH_COMMENT_MODE=le.COMMENT("#","$"),le.NUMBER_MODE={className:"number",begin:le.NUMBER_RE,relevance:0},le.C_NUMBER_MODE={className:"number",begin:le.C_NUMBER_RE,relevance:0},le.BINARY_NUMBER_MODE={className:"number",begin:le.BINARY_NUMBER_RE,relevance:0},le.CSS_NUMBER_MODE={className:"number",begin:le.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},le.REGEXP_MODE={className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[le.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[le.BACKSLASH_ESCAPE]}]},le.TITLE_MODE={className:"title",begin:le.IDENT_RE,relevance:0},le.UNDERSCORE_TITLE_MODE={className:"title",begin:le.UNDERSCORE_IDENT_RE,relevance:0},le.METHOD_GUARD={begin:"\\.\\s*"+le.UNDERSCORE_IDENT_RE,relevance:0},[le.BACKSLASH_ESCAPE,le.APOS_STRING_MODE,le.QUOTE_STRING_MODE,le.PHRASAL_WORDS_MODE,le.COMMENT,le.C_LINE_COMMENT_MODE,le.C_BLOCK_COMMENT_MODE,le.HASH_COMMENT_MODE,le.NUMBER_MODE,le.C_NUMBER_MODE,le.BINARY_NUMBER_MODE,le.CSS_NUMBER_MODE,le.REGEXP_MODE,le.TITLE_MODE,le.UNDERSCORE_TITLE_MODE,le.METHOD_GUARD].forEach(function(Q){ei(Q)}),le});